{"remainingRequest":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\src\\layout\\Tags\\index.vue?vue&type=template&id=ec7b4710&scoped=true","dependencies":[{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\src\\layout\\Tags\\index.vue","mtime":1654054537000},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\unplugin\\dist\\webpack\\loaders\\transform.js","mtime":1749726393299},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\unplugin\\dist\\webpack\\loaders\\transform.js","mtime":1749726393299},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\unplugin\\dist\\webpack\\loaders\\transform.js","mtime":1749726393299},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\unplugin\\dist\\webpack\\loaders\\transform.js","mtime":1749726393299},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1749726397539},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1749726398436},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\templateLoader.js","mtime":1749726395074},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1749726397539},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1749726393897}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CiAgPGRpdiBjbGFzcz0idGFncy13cmFwcGVyIiB2LWlmPSJBcHBTZXR0aW5nU3RvcmUuaXNTaG93VGFnTGlzdCAmJiB0YWdMaXN0Lmxlbmd0aCA+IDAiPgogICAgPHRyYW5zaXRpb24tZ3JvdXAgdGFnPSJkaXYiIG5hbWU9InRhZy1mYWRlIiBjbGFzcz0idGFncy1saXN0IiBtb2RlPSJvdXQtaW4iPgogICAgICA8ZGl2IGNsYXNzPSJ0YWctaXRlbSIgdi1mb3I9Iih0YWcsaW5kZXgpIGluIHRhZ0xpc3QiIDprZXk9InRhZy5wYXRoIiA6Y2xhc3M9InsnYWN0aXZlLXRhZyc6aXNBY3RpdmUodGFnKX0iPgogICAgICAgIDxyb3V0ZXItbGluayA6dG89InRhZy5wYXRoIj57e3RhZy50aXRsZX19PC9yb3V0ZXItbGluaz4KICAgICAgICA8aSBjbGFzcz0iZWwtaWNvbi14amgtY2xvc2UgdGFnLWRlbGV0ZS1pY29uIiBAY2xpY2s9ImNsb3NlVGFnKGluZGV4KSI+PC9pPgogICAgICA8L2Rpdj4KICAgIDwvdHJhbnNpdGlvbi1ncm91cD4KICA8L2Rpdj4K"},{"version":3,"sources":["D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\src\\layout\\Tags\\index.vue"],"names":[],"mappings":";EACE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC;IAClF,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACzE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACxG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACtD,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MAC3E,CAAC,CAAC,CAAC,CAAC,CAAC;IACP,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EACpB,CAAC,CAAC,CAAC,CAAC,CAAC","file":"D:/桌面/前端交互/final/LibraryManagementSystem-master/Library-vue/src/layout/Tags/index.vue","sourceRoot":"","sourcesContent":["<template>\n  <div class=\"tags-wrapper\" v-if=\"AppSettingStore.isShowTagList && tagList.length > 0\">\n    <transition-group tag=\"div\" name=\"tag-fade\" class=\"tags-list\" mode=\"out-in\">\n      <div class=\"tag-item\" v-for=\"(tag,index) in tagList\" :key=\"tag.path\" :class=\"{'active-tag':isActive(tag)}\">\n        <router-link :to=\"tag.path\">{{tag.title}}</router-link>\n        <i class=\"el-icon-xjh-close tag-delete-icon\" @click=\"closeTag(index)\"></i>\n      </div>\n    </transition-group>\n  </div>\n</template>\n\n<script>\nimport {useAppSettingStore} from '@/store/useAppSettingStore'\nimport {useRouter,useRoute} from \"vue-router\";\nimport {watch} from 'vue'\nimport {storeToRefs} from \"pinia\";\n\nexport default {\n  name: \"Tags\",\n  setup(){\n    const route = useRoute()\n    const router = useRouter()\n    const AppSettingStore = useAppSettingStore()\n\n    // 获取store中的标签列表\n    const {tagList} = storeToRefs(AppSettingStore)\n\n    // 判断标签是否为当前页面\n    const isActive = (tag)=>{\n      return tag.path === route.path\n    }\n\n    // 根据当前的路由项设置标签\n    function setTag(routeItem){\n      // 判断路由对象是否合理，有条件变为一个tag\n      if(routeItem.meta && routeItem.path && routeItem.meta.title){\n        if(routeItem.meta.showInTag === false){\n          // 配置不显示该路由tag\n          return;\n        }\n        // 判断跳转的路由是否已经在导标签中存在\n        const isExist = AppSettingStore.isExistTag(routeItem)\n        if(!isExist){\n          // 不存在重复的标签则添加\n          AppSettingStore.addTag(routeItem)\n        }\n      }\n    }\n    watch(()=>route.path,()=>{\n      // 每当路由更新后调用设置路由的方法\n      setTag(route)\n    },{immediate: true,deep: true})\n\n    // 关闭某一个标签\n    const closeTag = (index) =>{\n      const delItem = tagList.value[index]\n      // 删除该标签\n      AppSettingStore.delTags(index,1)\n      // 标签被删除后下一个展示的标签\n      const nextShowItem = tagList.value[index] ? tagList.value[index] : tagList.value[index - 1]\n      if(nextShowItem){\n        // 当前删除的路由和标签一致，则跳转到下一个标签\n        delItem.path === route.path && router.push(nextShowItem.path)\n      }else{\n        router.push(\"/\")\n      }\n    }\n\n    return {\n      AppSettingStore,isActive,closeTag,tagList\n    }\n  }\n}\n</script>\n\n<style scoped lang=\"scss\">\n@import \"~@/layout/variable.scss\";\n.tags-wrapper{\n  position: relative;\n  height: $tagDivHeight;\n  overflow: hidden;\n  background: #ffffff;\n  box-shadow: 0 5px 5px #ddd;\n  .tags-list{\n    box-sizing: border-box;\n    width: 100%;\n    height: 100%;\n    display: flex;\n    align-items: center;\n    // 标签消息的动画\n    .tag-item{\n      white-space:nowrap;\n      width: auto;\n      margin: 3px 5px 2px 3px;\n      border-radius: 3px;\n      font-size: 12px;\n      overflow: hidden;\n      cursor: pointer;\n      line-height: $tagHeight;\n      border: 1px solid #e9eaec;\n      background: #fff;\n      padding: 0 5px 0 12px;\n      vertical-align: middle;\n      color: #666;\n      a{\n        text-decoration: none;\n        color: inherit;\n      }\n      .tag-delete-icon{\n        font-size: 14px;\n        line-height: $tagHeight;\n      }\n      &.active-tag{\n        color: #fff;\n        border: 1px solid #409EFF;\n        background-color: #409EFF;\n      }\n      &:not(.active-tag):hover{\n        background: #f8f8f8;\n      }\n    }\n  }\n}\n// tag的标签添加和删除的动画\n.tag-fade-leave-active,.tag-fade-enter-active{\n  transition: all .3s ease-in-out;\n}\n.tag-fade-leave-from{\n  transform: scale(1);\n}\n.tag-fade-leave-to{\n  transform: scale(0);\n}\n.tag-fade-enter-from{\n  opacity: 0;\n}\n.tag-fade-enter-to{\n  opacity: 1;\n}\n</style>\n"]}]}