{"remainingRequest":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\src\\views\\admin\\AddBook\\index.vue?vue&type=style&index=0&id=30062a23&scoped=true&lang=scss","dependencies":[{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\src\\views\\admin\\AddBook\\index.vue","mtime":1654054537000},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\css-loader\\dist\\cjs.js","mtime":1749726397077},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\stylePostLoader.js","mtime":1749726394932},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\postcss-loader\\src\\index.js","mtime":1749726394615},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\sass-loader\\dist\\cjs.js","mtime":1749726393347},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1749726397539},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1749726393897}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ci5hZGRCb29rewogIHBhZGRpbmc6IDIwcHggMzBweCAzMHB4IDIwcHg7Cn0K"},{"version":3,"sources":["D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\src\\views\\admin\\AddBook\\index.vue"],"names":[],"mappings":";AAwGA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EACN,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;AAC9B","file":"D:/桌面/前端交互/final/LibraryManagementSystem-master/Library-vue/src/views/admin/AddBook/index.vue","sourceRoot":"","sourcesContent":["<template>\n  <div class=\"addBook\">\n    <el-card>\n      <el-form label-position=\"left\" label-width=\"auto\" size=\"large\">\n        <el-form-item label=\"标题\">\n          <el-input v-model=\"book.name\" placeholder=\"请输入图书标题\" clearable></el-input>\n        </el-form-item>\n        <el-form-item label=\"分类\">\n          <el-select v-model=\"book.typeId\" placeholder=\"选择图书分类\" clearable>\n            <el-option\n                v-for=\"type in bookTypeList\" :key=\"type.id\"\n                :label=\"type.name\" :value=\"type.id\">\n            </el-option>\n          </el-select>\n        </el-form-item>\n        <el-form-item label=\"作者\">\n          <el-input v-model=\"book.author\" placeholder=\"请输入图书作者\" clearable></el-input>\n        </el-form-item>\n        <el-form-item label=\"出版社\">\n          <el-input v-model=\"book.press\" placeholder=\"请输入图书出版社\" clearable></el-input>\n        </el-form-item>\n        <el-form-item label=\"ISBN\">\n          <el-input v-model=\"book.isbn\" placeholder=\"请输入图书ISBN号\" clearable></el-input>\n        </el-form-item>\n        <el-form-item label=\"出版时间\">\n          <el-date-picker v-model=\"book.publishTime\" type=\"date\" placeholder=\"请选择出版日期\" format=\"YYYY-MM-DD\" value-format=\"YYYY-MM-DD\" clearable />\n        </el-form-item>\n        <el-form-item label=\"简介\">\n          <el-input v-model=\"book.description\" placeholder=\"请输入图书简介\" clearable></el-input>\n        </el-form-item>\n        <el-form-item label=\"定价\">\n          <el-input v-model=\"book.price\" placeholder=\"请输入图书定价\" clearable></el-input>\n        </el-form-item>\n        <el-form-item label=\"数量\">\n          <el-input-number v-model=\"book.stockNum\" placeholder=\"请输入图书数量\" :min=\"1\"></el-input-number>\n        </el-form-item>\n        <el-button type=\"primary\" @click=\"addBook\">添加</el-button>\n        <el-button @click=\"reset\">重置</el-button>\n      </el-form>\n    </el-card>\n  </div>\n</template>\n\n<script>\nimport {markRaw, onBeforeMount, shallowReactive} from \"vue\";\nimport {getBookTypeApi} from \"@/api/borrower\";\nimport {addBookApi} from \"@/api/admin\";\nimport {ElMessage} from \"element-plus\";\nimport {useRouter} from \"vue-router\";\nimport {copyProperties} from \"@/utils\";\n\nexport default {\n  name: \"AddBook\",\n  setup(){\n    const router = useRouter()\n    // 图书表单的默认值\n    const defaultBookValue = ()=>({\n      typeId: '',\n      isbn: '',\n      name: '',\n      author: '',\n      press: '',\n      price: '',\n      publishTime: '',\n      description: '',\n      stockNum: 1\n    })\n    const book = shallowReactive(defaultBookValue())\n    function addBook(){\n      addBookApi(markRaw(book))\n        .then(res=>{\n          ElMessage({type: 'success',duration: 5000,message: res.message,showClose: true})\n          router.push({name: 'AllBook'})\n        })\n    }\n\n    // 存储图书分类的数组\n    const bookTypeList = shallowReactive([])\n    function getBookType(){\n      getBookTypeApi()\n          .then(res=>{\n            if(Array.isArray(res.data.types)){\n              bookTypeList.splice(0,bookTypeList.length,...res.data.types)\n            }\n          })\n    }\n    onBeforeMount(()=>{\n      getBookType()\n    })\n\n    // 重置表单\n    function reset(){\n      copyProperties(defaultBookValue(),book)\n    }\n\n    return {\n      book,bookTypeList,addBook,\n      reset\n    }\n  }\n}\n</script>\n\n<style scoped lang=\"scss\">\n.addBook{\n  padding: 20px 30px 30px 20px;\n}\n</style>\n"]}]}