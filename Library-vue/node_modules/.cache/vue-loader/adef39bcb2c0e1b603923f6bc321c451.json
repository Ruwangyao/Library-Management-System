{"remainingRequest":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\src\\views\\Login\\index.vue?vue&type=style&index=0&id=aeba673c&scoped=true&lang=scss","dependencies":[{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\src\\views\\Login\\index.vue","mtime":1654054537000},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\css-loader\\dist\\cjs.js","mtime":1749726397077},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\stylePostLoader.js","mtime":1749726394932},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\postcss-loader\\src\\index.js","mtime":1749726394615},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\sass-loader\\dist\\cjs.js","mtime":1749726393347},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1749726397539},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1749726393897}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ci5sb2dpbi13cmFwcGVyewogIHdpZHRoOiAxMDAlOwogIGhlaWdodDogMTAwJTsKICBkaXNwbGF5OiBmbGV4OwogIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7CiAgLmNvbnRlbnR7CiAgICB3aWR0aDogNTIwcHg7CiAgICBtYXJnaW4tYm90dG9tOiAxMCU7CiAgICAudGl0bGV7CiAgICAgIGZvbnQtc2l6ZTogMjZweDsKICAgICAgdGV4dC1hbGlnbjogY2VudGVyOwogICAgICBtYXJnaW46IDAgYXV0byA0MHB4IGF1dG87CiAgICAgIGZvbnQtd2VpZ2h0OiBib2xkOwogICAgfQogIH0KfQo="},{"version":3,"sources":["D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\src\\views\\Login\\index.vue"],"names":[],"mappings":";AA0HA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EACZ,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;EACX,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;EACZ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;EACb,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EACnB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EACvB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACN,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;IACZ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IAClB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACJ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;MACf,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MAClB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;MACxB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;IACnB;EACF;AACF","file":"D:/桌面/前端交互/final/LibraryManagementSystem-master/Library-vue/src/views/Login/index.vue","sourceRoot":"","sourcesContent":["<template>\n  <div class=\"login-wrapper\">\n    <div class=\"content\">\n      <div class=\"title\">图书管理系统</div>\n      <el-tabs type=\"border-card\" v-model=\"currentTabName\">\n        <el-tab-pane label=\"登录\" lazy name=\"login\">\n          <el-form\n              ref=\"loginFormRef\"\n              :model=\"loginForm\"\n              :rules=\"loginFormRules\"\n              label-width=\"auto\"\n              label-position=\"left\">\n            <el-form-item prop=\"username\" label=\"用户名\">\n              <el-input v-model=\"loginForm.username\" placeholder=\"用户名\"></el-input>\n            </el-form-item>\n            <el-form-item prop=\"password\" label=\"密码\">\n              <el-input v-model=\"loginForm.password\" placeholder=\"密码\" type=\"password\" show-password></el-input>\n            </el-form-item>\n            <el-button style=\"width: 100%\" type=\"primary\" @click=\"login\">登录</el-button>\n          </el-form>\n        </el-tab-pane>\n        <el-tab-pane label=\"注册\" lazy name=\"register\">\n          <el-form\n              ref=\"registerFormRef\"\n              :model=\"registerForm\"\n              :rules=\"registerFormRules\"\n              label-width=\"auto\"\n              label-position=\"left\">\n            <el-form-item prop=\"username\" label=\"用户名\">\n              <el-input v-model=\"registerForm.username\" placeholder=\"请输入用户名\"></el-input>\n            </el-form-item>\n            <el-form-item prop=\"password\" label=\"密码\">\n              <el-input v-model=\"registerForm.password\" placeholder=\"请输入密码\" type=\"password\" show-password></el-input>\n            </el-form-item>\n            <el-form-item prop=\"confirmPassword\" label=\"确认密码\">\n              <el-input v-model=\"registerForm.confirmPassword\" placeholder=\"请确认密码\" type=\"password\" show-password></el-input>\n            </el-form-item>\n            <el-form-item prop=\"email\" label=\"邮箱\">\n              <el-input v-model=\"registerForm.email\" placeholder=\"请输入邮箱\"></el-input>\n            </el-form-item>\n          </el-form>\n          <el-button style=\"width: 100%\" type=\"primary\" @click=\"register\">注册</el-button>\n        </el-tab-pane>\n      </el-tabs>\n    </div>\n  </div>\n</template>\n\n<script>\nimport {shallowReactive, markRaw, shallowRef} from 'vue'\nimport {useRouter} from 'vue-router'\nimport {setToken} from \"@/utils/auth\";\nimport {loginApi, registerApi} from \"@/api/user\";\nimport {ElMessage} from \"element-plus\";\n\nexport default {\n  name: \"Login\",\n  setup(){\n    const router = useRouter()\n    // 当前选项卡的名字，默认为登录选项卡\n    const currentTabName = shallowRef(\"login\")\n\n    // 登录 部分\n    const loginFormRef = shallowRef()\n    const loginForm = shallowReactive({\n      username: '',\n      password: ''\n    })\n    const loginFormRules = {\n      username: [{required: true,trigger:'blur',message: '用户名不能为空'}],\n      password: [{required: true,trigger:'blur',message: '密码不能为空'}]\n    }\n    // 具体登录的逻辑\n    const login = () =>{\n      loginFormRef.value.validate(isValid=>{\n        if(isValid){\n          loginApi(markRaw(loginForm))\n              .then(res=>{\n                setToken(res.data.token)\n                router.push(\"/\")\n              })\n        }\n      })\n    }\n\n    // 注册部分\n    const registerFormRef = shallowRef()\n    const registerForm = shallowReactive({\n      username: '',\n      password: '',\n      confirmPassword: '',\n      email: ''\n    })\n    const registerFormRules = {\n      username: [{required: true,trigger:'blur',message: '用户名不能为空'}],\n      password: [{required: true,trigger:'blur',message: '密码不能为空'}],\n      confirmPassword: [{required: true,trigger:'blur',message: '密码不能为空'}],\n      email: [{required: true,trigger:'blur',message: '邮箱格式不能为空'},{type: 'email',trigger: 'blur',message: '邮箱格式不正确'}]\n    }\n    function register(){\n      registerFormRef.value.validate(isValid=>{\n        if(isValid){\n          registerApi(markRaw(registerForm))\n            .then(res=>{\n              ElMessage({type: 'success',duration: 5000,showClose: true,message: res.message})\n              // 将选项卡切换到login页面\n              currentTabName.value = \"login\"\n            })\n        }\n      })\n    }\n\n    return {\n      currentTabName,\n      loginForm,loginFormRules, login,loginFormRef,\n      registerFormRef,registerForm,registerFormRules,register\n    }\n  }\n}\n</script>\n\n<style scoped lang=\"scss\">\n.login-wrapper{\n  width: 100%;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  .content{\n    width: 520px;\n    margin-bottom: 10%;\n    .title{\n      font-size: 26px;\n      text-align: center;\n      margin: 0 auto 40px auto;\n      font-weight: bold;\n    }\n  }\n}\n</style>\n"]}]}