{"remainingRequest":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\babel-loader\\lib\\index.js!D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\src\\views\\admin\\AllBook\\index.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\src\\views\\admin\\AllBook\\index.vue","mtime":1749759858520},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\unplugin\\dist\\webpack\\loaders\\transform.js","mtime":1749726393299},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\unplugin\\dist\\webpack\\loaders\\transform.js","mtime":1749726393299},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\unplugin\\dist\\webpack\\loaders\\transform.js","mtime":1749726393299},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\unplugin\\dist\\webpack\\loaders\\transform.js","mtime":1749726393299},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1749726397539},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1749726398436},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1749726397539},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1749726393897},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\babel.config.js","mtime":1750002481133},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\unplugin\\dist\\webpack\\loaders\\transform.js","mtime":1749726393299},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\unplugin\\dist\\webpack\\loaders\\transform.js","mtime":1749726393299},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\unplugin\\dist\\webpack\\loaders\\transform.js","mtime":1749726393299},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\unplugin\\dist\\webpack\\loaders\\transform.js","mtime":1749726393299},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1749726397539},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1749726398436},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1749726397539},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1749726393897}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tICJEOi9cdTY4NENcdTk3NjIvXHU1MjREXHU3QUVGXHU0RUE0XHU0RTkyL2ZpbmFsL0xpYnJhcnlNYW5hZ2VtZW50U3lzdGVtLW1hc3Rlci9MaWJyYXJ5LXZ1ZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vdG9Db25zdW1hYmxlQXJyYXkuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zcGxpY2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0IHsgdXNlUm91dGVyIH0gZnJvbSAndnVlLXJvdXRlcic7CmltcG9ydCB7IG9uTW91bnRlZCwgc2hhbGxvd1JlYWN0aXZlLCBzaGFsbG93UmVmLCBvbkJlZm9yZU1vdW50IH0gZnJvbSAndnVlJzsKaW1wb3J0IHsgZ2V0UGFnZUJvb2tJbmZvQXBpLCBnZXRCb29rVHlwZUFwaSB9IGZyb20gIkAvYXBpL2JvcnJvd2VyIjsKaW1wb3J0IHsgYWRkQm9va1N0b2NrQXBpLCBib29rT3V0U3RvY2tBcGksIHJlbW92ZUJvb2tBcGkgfSBmcm9tICJAL2FwaS9hZG1pbiI7CmltcG9ydCB7IFBpY3R1cmUgYXMgSWNvblBpY3R1cmUgfSBmcm9tICdAZWxlbWVudC1wbHVzL2ljb25zLXZ1ZSc7CmltcG9ydCB7IEVsTWVzc2FnZSwgRWxMb2FkaW5nLCBFbE1lc3NhZ2VCb3ggfSBmcm9tICdlbGVtZW50LXBsdXMnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkFsbEJvb2siLAogIGNvbXBvbmVudHM6IHsKICAgIEljb25QaWN0dXJlOiBJY29uUGljdHVyZQogIH0sCiAgc2V0dXA6IGZ1bmN0aW9uIHNldHVwKCkgewogICAgLy8g5a2Y5YKo5Zu+5Lmm5L+h5oGv55qE5pWw57uECiAgICB2YXIgYm9va0xpc3QgPSBzaGFsbG93UmVhY3RpdmUoW10pOyAvLyDooajljZXlr7nosaHvvIznlKjkuo7mmL7npLrliqDovb3liqjnlLsKCiAgICB2YXIgdGFibGVSZWYgPSBzaGFsbG93UmVmKCk7IC8vIOiOt+WPluWbvuS5puS/oeaBrwoKICAgIGZ1bmN0aW9uIGdldFBhZ2VCb29rSW5mbygpIHsKICAgICAgLy8g5YWI5riF56m65pWw5o2uCiAgICAgIGJvb2tMaXN0LnNwbGljZSgwLCBib29rTGlzdC5sZW5ndGgpOwogICAgICB2YXIgbG9hZGluZ0luc3RhbmNlID0gRWxMb2FkaW5nLnNlcnZpY2UoewogICAgICAgIHRhcmdldDogdGFibGVSZWYudmFsdWUuJGVsCiAgICAgIH0pOwogICAgICBnZXRQYWdlQm9va0luZm9BcGkocGFnaW5hdGlvbi5jdXJyZW50LCBwYWdpbmF0aW9uLmxpbWl0LCBxdWVyeUZvcm0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIGlmIChBcnJheS5pc0FycmF5KHJlcy5kYXRhLnJlY29yZHMpKSB7CiAgICAgICAgICBib29rTGlzdC5wdXNoLmFwcGx5KGJvb2tMaXN0LCBfdG9Db25zdW1hYmxlQXJyYXkocmVzLmRhdGEucmVjb3JkcykpOwogICAgICAgICAgcGFnaW5hdGlvbi50b3RhbCA9IHJlcy5kYXRhLnRvdGFsOwogICAgICAgIH0KICAgICAgfSkuZmluYWxseShmdW5jdGlvbiAoKSB7CiAgICAgICAgbG9hZGluZ0luc3RhbmNlLmNsb3NlKCk7CiAgICAgIH0pOwogICAgfQoKICAgIG9uTW91bnRlZChmdW5jdGlvbiAoKSB7CiAgICAgIGdldFBhZ2VCb29rSW5mbygpOwogICAgfSk7IC8vIOWIhumhteaVsOaNrgoKICAgIHZhciBwYWdpbmF0aW9uID0gc2hhbGxvd1JlYWN0aXZlKHsKICAgICAgY3VycmVudDogMSwKICAgICAgbGltaXQ6IDE1LAogICAgICB0b3RhbDogMAogICAgfSk7IC8vIOmhteeggeaUueWPmOeahOS6i+S7tgoKICAgIGZ1bmN0aW9uIHBhZ2VDaGFuZ2UoKSB7CiAgICAgIGdldFBhZ2VCb29rSW5mbygpOwogICAgfSAvLyDnrZvpgInmnaHku7bnmoTooajljZUKCgogICAgdmFyIHF1ZXJ5Rm9ybSA9IHNoYWxsb3dSZWFjdGl2ZSh7CiAgICAgIGlzYm46ICcnLAogICAgICBhdXRob3I6ICcnLAogICAgICBuYW1lOiAnJywKICAgICAgdHlwZUlkOiAnJywKICAgICAgc29ydDogJzEnIC8vIOm7mOiupOaMieeFp+WHuueJiOaXpeacn+aOkuW6j++8iDE95Ye654mI5pel5pyf77yMMj3mm7TmlrDml7bpl7TvvIkKCiAgICB9KTsgLy8g5a2Y5YKo5Zu+5Lmm5YiG57G755qE5pWw57uECgogICAgdmFyIGJvb2tUeXBlTGlzdCA9IHNoYWxsb3dSZWFjdGl2ZShbXSk7CgogICAgZnVuY3Rpb24gZ2V0Qm9va1R5cGUoKSB7CiAgICAgIGdldEJvb2tUeXBlQXBpKCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkocmVzLmRhdGEudHlwZXMpKSB7CiAgICAgICAgICBib29rVHlwZUxpc3Quc3BsaWNlLmFwcGx5KGJvb2tUeXBlTGlzdCwgWzAsIGJvb2tUeXBlTGlzdC5sZW5ndGhdLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkocmVzLmRhdGEudHlwZXMpKSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0gLy8g5o+Q5Lqk6KGo5Y2V5p+l6K+i5Zu+5Lmm5L+h5oGvCgoKICAgIGZ1bmN0aW9uIHF1ZXJ5Qm9vaygpIHsKICAgICAgaWYgKHBhZ2luYXRpb24uY3VycmVudCAhPT0gMSkgewogICAgICAgIHBhZ2luYXRpb24uY3VycmVudCA9IDE7CiAgICAgIH0KCiAgICAgIGdldFBhZ2VCb29rSW5mbygpOwogICAgfQoKICAgIG9uQmVmb3JlTW91bnQoZnVuY3Rpb24gKCkgewogICAgICBnZXRCb29rVHlwZSgpOwogICAgfSk7IC8vIOihqOagvOe0ouW8leeahOaWueazlQoKICAgIGZ1bmN0aW9uIGluZGV4TWV0aG9kKGluZGV4KSB7CiAgICAgIHJldHVybiBpbmRleCArIDEgKyAocGFnaW5hdGlvbi5jdXJyZW50IC0gMSkgKiBwYWdpbmF0aW9uLmxpbWl0OwogICAgfQoKICAgIHZhciByb3V0ZXIgPSB1c2VSb3V0ZXIoKTsgLy8g5p+l55yL5Lmm57GN6K+m57uG5L+h5oGvCgogICAgZnVuY3Rpb24gZ2V0Qm9va0RldGFpbChib29rSWQpIHsKICAgICAgcm91dGVyLnB1c2goewogICAgICAgIG5hbWU6ICdCb29rRGV0YWlsJywKICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgIGJvb2tJZDogYm9va0lkCiAgICAgICAgfQogICAgICB9KTsKICAgIH0gLy8g5L+u5pS55Zu+5Lmm5Z+65pys5L+h5oGvCgoKICAgIGZ1bmN0aW9uIHVwZGF0ZUJvb2soYm9va0lkKSB7CiAgICAgIHJvdXRlci5wdXNoKHsKICAgICAgICBuYW1lOiAnVXBkYXRlQm9va0luZm8nLAogICAgICAgIHBhcmFtczogewogICAgICAgICAgYm9va0lkOiBib29rSWQKICAgICAgICB9CiAgICAgIH0pOwogICAgfSAvLyDmt7vliqDlupPlrZjnmoTlip/og70KCgogICAgdmFyIGFkZEJvb2tJbmZvID0gc2hhbGxvd1JlYWN0aXZlKHsKICAgICAgZGlhbG9nOiBmYWxzZSwKICAgICAgYm9va0lkOiBudWxsLAogICAgICBhZGROdW06IG51bGwKICAgIH0pOwoKICAgIGZ1bmN0aW9uIG9wZW5BZGRCb29rRGlhbG9nKGJvb2tJZCkgewogICAgICBhZGRCb29rSW5mby5ib29rSWQgPSBib29rSWQ7CiAgICAgIGFkZEJvb2tJbmZvLmFkZE51bSA9IDE7CiAgICAgIGFkZEJvb2tJbmZvLmRpYWxvZyA9IHRydWU7CiAgICB9CgogICAgZnVuY3Rpb24gYWRkQm9va0RpYWxvZ0Nsb3NlZCgpIHsKICAgICAgYWRkQm9va0luZm8uYWRkTnVtID0gbnVsbDsKICAgICAgYWRkQm9va0luZm8uZGlhbG9nID0gZmFsc2U7CiAgICAgIGFkZEJvb2tJbmZvLmJvb2tJZCA9IG51bGw7CiAgICB9IC8vIOa3u+WKoOW6k+WtmAoKCiAgICBmdW5jdGlvbiBhZGRCb29rU3RvY2soKSB7CiAgICAgIGFkZEJvb2tTdG9ja0FwaShhZGRCb29rSW5mby5ib29rSWQsIGFkZEJvb2tJbmZvLmFkZE51bSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgRWxNZXNzYWdlKHsKICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJywKICAgICAgICAgIGR1cmF0aW9uOiA1MDAwLAogICAgICAgICAgc2hvd0Nsb3NlOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogcmVzLm1lc3NhZ2UKICAgICAgICB9KTsgLy8g5Yi35paw5YiX6KGoCgogICAgICAgIGdldFBhZ2VCb29rSW5mbygpOyAvLyDlhbPpl63lr7nor53moYYKCiAgICAgICAgYWRkQm9va0luZm8uZGlhbG9nID0gZmFsc2U7CiAgICAgIH0pOwogICAgfSAvLyDlm77kuablh7rlupPlip/og70KCgogICAgdmFyIG91dEJvb2tJbmZvID0gc2hhbGxvd1JlYWN0aXZlKHsKICAgICAgZGlhbG9nOiBmYWxzZSwKICAgICAgYm9va0lkOiBudWxsLAogICAgICBudW06IG51bGwsCiAgICAgIG1heE51bTogbnVsbAogICAgfSk7CgogICAgZnVuY3Rpb24gb3Blbk91dEJvb2tEaWFsb2coYm9va0lkLCBtYXhOdW0pIHsKICAgICAgb3V0Qm9va0luZm8uYm9va0lkID0gYm9va0lkOwogICAgICBvdXRCb29rSW5mby5udW0gPSAxOwogICAgICBvdXRCb29rSW5mby5tYXhOdW0gPSBtYXhOdW07CiAgICAgIG91dEJvb2tJbmZvLmRpYWxvZyA9IHRydWU7CiAgICB9CgogICAgZnVuY3Rpb24gb3V0Qm9va0RpYWxvZ0Nsb3NlZCgpIHsKICAgICAgb3V0Qm9va0luZm8uZGlhbG9nID0gZmFsc2U7CiAgICAgIG91dEJvb2tJbmZvLmJvb2tJZCA9IG51bGw7CiAgICAgIG91dEJvb2tJbmZvLm51bSA9IG51bGw7CiAgICAgIG91dEJvb2tJbmZvLm1heE51bSA9IG51bGw7CiAgICB9IC8vIOWbvuS5puWHuuW6k+aOpeWPowoKCiAgICBmdW5jdGlvbiBvdXRCb29rKCkgewogICAgICBib29rT3V0U3RvY2tBcGkob3V0Qm9va0luZm8uYm9va0lkLCBvdXRCb29rSW5mby5udW0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIEVsTWVzc2FnZSh7CiAgICAgICAgICB0eXBlOiAnc3VjY2VzcycsCiAgICAgICAgICBkdXJhdGlvbjogNTAwMCwKICAgICAgICAgIHNob3dDbG9zZTogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6IHJlcy5tZXNzYWdlCiAgICAgICAgfSk7IC8vIOWIt+aWsOWIl+ihqAoKICAgICAgICBnZXRQYWdlQm9va0luZm8oKTsgLy8g5YWz6Zet5a+56K+d5qGGCgogICAgICAgIG91dEJvb2tJbmZvLmRpYWxvZyA9IGZhbHNlOwogICAgICB9KTsKICAgIH0gLy8g5Yig6Zmk5Zu+5Lmm5Yqf6IO9CgoKICAgIGZ1bmN0aW9uIGNvbmZpcm1SZW1vdmVCb29rKGJvb2tJZCkgewogICAgICBFbE1lc3NhZ2VCb3guY29uZmlybSgn56Gu5a6a6KaB5Yig6Zmk6L+Z5pys5Zu+5Lmm5ZCX77yf5Yig6Zmk5ZCO5bCG5peg5rOV5oGi5aSN44CCJywgJ+itpuWRiicsIHsKICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogJ+ehruWumicsCiAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogJ+WPlua2iCcsCiAgICAgICAgdHlwZTogJ3dhcm5pbmcnCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIGNvbnNvbGUubG9nKCflsJ3or5XliKDpmaTlm77kuabvvIxJRDonLCBib29rSWQpOwogICAgICAgIGNvbnNvbGUubG9nKCfor7fmsYJVUkw6JywgIi9hZG1pbi9ib29rTWFuYWdlL3JlbW92ZUJvb2svIi5jb25jYXQoYm9va0lkKSk7IC8vIOiOt+WPluW9k+WJjXRva2Vu77yM5qOA5p+l6K6k6K+B5L+h5oGvCgogICAgICAgIHZhciB0b2tlbiA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd0b2tlbicpOwogICAgICAgIGNvbnNvbGUubG9nKCflvZPliY1Ub2tlbjonLCB0b2tlbik7CiAgICAgICAgcmVtb3ZlQm9va0FwaShib29rSWQpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgY29uc29sZS5sb2coJ+WIoOmZpOaIkOWKn++8jOWTjeW6lDonLCByZXMpOwogICAgICAgICAgRWxNZXNzYWdlKHsKICAgICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnLAogICAgICAgICAgICBkdXJhdGlvbjogNTAwMCwKICAgICAgICAgICAgc2hvd0Nsb3NlOiB0cnVlLAogICAgICAgICAgICBtZXNzYWdlOiByZXMubWVzc2FnZQogICAgICAgICAgfSk7IC8vIOWIt+aWsOWIl+ihqAoKICAgICAgICAgIGdldFBhZ2VCb29rSW5mbygpOwogICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgY29uc29sZS5lcnJvcign5Yig6Zmk5Zu+5Lmm5aSx6LSlOicsIGVycm9yKTsKICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ+mUmeivr+ivpuaDhTonLCBlcnJvci5yZXNwb25zZSA/IGVycm9yLnJlc3BvbnNlLmRhdGEgOiAn5peg5ZON5bqU5pWw5o2uJyk7CiAgICAgICAgICBFbE1lc3NhZ2UoewogICAgICAgICAgICB0eXBlOiAnZXJyb3InLAogICAgICAgICAgICBkdXJhdGlvbjogNTAwMCwKICAgICAgICAgICAgc2hvd0Nsb3NlOiB0cnVlLAogICAgICAgICAgICBtZXNzYWdlOiAiXHU1MjIwXHU5NjY0XHU1NkZFXHU0RTY2XHU1OTMxXHU4RDI1OiAiLmNvbmNhdChlcnJvci5tZXNzYWdlIHx8ICfmnKrnn6XplJnor68nKQogICAgICAgICAgfSk7CiAgICAgICAgfSk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uICgpIHsKICAgICAgICBFbE1lc3NhZ2UoewogICAgICAgICAgdHlwZTogJ2luZm8nLAogICAgICAgICAgbWVzc2FnZTogJ+W3suWPlua2iOWIoOmZpCcKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9CgogICAgcmV0dXJuIHsKICAgICAgdGFibGVSZWY6IHRhYmxlUmVmLAogICAgICBib29rTGlzdDogYm9va0xpc3QsCiAgICAgIHBhZ2luYXRpb246IHBhZ2luYXRpb24sCiAgICAgIHBhZ2VDaGFuZ2U6IHBhZ2VDaGFuZ2UsCiAgICAgIGluZGV4TWV0aG9kOiBpbmRleE1ldGhvZCwKICAgICAgcXVlcnlGb3JtOiBxdWVyeUZvcm0sCiAgICAgIGJvb2tUeXBlTGlzdDogYm9va1R5cGVMaXN0LAogICAgICBxdWVyeUJvb2s6IHF1ZXJ5Qm9vaywKICAgICAgZ2V0Qm9va0RldGFpbDogZ2V0Qm9va0RldGFpbCwKICAgICAgdXBkYXRlQm9vazogdXBkYXRlQm9vaywKICAgICAgYWRkQm9va0luZm86IGFkZEJvb2tJbmZvLAogICAgICBvcGVuQWRkQm9va0RpYWxvZzogb3BlbkFkZEJvb2tEaWFsb2csCiAgICAgIGFkZEJvb2tEaWFsb2dDbG9zZWQ6IGFkZEJvb2tEaWFsb2dDbG9zZWQsCiAgICAgIGFkZEJvb2tTdG9jazogYWRkQm9va1N0b2NrLAogICAgICBvdXRCb29rSW5mbzogb3V0Qm9va0luZm8sCiAgICAgIG9wZW5PdXRCb29rRGlhbG9nOiBvcGVuT3V0Qm9va0RpYWxvZywKICAgICAgb3V0Qm9va0RpYWxvZ0Nsb3NlZDogb3V0Qm9va0RpYWxvZ0Nsb3NlZCwKICAgICAgb3V0Qm9vazogb3V0Qm9vaywKICAgICAgY29uZmlybVJlbW92ZUJvb2s6IGNvbmZpcm1SZW1vdmVCb29rCiAgICB9OwogIH0KfTs="},{"version":3,"mappings":"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","names":["useRouter","onMounted","shallowReactive","shallowRef","onBeforeMount","getPageBookInfoApi","getBookTypeApi","addBookStockApi","bookOutStockApi","removeBookApi","Picture","IconPicture","ElMessage","ElLoading","ElMessageBox","name","components","setup","bookList","tableRef","getPageBookInfo","splice","length","loadingInstance","service","target","value","$el","pagination","current","limit","queryForm","then","Array","isArray","res","data","records","push","total","finally","close","pageChange","isbn","author","typeId","sort","bookTypeList","getBookType","types","queryBook","indexMethod","index","router","getBookDetail","bookId","params","updateBook","addBookInfo","dialog","addNum","openAddBookDialog","addBookDialogClosed","addBookStock","type","duration","showClose","message","outBookInfo","num","maxNum","openOutBookDialog","outBookDialogClosed","outBook","confirmRemoveBook","confirm","confirmButtonText","cancelButtonText","console","log","token","localStorage","getItem","catch","error","response"],"sourceRoot":"","sources":["D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\src\\views\\admin\\AllBook\\index.vue"],"sourcesContent":["<template>\n  <div class=\"AllBook\">\n    <el-form :inline=\"true\" :model=\"queryForm\" label-position=\"left\">\n      <el-form-item label=\"ISBN\">\n        <el-input v-model=\"queryForm.isbn\" placeholder=\"按ISBN号筛选\" clearable></el-input>\n      </el-form-item>\n      <el-form-item label=\"标题\">\n        <el-input v-model=\"queryForm.name\" placeholder=\"按标题筛选\" clearable ></el-input>\n      </el-form-item>\n      <el-form-item label=\"作者\">\n        <el-input v-model=\"queryForm.author\" placeholder=\"按作者筛选\" clearable ></el-input>\n      </el-form-item>\n      <el-form-item label=\"分类\">\n        <el-select v-model=\"queryForm.typeId\" placeholder=\"选择图书分类\" clearable>\n          <el-option\n              v-for=\"type in bookTypeList\" :key=\"type.id\"\n              :label=\"type.name\" :value=\"type.id\">\n          </el-option>\n        </el-select>\n      </el-form-item>\n      <el-form-item label=\"排序\">\n        <el-select v-model=\"queryForm.sort\" placeholder=\"排序规则\" clearable>\n          <el-option label=\"按照出版日期排序\" value=\"1\"></el-option>\n          <el-option label=\"按照更新时间排序\" value=\"2\"></el-option>\n        </el-select>\n      </el-form-item>\n      <el-form-item>\n        <el-button type=\"primary\" @click=\"queryBook\">查询</el-button>\n      </el-form-item>\n    </el-form>\n    <el-table :data=\"bookList\" border stripe highlight-current-row ref=\"tableRef\">\n      <el-table-column label=\"序号\" fixed=\"left\" align=\"center\" type=\"index\" :index=\"indexMethod\"></el-table-column>\n      <el-table-column fixed=\"left\" label=\"分类\" prop=\"typeName\"></el-table-column>\n      <el-table-column fixed=\"left\" label=\"ISBN\" prop=\"isbn\"></el-table-column>\n      <el-table-column fixed=\"left\" label=\"封面\" align=\"center\">\n        <template #default=\"{row}\">\n          <el-image :src=\"row.coverImg\">\n            <template #error>\n              <el-icon><icon-picture /></el-icon>\n            </template>\n          </el-image>\n        </template>\n      </el-table-column>\n      <el-table-column fixed=\"left\" label=\"名称\" prop=\"name\"></el-table-column>\n      <el-table-column label=\"作者\" prop=\"author\"></el-table-column>\n      <el-table-column label=\"出版社\" prop=\"press\"></el-table-column>\n      <el-table-column label=\"定价\" prop=\"price\"></el-table-column>\n      <el-table-column label=\"出版日期\" prop=\"publishTime\"></el-table-column>\n      <el-table-column label=\"数量\" prop=\"stockNum\" align=\"center\"></el-table-column>\n      <el-table-column label=\"操作\" align=\"center\" fixed=\"right\" width=\"170px\">\n        <template #default=\"{row}\">\n          <div class=\"operation\">\n            <el-button @click=\"getBookDetail(row.id)\">查看图书</el-button>\n            <el-button @click=\"updateBook(row.id)\">修改图书基本信息</el-button>\n            <el-button @click=\"openAddBookDialog(row.id)\">添加图书</el-button>\n            <el-button @click=\"openOutBookDialog(row.id,row.stockNum)\">图书出库</el-button>\n            <el-button type=\"danger\" @click=\"confirmRemoveBook(row.id)\">删除图书</el-button>\n          </div>\n        </template>\n      </el-table-column>\n    </el-table>\n    <el-pagination\n        background layout=\"total, prev, pager, next\"\n        :total=\"pagination.total\"\n        :page-size=\"pagination.limit\"\n        v-model:current-page=\"pagination.current\"\n        @current-change=\"pageChange\"/>\n\n    <el-dialog\n        v-model=\"addBookInfo.dialog\" title=\"添加图书库存\"\n        :draggable=\"true\" destroy-on-close\n        @closed=\"addBookDialogClosed\">\n      <template #footer>\n        <el-button @click=\"addBookInfo.dialog = false\">取消</el-button>\n        <el-button type=\"primary\" @click=\"addBookStock\">确定</el-button>\n      </template>\n      添加库存的数量：<el-input-number v-model=\"addBookInfo.addNum\" :min=\"1\"></el-input-number>\n    </el-dialog>\n\n    <el-dialog\n        v-model=\"outBookInfo.dialog\" title=\"图书出库\"\n        :draggable=\"true\" destroy-on-close\n        @closed=\"outBookDialogClosed\">\n      <template #footer>\n        <el-button @click=\"outBookInfo.dialog = false\">取消</el-button>\n        <el-button type=\"primary\" @click=\"outBook\">确定</el-button>\n      </template>\n      图书出库的数量：<el-input-number v-model=\"outBookInfo.num\" :min=\"1\" :max=\"outBookInfo.maxNum\"></el-input-number>\n    </el-dialog>\n\n  </div>\n</template>\n\n<script>\nimport {useRouter} from 'vue-router'\nimport {onMounted, shallowReactive, shallowRef, onBeforeMount} from 'vue'\nimport {getPageBookInfoApi,getBookTypeApi} from \"@/api/borrower\";\nimport {addBookStockApi,bookOutStockApi,removeBookApi} from \"@/api/admin\";\nimport { Picture as IconPicture } from '@element-plus/icons-vue'\nimport {ElMessage, ElLoading, ElMessageBox} from 'element-plus'\n\nexport default {\n  name: \"AllBook\",\n  components:{\n    IconPicture\n  },\n  setup(){\n    // 存储图书信息的数组\n    const bookList = shallowReactive([])\n    // 表单对象，用于显示加载动画\n    const tableRef = shallowRef()\n    // 获取图书信息\n    function getPageBookInfo(){\n      // 先清空数据\n      bookList.splice(0,bookList.length)\n      const loadingInstance = ElLoading.service({\n        target: tableRef.value.$el,\n      })\n      getPageBookInfoApi(pagination.current,pagination.limit,queryForm)\n          .then(res=>{\n            if(Array.isArray(res.data.records)){\n              bookList.push(...res.data.records)\n              pagination.total = res.data.total\n            }\n          })\n          .finally(()=>{\n            loadingInstance.close()\n          })\n    }\n    onMounted(()=>{\n      getPageBookInfo()\n    })\n\n    // 分页数据\n    const pagination = shallowReactive({\n      current: 1,\n      limit: 15,\n      total: 0\n    })\n    // 页码改变的事件\n    function pageChange(){\n      getPageBookInfo()\n    }\n\n\n    // 筛选条件的表单\n    const queryForm = shallowReactive({\n      isbn: '',\n      author: '',\n      name: '',\n      typeId: '',\n      sort: '1'  // 默认按照出版日期排序（1=出版日期，2=更新时间）\n    })\n    // 存储图书分类的数组\n    const bookTypeList = shallowReactive([])\n    function getBookType(){\n      getBookTypeApi()\n          .then(res=>{\n            if(Array.isArray(res.data.types)){\n              bookTypeList.splice(0,bookTypeList.length,...res.data.types)\n            }\n          })\n    }\n    // 提交表单查询图书信息\n    function queryBook(){\n      if(pagination.current !== 1) {\n        pagination.current = 1\n      }\n      getPageBookInfo()\n    }\n    onBeforeMount(()=>{\n      getBookType()\n    })\n    // 表格索引的方法\n    function indexMethod(index){\n      return index + 1 + (pagination.current-1) * pagination.limit\n    }\n\n    const router = useRouter()\n    // 查看书籍详细信息\n    function getBookDetail(bookId){\n      router.push({\n        name: 'BookDetail',\n        params:{\n          bookId\n        }\n      })\n    }\n    // 修改图书基本信息\n    function updateBook(bookId){\n      router.push({\n        name: 'UpdateBookInfo',\n        params:{\n          bookId\n        }\n      })\n    }\n\n    // 添加库存的功能\n    const addBookInfo = shallowReactive({\n      dialog: false,\n      bookId: null,\n      addNum: null\n    })\n    function openAddBookDialog(bookId){\n      addBookInfo.bookId = bookId\n      addBookInfo.addNum = 1\n      addBookInfo.dialog = true\n    }\n    function addBookDialogClosed(){\n      addBookInfo.addNum = null\n      addBookInfo.dialog = false\n      addBookInfo.bookId = null\n    }\n    // 添加库存\n    function addBookStock(){\n      addBookStockApi(addBookInfo.bookId,addBookInfo.addNum)\n        .then(res=>{\n          ElMessage({type: 'success',duration: 5000,showClose: true,message: res.message})\n          // 刷新列表\n          getPageBookInfo()\n          // 关闭对话框\n          addBookInfo.dialog = false\n        })\n    }\n\n\n    // 图书出库功能\n    const outBookInfo = shallowReactive({\n      dialog: false,\n      bookId: null,\n      num: null,\n      maxNum: null\n    })\n    function openOutBookDialog(bookId,maxNum){\n      outBookInfo.bookId = bookId\n      outBookInfo.num = 1\n      outBookInfo.maxNum = maxNum\n      outBookInfo.dialog = true\n    }\n    function outBookDialogClosed(){\n      outBookInfo.dialog = false\n      outBookInfo.bookId = null\n      outBookInfo.num = null\n      outBookInfo.maxNum = null\n    }\n    // 图书出库接口\n    function outBook(){\n      bookOutStockApi(outBookInfo.bookId,outBookInfo.num)\n        .then(res=>{\n          ElMessage({type: 'success',duration: 5000,showClose: true,message: res.message})\n          // 刷新列表\n          getPageBookInfo()\n          // 关闭对话框\n          outBookInfo.dialog = false\n        })\n    }\n\n\n    // 删除图书功能\n    function confirmRemoveBook(bookId) {\n      ElMessageBox.confirm(\n        '确定要删除这本图书吗？删除后将无法恢复。',\n        '警告',\n        {\n          confirmButtonText: '确定',\n          cancelButtonText: '取消',\n          type: 'warning',\n        }\n      )\n        .then(() => {\n          console.log('尝试删除图书，ID:', bookId)\n          console.log('请求URL:', `/admin/bookManage/removeBook/${bookId}`)\n          \n          // 获取当前token，检查认证信息\n          const token = localStorage.getItem('token')\n          console.log('当前Token:', token)\n          \n          removeBookApi(bookId)\n            .then(res => {\n              console.log('删除成功，响应:', res)\n              ElMessage({type: 'success', duration: 5000, showClose: true, message: res.message})\n              // 刷新列表\n              getPageBookInfo()\n            })\n            .catch(error => {\n              console.error('删除图书失败:', error)\n              console.error('错误详情:', error.response ? error.response.data : '无响应数据')\n              ElMessage({type: 'error', duration: 5000, showClose: true, message: `删除图书失败: ${error.message || '未知错误'}`})\n            })\n        })\n        .catch(() => {\n          ElMessage({type: 'info', message: '已取消删除'})\n        })\n    }\n\n    return {\n      tableRef, bookList,\n      pagination,pageChange,indexMethod,\n      queryForm,bookTypeList,queryBook,\n      getBookDetail,updateBook,\n      addBookInfo,openAddBookDialog,addBookDialogClosed,addBookStock,\n      outBookInfo,openOutBookDialog,outBookDialogClosed,outBook,\n      confirmRemoveBook\n    }\n  }\n}\n</script>\n\n<style scoped lang=\"scss\">\n.AllBook{\n  padding: 0 20px 30px 20px;\n  height: 100%;\n  .el-form{\n    .el-form-item{\n      .el-input{\n        width: 200px;\n      }\n    }\n  }\n  .el-table{\n    .operation{\n      width: 100%;\n      height: 100%;\n      display: flex;\n      flex-direction: column;\n      align-items: center;\n      justify-content: center;\n      >*{\n        margin: 0 2px 10px 2px;\n      }\n    }\n  }\n  .el-pagination{\n    margin-top: 10px;\n    ::v-deep{\n      .el-pager{\n        &>li:not(.is-active){\n          background-color: white;\n        }\n      }\n      &>.btn-prev,&>.btn-next{\n        &:not([disabled]){\n          background-color: white;\n        }\n      }\n    }\n  }\n  .borrowDialog::v-deep{\n    &>div{\n      font-weight: bold;\n    }\n    &>div:not(:last-child){\n      margin-bottom: 10px;\n    }\n  }\n}\n</style>\n"]}]}