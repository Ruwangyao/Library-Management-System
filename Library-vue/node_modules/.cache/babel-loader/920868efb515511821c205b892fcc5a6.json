{"remainingRequest":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\babel-loader\\lib\\index.js!D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\templateLoader.js??ref--6!D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\src\\layout\\Tags\\index.vue?vue&type=template&id=ec7b4710&scoped=true","dependencies":[{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\src\\layout\\Tags\\index.vue","mtime":1750002395140},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\unplugin\\dist\\webpack\\loaders\\transform.js","mtime":1749726393299},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\unplugin\\dist\\webpack\\loaders\\transform.js","mtime":1749726393299},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\unplugin\\dist\\webpack\\loaders\\transform.js","mtime":1749726393299},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\unplugin\\dist\\webpack\\loaders\\transform.js","mtime":1749726393299},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1749726397539},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1749726398436},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\templateLoader.js","mtime":1749726395074},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1749726397539},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1749726393897},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\babel.config.js","mtime":1750002481133},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\unplugin\\dist\\webpack\\loaders\\transform.js","mtime":1749726393299},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\unplugin\\dist\\webpack\\loaders\\transform.js","mtime":1749726393299},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\unplugin\\dist\\webpack\\loaders\\transform.js","mtime":1749726393299},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\unplugin\\dist\\webpack\\loaders\\transform.js","mtime":1749726393299},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1749726397539},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1749726398436},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\templateLoader.js","mtime":1749726395074},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1749726397539},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1749726393897}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgcmVuZGVyTGlzdCBhcyBfcmVuZGVyTGlzdCwgRnJhZ21lbnQgYXMgX0ZyYWdtZW50LCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jaywgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2ssIHRvRGlzcGxheVN0cmluZyBhcyBfdG9EaXNwbGF5U3RyaW5nLCBjcmVhdGVUZXh0Vk5vZGUgYXMgX2NyZWF0ZVRleHRWTm9kZSwgcmVzb2x2ZUNvbXBvbmVudCBhcyBfcmVzb2x2ZUNvbXBvbmVudCwgd2l0aEN0eCBhcyBfd2l0aEN0eCwgY3JlYXRlVk5vZGUgYXMgX2NyZWF0ZVZOb2RlLCBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZSwgbm9ybWFsaXplQ2xhc3MgYXMgX25vcm1hbGl6ZUNsYXNzLCBUcmFuc2l0aW9uR3JvdXAgYXMgX1RyYW5zaXRpb25Hcm91cCwgY3JlYXRlQ29tbWVudFZOb2RlIGFzIF9jcmVhdGVDb21tZW50Vk5vZGUsIHB1c2hTY29wZUlkIGFzIF9wdXNoU2NvcGVJZCwgcG9wU2NvcGVJZCBhcyBfcG9wU2NvcGVJZCB9IGZyb20gInZ1ZSI7Cgp2YXIgX3dpdGhTY29wZUlkID0gZnVuY3Rpb24gX3dpdGhTY29wZUlkKG4pIHsKICByZXR1cm4gX3B1c2hTY29wZUlkKCJkYXRhLXYtZWM3YjQ3MTAiKSwgbiA9IG4oKSwgX3BvcFNjb3BlSWQoKSwgbjsKfTsKCnZhciBfaG9pc3RlZF8xID0gewogIGtleTogMCwKICBjbGFzczogInRhZ3Mtd3JhcHBlciIKfTsKdmFyIF9ob2lzdGVkXzIgPSBbIm9uQ2xpY2siXTsKZXhwb3J0IGZ1bmN0aW9uIHJlbmRlcihfY3R4LCBfY2FjaGUsICRwcm9wcywgJHNldHVwLCAkZGF0YSwgJG9wdGlvbnMpIHsKICB2YXIgX2NvbXBvbmVudF9yb3V0ZXJfbGluayA9IF9yZXNvbHZlQ29tcG9uZW50KCJyb3V0ZXItbGluayIpOwoKICByZXR1cm4gJHNldHVwLmlzU2hvd1RhZ0xpc3QgJiYgJHNldHVwLnRhZ0xpc3QubGVuZ3RoID4gMCA/IChfb3BlbkJsb2NrKCksIF9jcmVhdGVFbGVtZW50QmxvY2soImRpdiIsIF9ob2lzdGVkXzEsIFtfY3JlYXRlVk5vZGUoX1RyYW5zaXRpb25Hcm91cCwgewogICAgdGFnOiAiZGl2IiwKICAgIG5hbWU6ICJ0YWctZmFkZSIsCiAgICBjbGFzczogInRhZ3MtbGlzdCIsCiAgICBtb2RlOiAib3V0LWluIgogIH0sIHsKICAgIGRlZmF1bHQ6IF93aXRoQ3R4KGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIFsoX29wZW5CbG9jayh0cnVlKSwgX2NyZWF0ZUVsZW1lbnRCbG9jayhfRnJhZ21lbnQsIG51bGwsIF9yZW5kZXJMaXN0KCRzZXR1cC50YWdMaXN0LCBmdW5jdGlvbiAodGFnLCBpbmRleCkgewogICAgICAgIHJldHVybiBfb3BlbkJsb2NrKCksIF9jcmVhdGVFbGVtZW50QmxvY2soImRpdiIsIHsKICAgICAgICAgIGNsYXNzOiBfbm9ybWFsaXplQ2xhc3MoWyJ0YWctaXRlbSIsIHsKICAgICAgICAgICAgJ2FjdGl2ZS10YWcnOiAkc2V0dXAuaXNBY3RpdmUodGFnKQogICAgICAgICAgfV0pLAogICAgICAgICAga2V5OiB0YWcucGF0aAogICAgICAgIH0sIFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9yb3V0ZXJfbGluaywgewogICAgICAgICAgdG86IHRhZy5wYXRoCiAgICAgICAgfSwgewogICAgICAgICAgZGVmYXVsdDogX3dpdGhDdHgoZnVuY3Rpb24gKCkgewogICAgICAgICAgICByZXR1cm4gW19jcmVhdGVUZXh0Vk5vZGUoX3RvRGlzcGxheVN0cmluZyh0YWcudGl0bGUpLCAxCiAgICAgICAgICAgIC8qIFRFWFQgKi8KICAgICAgICAgICAgKV07CiAgICAgICAgICB9KSwKICAgICAgICAgIF86IDIKICAgICAgICAgIC8qIERZTkFNSUMgKi8KCiAgICAgICAgfSwgMTAzMgogICAgICAgIC8qIFBST1BTLCBEWU5BTUlDX1NMT1RTICovCiAgICAgICAgLCBbInRvIl0pLCBfY3JlYXRlRWxlbWVudFZOb2RlKCJpIiwgewogICAgICAgICAgY2xhc3M6ICJlbC1pY29uLXhqaC1jbG9zZSB0YWctZGVsZXRlLWljb24iLAogICAgICAgICAgb25DbGljazogZnVuY3Rpb24gb25DbGljaygkZXZlbnQpIHsKICAgICAgICAgICAgcmV0dXJuICRzZXR1cC5jbG9zZVRhZyhpbmRleCk7CiAgICAgICAgICB9CiAgICAgICAgfSwgbnVsbCwgOAogICAgICAgIC8qIFBST1BTICovCiAgICAgICAgLCBfaG9pc3RlZF8yKV0sIDIKICAgICAgICAvKiBDTEFTUyAqLwogICAgICAgICk7CiAgICAgIH0pLCAxMjgKICAgICAgLyogS0VZRURfRlJBR01FTlQgKi8KICAgICAgKSldOwogICAgfSksCiAgICBfOiAxCiAgICAvKiBTVEFCTEUgKi8KCiAgfSldKSkgOiBfY3JlYXRlQ29tbWVudFZOb2RlKCJ2LWlmIiwgdHJ1ZSk7Cn0="},{"version":3,"mappings":";;;;;;;;EACOA,KAAK,EAAC;;;;;;SAAqBC,wBAAiBA,eAAQC,MAAR,GAAc,mBAA/DC,oBAOM,KAPN,cAOM,CANJC,aAKmBC,gBALnB,EAKmB;IALDC,GAAG,EAAC,KAKH;IALSC,IAAI,EAAC,UAKd;IALyBP,KAAK,EAAC,WAK/B;IAL2CQ,IAAI,EAAC;EAKhD,CALnB;sBACwB;MAAA,OAA8B,oBAApDL,oBAGMM,SAHN,EAGM,IAHN,EAGMC,YAHsCT,cAGtC,EAH6C,UAArBK,GAAqB,EAAjBK,KAAiB,EAAZ;6BAAvCR,oBAGM,KAHN,EAGM;UAHDH,KAAK,mBAAC,UAAD,EAAW;YAAA,cAAsEC,gBAASK,GAAT;UAAtE,CAAX,EAGJ;UAHgDM,GAAG,EAAEN,GAAG,CAACO;QAGzD,CAHN,GACET,aAAuDU,sBAAvD,EAAuD;UAAzCC,EAAE,EAAET,GAAG,CAACO;QAAiC,CAAvD;4BAA4B;YAAA,OAAa,mCAAXP,GAAG,CAACU,QAAK;YAAA;aAAE,CAAb;UAAA;;;;SAA5B;;QAAA,WACAC,oBAA0E,GAA1E,EAA0E;UAAvEjB,KAAK,EAAC,mCAAiE;UAA5BkB,OAAK;YAAA,OAAEjB,gBAASU,KAAT,CAAF;UAAA;QAAuB,CAA1E;;QAAA,cAFF;;QAAA;OAGM,CAHN;;MAAA,CAAoD,EAA9B;IAAA;;;;GADxB,CAMI,CAPN","names":["class","$setup","length","_createElementBlock","_createVNode","_TransitionGroup","tag","name","mode","_Fragment","_renderList","index","key","path","_component_router_link","to","title","_createElementVNode","onClick"],"sourceRoot":"","sources":["D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\src\\layout\\Tags\\index.vue"],"sourcesContent":["<template>\n  <div class=\"tags-wrapper\" v-if=\"isShowTagList && tagList.length > 0\">\n    <transition-group tag=\"div\" name=\"tag-fade\" class=\"tags-list\" mode=\"out-in\">\n      <div class=\"tag-item\" v-for=\"(tag,index) in tagList\" :key=\"tag.path\" :class=\"{'active-tag':isActive(tag)}\">\n        <router-link :to=\"tag.path\">{{tag.title}}</router-link>\n        <i class=\"el-icon-xjh-close tag-delete-icon\" @click=\"closeTag(index)\"></i>\n      </div>\n    </transition-group>\n  </div>\n</template>\n\n<script>\nimport {useRouter,useRoute} from \"vue-router\";\nimport { watch, computed } from 'vue'\nimport { useStore } from 'vuex'\n\nexport default {\n  name: \"Tags\",\n  setup(){\n    const route = useRoute()\n    const router = useRouter()\n    const store = useStore()\n\n    // 获取store中的标签列表\n    const tagList = computed(() => store.state.appSetting.tagList)\n    const isShowTagList = computed(() => store.state.appSetting.isShowTagList)\n\n    // 判断标签是否为当前页面\n    const isActive = (tag) => {\n      return tag.path === route.path\n    }\n\n    // 根据当前的路由项设置标签\n    async function setTag(routeItem){\n      // 判断路由对象是否合理，有条件变为一个tag\n      if(routeItem.meta && routeItem.path && routeItem.meta.title){\n        if(routeItem.meta.showInTag === false){\n          // 配置不显示该路由tag\n          return;\n        }\n        // 判断跳转的路由是否已经在导标签中存在\n        const isExist = await store.dispatch('appSetting/isExistTag', routeItem)\n        if(!isExist){\n          // 不存在重复的标签则添加\n          store.dispatch('appSetting/addTag', routeItem)\n        }\n      }\n    }\n    watch(()=>route.path, async ()=>{\n      // 每当路由更新后调用设置路由的方法\n      await setTag(route)\n    },{ immediate: true, deep: true })\n    \n\n    // 关闭某一个标签\n    const closeTag = (index) => {\n      const delItem = tagList.value[index]\n      // 删除该标签\n      store.dispatch('appSetting/delTags', { start: index, nums: 1 })\n      // 标签被删除后下一个展示的标签\n      const nextShowItem = tagList.value[index] ? tagList.value[index] : tagList.value[index - 1]\n      if(nextShowItem){\n        // 当前删除的路由和标签一致，则跳转到下一个标签\n        delItem.path === route.path && router.push(nextShowItem.path)\n      }else{\n        router.push(\"/\")\n      }\n    }\n\n    return {\n      isActive, closeTag, tagList, isShowTagList\n    }\n  }\n}\n</script>\n\n<style scoped lang=\"scss\">\n@import \"~@/layout/variable.scss\";\n.tags-wrapper{\n  position: relative;\n  height: $tagDivHeight;\n  overflow: hidden;\n  background: #ffffff;\n  box-shadow: 0 5px 5px #ddd;\n  .tags-list{\n    box-sizing: border-box;\n    width: 100%;\n    height: 100%;\n    display: flex;\n    align-items: center;\n    // 标签消息的动画\n    .tag-item{\n      white-space:nowrap;\n      width: auto;\n      margin: 3px 5px 2px 3px;\n      border-radius: 3px;\n      font-size: 12px;\n      overflow: hidden;\n      cursor: pointer;\n      line-height: $tagHeight;\n      border: 1px solid #e9eaec;\n      background: #fff;\n      padding: 0 5px 0 12px;\n      vertical-align: middle;\n      color: #666;\n      a{\n        text-decoration: none;\n        color: inherit;\n      }\n      .tag-delete-icon{\n        font-size: 14px;\n        line-height: $tagHeight;\n      }\n      &.active-tag{\n        color: #fff;\n        border: 1px solid #409EFF;\n        background-color: #409EFF;\n      }\n      &:not(.active-tag):hover{\n        background: #f8f8f8;\n      }\n    }\n  }\n}\n// tag的标签添加和删除的动画\n.tag-fade-leave-active,.tag-fade-enter-active{\n  transition: all .3s ease-in-out;\n}\n.tag-fade-leave-from{\n  transform: scale(1);\n}\n.tag-fade-leave-to{\n  transform: scale(0);\n}\n.tag-fade-enter-from{\n  opacity: 0;\n}\n.tag-fade-enter-to{\n  opacity: 1;\n}\n</style>\n"]}]}