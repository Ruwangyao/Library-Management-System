{"remainingRequest":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\babel-loader\\lib\\index.js!D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\templateLoader.js??ref--6!D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\src\\views\\superadmin\\Statistics\\DailyBookBorrowerChart.vue?vue&type=template&id=10f8f185","dependencies":[{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\src\\views\\superadmin\\Statistics\\DailyBookBorrowerChart.vue","mtime":1654054537000},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\babel.config.js","mtime":1654054537000},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\unplugin\\dist\\webpack\\loaders\\transform.js","mtime":1749726393299},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\unplugin\\dist\\webpack\\loaders\\transform.js","mtime":1749726393299},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\unplugin\\dist\\webpack\\loaders\\transform.js","mtime":1749726393299},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\unplugin\\dist\\webpack\\loaders\\transform.js","mtime":1749726393299},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1749726397539},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1749726398436},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\templateLoader.js","mtime":1749726395074},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1749726397539},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1749726393897}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2ssIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrIH0gZnJvbSAidnVlIjsKdmFyIF9ob2lzdGVkXzEgPSB7CiAgcmVmOiAiZGFpbHlCb29rQm9ycm93Q2hhcnRSZWYiCn07CmV4cG9ydCBmdW5jdGlvbiByZW5kZXIoX2N0eCwgX2NhY2hlLCAkcHJvcHMsICRzZXR1cCwgJGRhdGEsICRvcHRpb25zKSB7CiAgcmV0dXJuIF9vcGVuQmxvY2soKSwgX2NyZWF0ZUVsZW1lbnRCbG9jaygiZGl2IiwgX2hvaXN0ZWRfMSwgbnVsbCwgNTEyCiAgLyogTkVFRF9QQVRDSCAqLwogICk7Cn0="},{"version":3,"mappings":";;EACOA,GAAG,EAAC;;;uBAATC,oBAAyC,KAAzC,cAAyC,IAAzC,EAAyC;EAAA;EAAzC","names":["ref","_createElementBlock"],"sourceRoot":"","sources":["D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\src\\views\\superadmin\\Statistics\\DailyBookBorrowerChart.vue"],"sourcesContent":["<template>\n  <div ref=\"dailyBookBorrowChartRef\"></div>\n</template>\n\n<script>\nimport {shallowRef} from \"vue\";\nimport drawChartHook from \"@/hooks/drawChartHook\";\nimport {formatDate} from '@/utils'\nimport {getDailyBookBorrowNumApi} from \"@/api/superadmin\";\n\nexport default {\n  // 折线图组件\n  name: \"DailyBookBorrowerChart\",\n  setup() {\n    const dailyBookBorrowChartRef = shallowRef()\n\n    // 绘制图表\n    drawChartHook(dailyBookBorrowChartRef, getOptions)\n\n    // 获取表格需要填充的数据\n    async function getChartData(){\n      // 获取明天的时间\n      let tomorrow = new Date()\n      tomorrow.setTime(tomorrow.getTime() + 24 * 60 * 60 * 1000)\n      // 向前偏移30天\n      const {data} = await getDailyBookBorrowNumApi(formatDate(tomorrow,'yyyy-MM-dd'),-30)\n      if(data && Array.isArray(data.list)){\n        // 设置x轴数据和y轴数据\n        const chartData = {\n          xAxisData: [],\n          seriesData: []\n        }\n        for (let item of data.list){\n          chartData.xAxisData.push(item.date)\n          chartData.seriesData.push(item.num)\n        }\n        return chartData\n      }else {\n        return null\n      }\n    }\n    // 获取表格的配置项\n    async function getOptions() {\n      const chartData = await getChartData()\n      if(chartData){\n        return {\n          title:{\n            text: '图书近30天的日借阅量',\n            left: 'center',\n            textStyle:{\n              fontSize: '15'\n            }\n          },\n          tooltip: {\n            trigger: 'axis'\n          },\n          xAxis: {\n            name: '日期',\n            type: 'category',\n            data: chartData.xAxisData\n          },\n          yAxis: {\n            name: '日借阅量',\n            type: 'value',\n          },\n          series: [\n            {\n              name: '日借阅量',\n              data: chartData.seriesData,\n              type: 'line',\n              smooth: true\n            }\n          ]\n        }\n      }else {\n        return null\n      }\n    }\n\n    return {\n      dailyBookBorrowChartRef\n    }\n  }\n}\n</script>\n"]}]}