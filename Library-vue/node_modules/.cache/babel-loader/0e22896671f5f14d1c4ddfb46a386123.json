{"remainingRequest":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\babel-loader\\lib\\index.js!D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\src\\views\\admin\\AddBook\\index.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\src\\views\\admin\\AddBook\\index.vue","mtime":1654054537000},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\unplugin\\dist\\webpack\\loaders\\transform.js","mtime":1749726393299},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\unplugin\\dist\\webpack\\loaders\\transform.js","mtime":1749726393299},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\unplugin\\dist\\webpack\\loaders\\transform.js","mtime":1749726393299},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\unplugin\\dist\\webpack\\loaders\\transform.js","mtime":1749726393299},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1749726397539},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1749726398436},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1749726397539},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1749726393897},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\babel.config.js","mtime":1750002481133},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\unplugin\\dist\\webpack\\loaders\\transform.js","mtime":1749726393299},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\unplugin\\dist\\webpack\\loaders\\transform.js","mtime":1749726393299},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\unplugin\\dist\\webpack\\loaders\\transform.js","mtime":1749726393299},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\unplugin\\dist\\webpack\\loaders\\transform.js","mtime":1749726393299},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1749726397539},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1749726398436},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1749726397539},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1749726393897}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tICJEOi9cdTY4NENcdTk3NjIvXHU1MjREXHU3QUVGXHU0RUE0XHU0RTkyL2ZpbmFsL0xpYnJhcnlNYW5hZ2VtZW50U3lzdGVtLW1hc3Rlci9MaWJyYXJ5LXZ1ZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vdG9Db25zdW1hYmxlQXJyYXkuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zcGxpY2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5jb25jYXQuanMiOwppbXBvcnQgeyBtYXJrUmF3LCBvbkJlZm9yZU1vdW50LCBzaGFsbG93UmVhY3RpdmUgfSBmcm9tICJ2dWUiOwppbXBvcnQgeyBnZXRCb29rVHlwZUFwaSB9IGZyb20gIkAvYXBpL2JvcnJvd2VyIjsKaW1wb3J0IHsgYWRkQm9va0FwaSB9IGZyb20gIkAvYXBpL2FkbWluIjsKaW1wb3J0IHsgRWxNZXNzYWdlIH0gZnJvbSAiZWxlbWVudC1wbHVzIjsKaW1wb3J0IHsgdXNlUm91dGVyIH0gZnJvbSAidnVlLXJvdXRlciI7CmltcG9ydCB7IGNvcHlQcm9wZXJ0aWVzIH0gZnJvbSAiQC91dGlscyI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiQWRkQm9vayIsCiAgc2V0dXA6IGZ1bmN0aW9uIHNldHVwKCkgewogICAgdmFyIHJvdXRlciA9IHVzZVJvdXRlcigpOyAvLyDlm77kuabooajljZXnmoTpu5jorqTlgLwKCiAgICB2YXIgZGVmYXVsdEJvb2tWYWx1ZSA9IGZ1bmN0aW9uIGRlZmF1bHRCb29rVmFsdWUoKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgdHlwZUlkOiAnJywKICAgICAgICBpc2JuOiAnJywKICAgICAgICBuYW1lOiAnJywKICAgICAgICBhdXRob3I6ICcnLAogICAgICAgIHByZXNzOiAnJywKICAgICAgICBwcmljZTogJycsCiAgICAgICAgcHVibGlzaFRpbWU6ICcnLAogICAgICAgIGRlc2NyaXB0aW9uOiAnJywKICAgICAgICBzdG9ja051bTogMQogICAgICB9OwogICAgfTsKCiAgICB2YXIgYm9vayA9IHNoYWxsb3dSZWFjdGl2ZShkZWZhdWx0Qm9va1ZhbHVlKCkpOwoKICAgIGZ1bmN0aW9uIGFkZEJvb2soKSB7CiAgICAgIGFkZEJvb2tBcGkobWFya1Jhdyhib29rKSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgRWxNZXNzYWdlKHsKICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJywKICAgICAgICAgIGR1cmF0aW9uOiA1MDAwLAogICAgICAgICAgbWVzc2FnZTogcmVzLm1lc3NhZ2UsCiAgICAgICAgICBzaG93Q2xvc2U6IHRydWUKICAgICAgICB9KTsKICAgICAgICByb3V0ZXIucHVzaCh7CiAgICAgICAgICBuYW1lOiAnQWxsQm9vaycKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9IC8vIOWtmOWCqOWbvuS5puWIhuexu+eahOaVsOe7hAoKCiAgICB2YXIgYm9va1R5cGVMaXN0ID0gc2hhbGxvd1JlYWN0aXZlKFtdKTsKCiAgICBmdW5jdGlvbiBnZXRCb29rVHlwZSgpIHsKICAgICAgZ2V0Qm9va1R5cGVBcGkoKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShyZXMuZGF0YS50eXBlcykpIHsKICAgICAgICAgIGJvb2tUeXBlTGlzdC5zcGxpY2UuYXBwbHkoYm9va1R5cGVMaXN0LCBbMCwgYm9va1R5cGVMaXN0Lmxlbmd0aF0uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheShyZXMuZGF0YS50eXBlcykpKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfQoKICAgIG9uQmVmb3JlTW91bnQoZnVuY3Rpb24gKCkgewogICAgICBnZXRCb29rVHlwZSgpOwogICAgfSk7IC8vIOmHjee9ruihqOWNlQoKICAgIGZ1bmN0aW9uIHJlc2V0KCkgewogICAgICBjb3B5UHJvcGVydGllcyhkZWZhdWx0Qm9va1ZhbHVlKCksIGJvb2spOwogICAgfQoKICAgIHJldHVybiB7CiAgICAgIGJvb2s6IGJvb2ssCiAgICAgIGJvb2tUeXBlTGlzdDogYm9va1R5cGVMaXN0LAogICAgICBhZGRCb29rOiBhZGRCb29rLAogICAgICByZXNldDogcmVzZXQKICAgIH07CiAgfQp9Ow=="},{"version":3,"mappings":";;;AA4CA,SAAQA,OAAR,EAAiBC,aAAjB,EAAgCC,eAAhC,QAAsD,KAAtD;AACA,SAAQC,cAAR,QAA6B,gBAA7B;AACA,SAAQC,UAAR,QAAyB,aAAzB;AACA,SAAQC,SAAR,QAAwB,cAAxB;AACA,SAAQC,SAAR,QAAwB,YAAxB;AACA,SAAQC,cAAR,QAA6B,SAA7B;AAEA,eAAe;EACbC,IAAI,EAAE,SADO;EAEbC,KAFa,mBAEN;IACL,IAAMC,MAAK,GAAIJ,SAAS,EAAxB,CADK,CAEL;;IACA,IAAMK,gBAAe,GAAI,SAAnBA,gBAAmB;MAAA,OAAK;QAC5BC,MAAM,EAAE,EADoB;QAE5BC,IAAI,EAAE,EAFsB;QAG5BL,IAAI,EAAE,EAHsB;QAI5BM,MAAM,EAAE,EAJoB;QAK5BC,KAAK,EAAE,EALqB;QAM5BC,KAAK,EAAE,EANqB;QAO5BC,WAAW,EAAE,EAPe;QAQ5BC,WAAW,EAAE,EARe;QAS5BC,QAAQ,EAAE;MATkB,CAAL;IAAA,CAAzB;;IAWA,IAAMC,IAAG,GAAIlB,eAAe,CAACS,gBAAgB,EAAjB,CAA5B;;IACA,SAASU,OAAT,GAAkB;MAChBjB,UAAU,CAACJ,OAAO,CAACoB,IAAD,CAAR,CAAV,CACGE,IADH,CACQ,aAAG,EAAE;QACTjB,SAAS,CAAC;UAACkB,IAAI,EAAE,SAAP;UAAiBC,QAAQ,EAAE,IAA3B;UAAgCC,OAAO,EAAEC,GAAG,CAACD,OAA7C;UAAqDE,SAAS,EAAE;QAAhE,CAAD,CAAT;QACAjB,MAAM,CAACkB,IAAP,CAAY;UAACpB,IAAI,EAAE;QAAP,CAAZ;MACD,CAJH;IAKF,CArBK,CAuBL;;;IACA,IAAMqB,YAAW,GAAI3B,eAAe,CAAC,EAAD,CAApC;;IACA,SAAS4B,WAAT,GAAsB;MACpB3B,cAAc,GACTmB,IADL,CACU,aAAG,EAAE;QACT,IAAGS,KAAK,CAACC,OAAN,CAAcN,GAAG,CAACO,IAAJ,CAASC,KAAvB,CAAH,EAAiC;UAC/BL,YAAY,CAACM,MAAb,mBAAY,GAAQ,CAAR,EAAUN,YAAY,CAACO,MAAvB,4BAAiCV,GAAG,CAACO,IAAJ,CAASC,KAA1C,GAAZ;QACF;MACD,CALL;IAMF;;IACAjC,aAAa,CAAC,YAAI;MAChB6B,WAAW;IACZ,CAFY,CAAb,CAjCK,CAqCL;;IACA,SAASO,KAAT,GAAgB;MACd9B,cAAc,CAACI,gBAAgB,EAAjB,EAAoBS,IAApB,CAAd;IACF;;IAEA,OAAO;MACLA,IAAI,EAAJA,IADK;MACAS,YAAY,EAAZA,YADA;MACaR,OAAO,EAAPA,OADb;MAELgB,KAAI,EAAJA;IAFK,CAAP;EAIF;AAhDa,CAAf","names":["markRaw","onBeforeMount","shallowReactive","getBookTypeApi","addBookApi","ElMessage","useRouter","copyProperties","name","setup","router","defaultBookValue","typeId","isbn","author","press","price","publishTime","description","stockNum","book","addBook","then","type","duration","message","res","showClose","push","bookTypeList","getBookType","Array","isArray","data","types","splice","length","reset"],"sourceRoot":"","sources":["D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\src\\views\\admin\\AddBook\\index.vue"],"sourcesContent":["<template>\n  <div class=\"addBook\">\n    <el-card>\n      <el-form label-position=\"left\" label-width=\"auto\" size=\"large\">\n        <el-form-item label=\"标题\">\n          <el-input v-model=\"book.name\" placeholder=\"请输入图书标题\" clearable></el-input>\n        </el-form-item>\n        <el-form-item label=\"分类\">\n          <el-select v-model=\"book.typeId\" placeholder=\"选择图书分类\" clearable>\n            <el-option\n                v-for=\"type in bookTypeList\" :key=\"type.id\"\n                :label=\"type.name\" :value=\"type.id\">\n            </el-option>\n          </el-select>\n        </el-form-item>\n        <el-form-item label=\"作者\">\n          <el-input v-model=\"book.author\" placeholder=\"请输入图书作者\" clearable></el-input>\n        </el-form-item>\n        <el-form-item label=\"出版社\">\n          <el-input v-model=\"book.press\" placeholder=\"请输入图书出版社\" clearable></el-input>\n        </el-form-item>\n        <el-form-item label=\"ISBN\">\n          <el-input v-model=\"book.isbn\" placeholder=\"请输入图书ISBN号\" clearable></el-input>\n        </el-form-item>\n        <el-form-item label=\"出版时间\">\n          <el-date-picker v-model=\"book.publishTime\" type=\"date\" placeholder=\"请选择出版日期\" format=\"YYYY-MM-DD\" value-format=\"YYYY-MM-DD\" clearable />\n        </el-form-item>\n        <el-form-item label=\"简介\">\n          <el-input v-model=\"book.description\" placeholder=\"请输入图书简介\" clearable></el-input>\n        </el-form-item>\n        <el-form-item label=\"定价\">\n          <el-input v-model=\"book.price\" placeholder=\"请输入图书定价\" clearable></el-input>\n        </el-form-item>\n        <el-form-item label=\"数量\">\n          <el-input-number v-model=\"book.stockNum\" placeholder=\"请输入图书数量\" :min=\"1\"></el-input-number>\n        </el-form-item>\n        <el-button type=\"primary\" @click=\"addBook\">添加</el-button>\n        <el-button @click=\"reset\">重置</el-button>\n      </el-form>\n    </el-card>\n  </div>\n</template>\n\n<script>\nimport {markRaw, onBeforeMount, shallowReactive} from \"vue\";\nimport {getBookTypeApi} from \"@/api/borrower\";\nimport {addBookApi} from \"@/api/admin\";\nimport {ElMessage} from \"element-plus\";\nimport {useRouter} from \"vue-router\";\nimport {copyProperties} from \"@/utils\";\n\nexport default {\n  name: \"AddBook\",\n  setup(){\n    const router = useRouter()\n    // 图书表单的默认值\n    const defaultBookValue = ()=>({\n      typeId: '',\n      isbn: '',\n      name: '',\n      author: '',\n      press: '',\n      price: '',\n      publishTime: '',\n      description: '',\n      stockNum: 1\n    })\n    const book = shallowReactive(defaultBookValue())\n    function addBook(){\n      addBookApi(markRaw(book))\n        .then(res=>{\n          ElMessage({type: 'success',duration: 5000,message: res.message,showClose: true})\n          router.push({name: 'AllBook'})\n        })\n    }\n\n    // 存储图书分类的数组\n    const bookTypeList = shallowReactive([])\n    function getBookType(){\n      getBookTypeApi()\n          .then(res=>{\n            if(Array.isArray(res.data.types)){\n              bookTypeList.splice(0,bookTypeList.length,...res.data.types)\n            }\n          })\n    }\n    onBeforeMount(()=>{\n      getBookType()\n    })\n\n    // 重置表单\n    function reset(){\n      copyProperties(defaultBookValue(),book)\n    }\n\n    return {\n      book,bookTypeList,addBook,\n      reset\n    }\n  }\n}\n</script>\n\n<style scoped lang=\"scss\">\n.addBook{\n  padding: 20px 30px 30px 20px;\n}\n</style>\n"]}]}