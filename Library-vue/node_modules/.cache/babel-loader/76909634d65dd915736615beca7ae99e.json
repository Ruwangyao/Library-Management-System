{"remainingRequest":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\babel-loader\\lib\\index.js!D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\src\\layout\\Sidebar\\SidebarItem.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\src\\layout\\Sidebar\\SidebarItem.vue","mtime":1654054537000},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\babel.config.js","mtime":1654054537000},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\unplugin\\dist\\webpack\\loaders\\transform.js","mtime":1749726393299},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\unplugin\\dist\\webpack\\loaders\\transform.js","mtime":1749726393299},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\unplugin\\dist\\webpack\\loaders\\transform.js","mtime":1749726393299},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\unplugin\\dist\\webpack\\loaders\\transform.js","mtime":1749726393299},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1749726397539},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1749726398436},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1749726397539},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1749726393897}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCB7IHNoYWxsb3dSZWYsIHRvUmF3IH0gZnJvbSAndnVlJzsKaW1wb3J0IHBhdGggZnJvbSAncGF0aCc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiU2lkZWJhckl0ZW0iLAogIHByb3BzOiB7CiAgICBpdGVtOiB7CiAgICAgIHR5cGU6IE9iamVjdCwKICAgICAgcmVxdWlyZWQ6IHRydWUKICAgIH0sCiAgICBiYXNlUGF0aDogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICB9CiAgfSwKICBzZXR1cDogZnVuY3Rpb24gc2V0dXAocHJvcHMpIHsKICAgIC8vIOW9k+ivpee7hOS7tuWPr+S7peiiq+a4suafk+aIkOiPnOWNlemhuShlbC1tZW51LWl0ZW3nu4Tku7YpLOWBnOatoumAkuW9kua4suafk+iPnOWNle+8jOWtmOWCqOiiq+a4suafk+eahOaVsOaNrgogICAgdmFyIHNob3dlZFJvdXRlSXRlbSA9IHNoYWxsb3dSZWYobnVsbCk7CiAgICAvKioKICAgICAqIOWIpOaWreivpei3r+eUseWvueixoeaYr+WQpuWPquacieS4gOS4quWtkOi3r+eUseaIluiAheayoeacieWtkOi3r+eUsQogICAgICog5Lmf5bCx5piv6K+05Y+q5pyJ5LiA5Liq5a2Q6Lev55Sx5oiW6ICF5rKh5pyJ5a2Q6Lev55Sx77yM5YiZ5Lya6KKr5riy5p+T5Li6ZWwtbWVudS1pdGVt57uE5Lu277yM5YGc5q2i6YCS5b2S5riy5p+T55qE6KGM5Li6CiAgICAgKiBAcGFyYW0gY2hpbGRyZW4gIOW9k+WJjee7hOS7tueahOWtkOi3r+eUseWvueixoSAgcHJvcHMuaXRlbS5jaGlsZHJlbgogICAgICogQHBhcmFtIHJvdXRlIOW9k+WJjee7hOS7tueahOi3r+eUseWvueixoSBwcm9wcy5pdGVtCiAgICAgKi8KCiAgICBmdW5jdGlvbiBpc1Nob3dSb3V0ZUl0ZW0oY2hpbGRyZW4sIHJvdXRlKSB7CiAgICAgIC8vIOa2iOmZpOWTjeW6lOW8jwogICAgICBjaGlsZHJlbiA9IHRvUmF3KGNoaWxkcmVuKTsKICAgICAgcm91dGUgPSB0b1Jhdyhyb3V0ZSk7CgogICAgICBpZiAoQXJyYXkuaXNBcnJheShjaGlsZHJlbikpIHsKICAgICAgICB2YXIgdG1wID0gbnVsbDsgLy8g5p+l55yL5a2Q6Lev55Sx5Lit5Y+v5Lul6KKr5riy5p+T55qE6IqC54K5CgogICAgICAgIHZhciBzaG93aW5nQ2hpbGRyZW4gPSBjaGlsZHJlbi5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgIGlmIChpdGVtLmhpZGRlbikgewogICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAvLyDorrDlvZXlj6/og73lj6/ku6XooqvmuLLmn5PnmoTot6/nlLEKICAgICAgICAgICAgdG1wID0gaXRlbTsKICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICB9CiAgICAgICAgfSk7CgogICAgICAgIGlmIChzaG93aW5nQ2hpbGRyZW4ubGVuZ3RoID09PSAxKSB7CiAgICAgICAgICAvLyDlpoLmnpzor6Xot6/nlLHlrprkuYnkuoZhbHdheXNTaG93OiB0cnVl5bGe5oCn77yM5YiZ5Luj6KGo5LiN6ZyA6KaB5ZCI5bm25ZSv5LiA55qE5a2Q6Lev55SxCiAgICAgICAgICBpZiAocm91dGUuYWx3YXlzU2hvdyA9PT0gdHJ1ZSkgewogICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICB9IC8vIOS7o+ihqOiHqueUseS4gOS4quWtkOi3r+eUseWvueixoe+8jOatpOaXtui/mOmcgOimgeajgOafpeaYr+WQpuWtmOWcqOivpeWUr+S4gOeahOWtkOi3r+eUseaYr+WQpui/mOWtmOWcqOWtkOi3r+eUsSzmraTml7Z0bXDorrDlvZXnmoTlsLHmmK/or6XllK/kuIDnmoTlrZDot6/nlLEKCgogICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodG1wLmNoaWxkcmVuKSAmJiB0bXAuY2hpbGRyZW4ubGVuZ3RoID4gMCkgewogICAgICAgICAgICAvLyDlrZDot6/nlLHor6XlrZjlnKjlrZDot6/nlLHvvIzkuI3og73muLLmn5PmiJDoj5zljZXpobkKICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgLy8g5a2Q6Lev55Sx5rKh5pyJ5a2Q6Lev55Sx5LqG77yM5Y+v5Lul5riy5p+TCiAgICAgICAgICAgIC8vIOeUseS6juaKiuW9k+WJjei3r+eUseWSjOWUr+S4gOeahOWtkOi3r+eUseWQiOW5tuS6hu+8jOaJgOS7peS7o+ihqOeahOi3r+W+hOS5n+imgeWQiOW5tu+8jOWFtuS9meeahOaMieeFp+WtkOi3r+eUseeahOmFjee9ruaYvuekugogICAgICAgICAgICB0bXAucGF0aCA9IHBhdGgucmVzb2x2ZShyb3V0ZS5wYXRoLCB0bXAucGF0aCk7CiAgICAgICAgICAgIHNob3dlZFJvdXRlSXRlbS52YWx1ZSA9IHRtcDsKICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBpZiAoc2hvd2luZ0NoaWxkcmVuLmxlbmd0aCA9PT0gMCkgewogICAgICAgICAgLy8g5Luj6KGo5bey57uP5rKh5pyJ5Y+v5Lul5bGV56S655qE6Lev55Sx5a+56LGh5LqGCiAgICAgICAgICAvLyDliJnmuLLmn5Por6Xnu4Tku7bkvZzkuLroj5zljZXpobkKICAgICAgICAgIHNob3dlZFJvdXRlSXRlbS52YWx1ZSA9IHJvdXRlOwogICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgLy8g5rKh5pyJ5a2Q6Lev55Sx5YiZ5bCGIOS8oOWFpeeahGl0ZW0g5riy5p+T5Li66I+c5Y2V6aG5CiAgICAgICAgc2hvd2VkUm91dGVJdGVtLnZhbHVlID0gcm91dGU7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgIH0KICAgIH0KCiAgICBmdW5jdGlvbiByZXNvbHZlUGF0aChyb3V0ZVBhdGgpIHsKICAgICAgcmV0dXJuIHBhdGgucmVzb2x2ZShwcm9wcy5iYXNlUGF0aCwgcm91dGVQYXRoKTsKICAgIH0KCiAgICByZXR1cm4gewogICAgICBzaG93ZWRSb3V0ZUl0ZW06IHNob3dlZFJvdXRlSXRlbSwKICAgICAgaXNTaG93Um91dGVJdGVtOiBpc1Nob3dSb3V0ZUl0ZW0sCiAgICAgIHJlc29sdmVQYXRoOiByZXNvbHZlUGF0aAogICAgfTsKICB9Cn07"},{"version":3,"mappings":";;AA4BA,SAAQA,UAAR,EAAmBC,KAAnB,QAA+B,KAA/B;AACA,OAAOC,IAAP,MAAiB,MAAjB;AAEA,eAAe;EACbC,IAAI,EAAE,aADO;EAEbC,KAAK,EAAC;IACJC,IAAI,EAAC;MACHC,IAAI,EAAEC,MADH;MAEHC,QAAQ,EAAE;IAFP,CADD;IAKJC,QAAQ,EAAC;MACPH,IAAI,EAAEI,MADC;MAEPF,QAAQ,EAAE;IAFH;EALL,CAFO;EAYbG,KAZa,iBAYPP,KAZO,EAYD;IAEV;IACA,IAAMQ,eAAc,GAAIZ,UAAU,CAAC,IAAD,CAAlC;IACA;;;;;;;IAMA,SAASa,eAAT,CAAyBC,QAAzB,EAAkCC,KAAlC,EAAwC;MACtC;MACAD,QAAO,GAAIb,KAAK,CAACa,QAAD,CAAhB;MACAC,KAAI,GAAId,KAAK,CAACc,KAAD,CAAb;;MACA,IAAGC,KAAK,CAACC,OAAN,CAAcH,QAAd,CAAH,EAA2B;QACzB,IAAII,GAAE,GAAI,IAAV,CADyB,CAEzB;;QACA,IAAMC,eAAc,GAAIL,QAAQ,CAACM,MAAT,CAAgB,cAAG,EAAK;UAC9C,IAAGf,IAAI,CAACgB,MAAR,EAAe;YACb,OAAO,KAAP;UACD,CAFD,MAEK;YACH;YACAH,GAAE,GAAIb,IAAN;YACA,OAAO,IAAP;UACF;QACD,CARuB,CAAxB;;QASA,IAAGc,eAAe,CAACG,MAAhB,KAA2B,CAA9B,EAAgC;UAC9B;UACA,IAAGP,KAAK,CAACQ,UAAN,KAAqB,IAAxB,EAA6B;YAC3B,OAAO,KAAP;UACF,CAJ8B,CAK9B;;;UACA,IAAGP,KAAK,CAACC,OAAN,CAAcC,GAAG,CAACJ,QAAlB,KAA+BI,GAAG,CAACJ,QAAJ,CAAaQ,MAAb,GAAsB,CAAxD,EAA0D;YACxD;YACA,OAAO,KAAP;UACD,CAHD,MAGK;YACH;YACA;YACAJ,GAAG,CAAChB,IAAJ,GAAWA,IAAI,CAACsB,OAAL,CAAaT,KAAK,CAACb,IAAnB,EAAwBgB,GAAG,CAAChB,IAA5B,CAAX;YACAU,eAAe,CAACa,KAAhB,GAAwBP,GAAxB;YACA,OAAO,IAAP;UACF;QACF;;QACA,IAAGC,eAAe,CAACG,MAAhB,KAA2B,CAA9B,EAAgC;UAC9B;UACA;UACAV,eAAe,CAACa,KAAhB,GAAwBV,KAAxB;UACA,OAAO,IAAP;QACF;;QACA,OAAO,KAAP;MACD,CApCD,MAoCK;QACH;QACAH,eAAe,CAACa,KAAhB,GAAwBV,KAAxB;QACA,OAAO,IAAP;MACF;IACF;;IAEA,SAASW,WAAT,CAAqBC,SAArB,EAAgC;MAC9B,OAAOzB,IAAI,CAACsB,OAAL,CAAapB,KAAK,CAACK,QAAnB,EAA4BkB,SAA5B,CAAP;IACF;;IAGA,OAAO;MACLf,eAAe,EAAfA,eADK;MAELC,eAAe,EAAfA,eAFK;MAGLa,WAAU,EAAVA;IAHK,CAAP;EAKF;AA/Ea,CAAf","names":["shallowRef","toRaw","path","name","props","item","type","Object","required","basePath","String","setup","showedRouteItem","isShowRouteItem","children","route","Array","isArray","tmp","showingChildren","filter","hidden","length","alwaysShow","resolve","value","resolvePath","routePath"],"sourceRoot":"","sources":["D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\src\\layout\\Sidebar\\SidebarItem.vue"],"sourcesContent":["<template>\n  <template v-if=\"!item.hidden\">\n    <template v-if=\"isShowRouteItem(item.children,item) && showedRouteItem\">\n      <template v-if=\"showedRouteItem.meta\">\n        <router-link :to=\"resolvePath(showedRouteItem.path)\">\n          <el-menu-item  :index=\"resolvePath(showedRouteItem.path)\">\n            <i :class=\"[showedRouteItem.meta.icon]\"></i>\n            <template #title>{{showedRouteItem.meta.title}}</template>\n          </el-menu-item>\n        </router-link>\n      </template>\n    </template>\n    <template v-else>\n      <el-sub-menu :index=\"resolvePath(item.path)\">\n        <template #title v-if=\"item.meta\">\n          <i :class=\"item.meta.icon\" class=\"sub-menu-icon\"></i>\n          <span>{{item.meta.title}}</span>\n        </template>\n        <sidebar-item\n            v-for=\"child in item.children\" :key=\"child.path\"\n            :item=\"child\" :base-path=\"resolvePath(item.path)\">\n        </sidebar-item>\n      </el-sub-menu>\n    </template>\n  </template>\n</template>\n\n<script>\nimport {shallowRef,toRaw} from 'vue'\nimport path from 'path'\n\nexport default {\n  name: \"SidebarItem\",\n  props:{\n    item:{\n      type: Object,\n      required: true\n    },\n    basePath:{\n      type: String,\n      required: true\n    }\n  },\n  setup(props){\n\n    // 当该组件可以被渲染成菜单项(el-menu-item组件),停止递归渲染菜单，存储被渲染的数据\n    const showedRouteItem = shallowRef(null)\n    /**\n     * 判断该路由对象是否只有一个子路由或者没有子路由\n     * 也就是说只有一个子路由或者没有子路由，则会被渲染为el-menu-item组件，停止递归渲染的行为\n     * @param children  当前组件的子路由对象  props.item.children\n     * @param route 当前组件的路由对象 props.item\n     */\n    function isShowRouteItem(children,route){\n      // 消除响应式\n      children = toRaw(children)\n      route = toRaw(route)\n      if(Array.isArray(children)){\n        let tmp = null\n        // 查看子路由中可以被渲染的节点\n        const showingChildren = children.filter(item => {\n          if(item.hidden){\n            return false\n          }else{\n            // 记录可能可以被渲染的路由\n            tmp = item\n            return true\n          }\n        })\n        if(showingChildren.length === 1){\n          // 如果该路由定义了alwaysShow: true属性，则代表不需要合并唯一的子路由\n          if(route.alwaysShow === true){\n            return false\n          }\n          // 代表自由一个子路由对象，此时还需要检查是否存在该唯一的子路由是否还存在子路由,此时tmp记录的就是该唯一的子路由\n          if(Array.isArray(tmp.children) && tmp.children.length > 0){\n            // 子路由该存在子路由，不能渲染成菜单项\n            return false\n          }else{\n            // 子路由没有子路由了，可以渲染\n            // 由于把当前路由和唯一的子路由合并了，所以代表的路径也要合并，其余的按照子路由的配置显示\n            tmp.path = path.resolve(route.path,tmp.path)\n            showedRouteItem.value = tmp\n            return true\n          }\n        }\n        if(showingChildren.length === 0){\n          // 代表已经没有可以展示的路由对象了\n          // 则渲染该组件作为菜单项\n          showedRouteItem.value = route\n          return true\n        }\n        return false\n      }else{\n        // 没有子路由则将 传入的item 渲染为菜单项\n        showedRouteItem.value = route\n        return true\n      }\n    }\n\n    function resolvePath(routePath) {\n      return path.resolve(props.basePath,routePath)\n    }\n\n\n    return {\n      showedRouteItem,\n      isShowRouteItem,\n      resolvePath\n    }\n  }\n}\n</script>\n\n"]}]}