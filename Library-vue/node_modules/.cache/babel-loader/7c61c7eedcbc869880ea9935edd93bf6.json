{"remainingRequest":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\babel-loader\\lib\\index.js!D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\src\\layout\\Tags\\index.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\src\\layout\\Tags\\index.vue","mtime":1654054537000},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\babel.config.js","mtime":1654054537000},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\unplugin\\dist\\webpack\\loaders\\transform.js","mtime":1749726393299},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\unplugin\\dist\\webpack\\loaders\\transform.js","mtime":1749726393299},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\unplugin\\dist\\webpack\\loaders\\transform.js","mtime":1749726393299},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\unplugin\\dist\\webpack\\loaders\\transform.js","mtime":1749726393299},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1749726397539},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1749726398436},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1749726397539},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1749726393897}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgdXNlQXBwU2V0dGluZ1N0b3JlIH0gZnJvbSAnQC9zdG9yZS91c2VBcHBTZXR0aW5nU3RvcmUnOwppbXBvcnQgeyB1c2VSb3V0ZXIsIHVzZVJvdXRlIH0gZnJvbSAidnVlLXJvdXRlciI7CmltcG9ydCB7IHdhdGNoIH0gZnJvbSAndnVlJzsKaW1wb3J0IHsgc3RvcmVUb1JlZnMgfSBmcm9tICJwaW5pYSI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiVGFncyIsCiAgc2V0dXA6IGZ1bmN0aW9uIHNldHVwKCkgewogICAgdmFyIHJvdXRlID0gdXNlUm91dGUoKTsKICAgIHZhciByb3V0ZXIgPSB1c2VSb3V0ZXIoKTsKICAgIHZhciBBcHBTZXR0aW5nU3RvcmUgPSB1c2VBcHBTZXR0aW5nU3RvcmUoKTsgLy8g6I635Y+Wc3RvcmXkuK3nmoTmoIfnrb7liJfooagKCiAgICB2YXIgX3N0b3JlVG9SZWZzID0gc3RvcmVUb1JlZnMoQXBwU2V0dGluZ1N0b3JlKSwKICAgICAgICB0YWdMaXN0ID0gX3N0b3JlVG9SZWZzLnRhZ0xpc3Q7IC8vIOWIpOaWreagh+etvuaYr+WQpuS4uuW9k+WJjemhtemdogoKCiAgICB2YXIgaXNBY3RpdmUgPSBmdW5jdGlvbiBpc0FjdGl2ZSh0YWcpIHsKICAgICAgcmV0dXJuIHRhZy5wYXRoID09PSByb3V0ZS5wYXRoOwogICAgfTsgLy8g5qC55o2u5b2T5YmN55qE6Lev55Sx6aG56K6+572u5qCH562+CgoKICAgIGZ1bmN0aW9uIHNldFRhZyhyb3V0ZUl0ZW0pIHsKICAgICAgLy8g5Yik5pat6Lev55Sx5a+56LGh5piv5ZCm5ZCI55CG77yM5pyJ5p2h5Lu25Y+Y5Li65LiA5LiqdGFnCiAgICAgIGlmIChyb3V0ZUl0ZW0ubWV0YSAmJiByb3V0ZUl0ZW0ucGF0aCAmJiByb3V0ZUl0ZW0ubWV0YS50aXRsZSkgewogICAgICAgIGlmIChyb3V0ZUl0ZW0ubWV0YS5zaG93SW5UYWcgPT09IGZhbHNlKSB7CiAgICAgICAgICAvLyDphY3nva7kuI3mmL7npLror6Xot6/nlLF0YWcKICAgICAgICAgIHJldHVybjsKICAgICAgICB9IC8vIOWIpOaWrei3s+i9rOeahOi3r+eUseaYr+WQpuW3sue7j+WcqOWvvOagh+etvuS4reWtmOWcqAoKCiAgICAgICAgdmFyIGlzRXhpc3QgPSBBcHBTZXR0aW5nU3RvcmUuaXNFeGlzdFRhZyhyb3V0ZUl0ZW0pOwoKICAgICAgICBpZiAoIWlzRXhpc3QpIHsKICAgICAgICAgIC8vIOS4jeWtmOWcqOmHjeWkjeeahOagh+etvuWImea3u+WKoAogICAgICAgICAgQXBwU2V0dGluZ1N0b3JlLmFkZFRhZyhyb3V0ZUl0ZW0pOwogICAgICAgIH0KICAgICAgfQogICAgfQoKICAgIHdhdGNoKGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIHJvdXRlLnBhdGg7CiAgICB9LCBmdW5jdGlvbiAoKSB7CiAgICAgIC8vIOavj+W9k+i3r+eUseabtOaWsOWQjuiwg+eUqOiuvue9rui3r+eUseeahOaWueazlQogICAgICBzZXRUYWcocm91dGUpOwogICAgfSwgewogICAgICBpbW1lZGlhdGU6IHRydWUsCiAgICAgIGRlZXA6IHRydWUKICAgIH0pOyAvLyDlhbPpl63mn5DkuIDkuKrmoIfnrb4KCiAgICB2YXIgY2xvc2VUYWcgPSBmdW5jdGlvbiBjbG9zZVRhZyhpbmRleCkgewogICAgICB2YXIgZGVsSXRlbSA9IHRhZ0xpc3QudmFsdWVbaW5kZXhdOyAvLyDliKDpmaTor6XmoIfnrb4KCiAgICAgIEFwcFNldHRpbmdTdG9yZS5kZWxUYWdzKGluZGV4LCAxKTsgLy8g5qCH562+6KKr5Yig6Zmk5ZCO5LiL5LiA5Liq5bGV56S655qE5qCH562+CgogICAgICB2YXIgbmV4dFNob3dJdGVtID0gdGFnTGlzdC52YWx1ZVtpbmRleF0gPyB0YWdMaXN0LnZhbHVlW2luZGV4XSA6IHRhZ0xpc3QudmFsdWVbaW5kZXggLSAxXTsKCiAgICAgIGlmIChuZXh0U2hvd0l0ZW0pIHsKICAgICAgICAvLyDlvZPliY3liKDpmaTnmoTot6/nlLHlkozmoIfnrb7kuIDoh7TvvIzliJnot7PovazliLDkuIvkuIDkuKrmoIfnrb4KICAgICAgICBkZWxJdGVtLnBhdGggPT09IHJvdXRlLnBhdGggJiYgcm91dGVyLnB1c2gobmV4dFNob3dJdGVtLnBhdGgpOwogICAgICB9IGVsc2UgewogICAgICAgIHJvdXRlci5wdXNoKCIvIik7CiAgICAgIH0KICAgIH07CgogICAgcmV0dXJuIHsKICAgICAgQXBwU2V0dGluZ1N0b3JlOiBBcHBTZXR0aW5nU3RvcmUsCiAgICAgIGlzQWN0aXZlOiBpc0FjdGl2ZSwKICAgICAgY2xvc2VUYWc6IGNsb3NlVGFnLAogICAgICB0YWdMaXN0OiB0YWdMaXN0CiAgICB9OwogIH0KfTs="},{"version":3,"mappings":"AAYA,SAAQA,kBAAR,QAAiC,4BAAjC;AACA,SAAQC,SAAR,EAAkBC,QAAlB,QAAiC,YAAjC;AACA,SAAQC,KAAR,QAAoB,KAApB;AACA,SAAQC,WAAR,QAA0B,OAA1B;AAEA,eAAe;EACbC,IAAI,EAAE,MADO;EAEbC,KAFa,mBAEN;IACL,IAAMC,KAAI,GAAIL,QAAQ,EAAtB;IACA,IAAMM,MAAK,GAAIP,SAAS,EAAxB;IACA,IAAMQ,eAAc,GAAIT,kBAAkB,EAA1C,CAHK,CAKL;;IACA,mBAAkBI,WAAW,CAACK,eAAD,CAA7B;IAAA,IAAOC,OAAP,gBAAOA,OAAP,CANK,CAQL;;;IACA,IAAMC,QAAO,GAAI,SAAXA,QAAW,CAACC,GAAD,EAAO;MACtB,OAAOA,GAAG,CAACC,IAAJ,KAAaN,KAAK,CAACM,IAA1B;IACF,CAFA,CATK,CAaL;;;IACA,SAASC,MAAT,CAAgBC,SAAhB,EAA0B;MACxB;MACA,IAAGA,SAAS,CAACC,IAAV,IAAkBD,SAAS,CAACF,IAA5B,IAAoCE,SAAS,CAACC,IAAV,CAAeC,KAAtD,EAA4D;QAC1D,IAAGF,SAAS,CAACC,IAAV,CAAeE,SAAf,KAA6B,KAAhC,EAAsC;UACpC;UACA;QACF,CAJ0D,CAK1D;;;QACA,IAAMC,OAAM,GAAIV,eAAe,CAACW,UAAhB,CAA2BL,SAA3B,CAAhB;;QACA,IAAG,CAACI,OAAJ,EAAY;UACV;UACAV,eAAe,CAACY,MAAhB,CAAuBN,SAAvB;QACF;MACF;IACF;;IACAZ,KAAK,CAAC;MAAA,OAAII,KAAK,CAACM,IAAV;IAAA,CAAD,EAAgB,YAAI;MACvB;MACAC,MAAM,CAACP,KAAD,CAAN;IACD,CAHI,EAGH;MAACe,SAAS,EAAE,IAAZ;MAAiBC,IAAI,EAAE;IAAvB,CAHG,CAAL,CA7BK,CAkCL;;IACA,IAAMC,QAAO,GAAI,SAAXA,QAAW,CAACC,KAAD,EAAU;MACzB,IAAMC,OAAM,GAAIhB,OAAO,CAACiB,KAAR,CAAcF,KAAd,CAAhB,CADyB,CAEzB;;MACAhB,eAAe,CAACmB,OAAhB,CAAwBH,KAAxB,EAA8B,CAA9B,EAHyB,CAIzB;;MACA,IAAMI,YAAW,GAAInB,OAAO,CAACiB,KAAR,CAAcF,KAAd,IAAuBf,OAAO,CAACiB,KAAR,CAAcF,KAAd,CAAvB,GAA8Cf,OAAO,CAACiB,KAAR,CAAcF,KAAI,GAAI,CAAtB,CAAnE;;MACA,IAAGI,YAAH,EAAgB;QACd;QACAH,OAAO,CAACb,IAAR,KAAiBN,KAAK,CAACM,IAAvB,IAA+BL,MAAM,CAACsB,IAAP,CAAYD,YAAY,CAAChB,IAAzB,CAA/B;MACD,CAHD,MAGK;QACHL,MAAM,CAACsB,IAAP,CAAY,GAAZ;MACF;IACF,CAZA;;IAcA,OAAO;MACLrB,eAAe,EAAfA,eADK;MACWE,QAAQ,EAARA,QADX;MACoBa,QAAQ,EAARA,QADpB;MAC6Bd,OAAM,EAANA;IAD7B,CAAP;EAGF;AAtDa,CAAf","names":["useAppSettingStore","useRouter","useRoute","watch","storeToRefs","name","setup","route","router","AppSettingStore","tagList","isActive","tag","path","setTag","routeItem","meta","title","showInTag","isExist","isExistTag","addTag","immediate","deep","closeTag","index","delItem","value","delTags","nextShowItem","push"],"sourceRoot":"","sources":["D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\src\\layout\\Tags\\index.vue"],"sourcesContent":["<template>\n  <div class=\"tags-wrapper\" v-if=\"AppSettingStore.isShowTagList && tagList.length > 0\">\n    <transition-group tag=\"div\" name=\"tag-fade\" class=\"tags-list\" mode=\"out-in\">\n      <div class=\"tag-item\" v-for=\"(tag,index) in tagList\" :key=\"tag.path\" :class=\"{'active-tag':isActive(tag)}\">\n        <router-link :to=\"tag.path\">{{tag.title}}</router-link>\n        <i class=\"el-icon-xjh-close tag-delete-icon\" @click=\"closeTag(index)\"></i>\n      </div>\n    </transition-group>\n  </div>\n</template>\n\n<script>\nimport {useAppSettingStore} from '@/store/useAppSettingStore'\nimport {useRouter,useRoute} from \"vue-router\";\nimport {watch} from 'vue'\nimport {storeToRefs} from \"pinia\";\n\nexport default {\n  name: \"Tags\",\n  setup(){\n    const route = useRoute()\n    const router = useRouter()\n    const AppSettingStore = useAppSettingStore()\n\n    // 获取store中的标签列表\n    const {tagList} = storeToRefs(AppSettingStore)\n\n    // 判断标签是否为当前页面\n    const isActive = (tag)=>{\n      return tag.path === route.path\n    }\n\n    // 根据当前的路由项设置标签\n    function setTag(routeItem){\n      // 判断路由对象是否合理，有条件变为一个tag\n      if(routeItem.meta && routeItem.path && routeItem.meta.title){\n        if(routeItem.meta.showInTag === false){\n          // 配置不显示该路由tag\n          return;\n        }\n        // 判断跳转的路由是否已经在导标签中存在\n        const isExist = AppSettingStore.isExistTag(routeItem)\n        if(!isExist){\n          // 不存在重复的标签则添加\n          AppSettingStore.addTag(routeItem)\n        }\n      }\n    }\n    watch(()=>route.path,()=>{\n      // 每当路由更新后调用设置路由的方法\n      setTag(route)\n    },{immediate: true,deep: true})\n\n    // 关闭某一个标签\n    const closeTag = (index) =>{\n      const delItem = tagList.value[index]\n      // 删除该标签\n      AppSettingStore.delTags(index,1)\n      // 标签被删除后下一个展示的标签\n      const nextShowItem = tagList.value[index] ? tagList.value[index] : tagList.value[index - 1]\n      if(nextShowItem){\n        // 当前删除的路由和标签一致，则跳转到下一个标签\n        delItem.path === route.path && router.push(nextShowItem.path)\n      }else{\n        router.push(\"/\")\n      }\n    }\n\n    return {\n      AppSettingStore,isActive,closeTag,tagList\n    }\n  }\n}\n</script>\n\n<style scoped lang=\"scss\">\n@import \"~@/layout/variable.scss\";\n.tags-wrapper{\n  position: relative;\n  height: $tagDivHeight;\n  overflow: hidden;\n  background: #ffffff;\n  box-shadow: 0 5px 5px #ddd;\n  .tags-list{\n    box-sizing: border-box;\n    width: 100%;\n    height: 100%;\n    display: flex;\n    align-items: center;\n    // 标签消息的动画\n    .tag-item{\n      white-space:nowrap;\n      width: auto;\n      margin: 3px 5px 2px 3px;\n      border-radius: 3px;\n      font-size: 12px;\n      overflow: hidden;\n      cursor: pointer;\n      line-height: $tagHeight;\n      border: 1px solid #e9eaec;\n      background: #fff;\n      padding: 0 5px 0 12px;\n      vertical-align: middle;\n      color: #666;\n      a{\n        text-decoration: none;\n        color: inherit;\n      }\n      .tag-delete-icon{\n        font-size: 14px;\n        line-height: $tagHeight;\n      }\n      &.active-tag{\n        color: #fff;\n        border: 1px solid #409EFF;\n        background-color: #409EFF;\n      }\n      &:not(.active-tag):hover{\n        background: #f8f8f8;\n      }\n    }\n  }\n}\n// tag的标签添加和删除的动画\n.tag-fade-leave-active,.tag-fade-enter-active{\n  transition: all .3s ease-in-out;\n}\n.tag-fade-leave-from{\n  transform: scale(1);\n}\n.tag-fade-leave-to{\n  transform: scale(0);\n}\n.tag-fade-enter-from{\n  opacity: 0;\n}\n.tag-fade-enter-to{\n  opacity: 1;\n}\n</style>\n"]}]}