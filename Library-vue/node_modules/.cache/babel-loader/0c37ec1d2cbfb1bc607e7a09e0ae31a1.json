{"remainingRequest":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\babel-loader\\lib\\index.js!D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\templateLoader.js??ref--6!D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\src\\layout\\Tags\\index.vue?vue&type=template&id=ec7b4710&scoped=true","dependencies":[{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\src\\layout\\Tags\\index.vue","mtime":1654054537000},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\babel.config.js","mtime":1654054537000},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\unplugin\\dist\\webpack\\loaders\\transform.js","mtime":1749726393299},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\unplugin\\dist\\webpack\\loaders\\transform.js","mtime":1749726393299},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\unplugin\\dist\\webpack\\loaders\\transform.js","mtime":1749726393299},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\unplugin\\dist\\webpack\\loaders\\transform.js","mtime":1749726393299},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1749726397539},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1749726398436},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\templateLoader.js","mtime":1749726395074},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1749726397539},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1749726393897}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgcmVuZGVyTGlzdCBhcyBfcmVuZGVyTGlzdCwgRnJhZ21lbnQgYXMgX0ZyYWdtZW50LCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jaywgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2ssIHRvRGlzcGxheVN0cmluZyBhcyBfdG9EaXNwbGF5U3RyaW5nLCBjcmVhdGVUZXh0Vk5vZGUgYXMgX2NyZWF0ZVRleHRWTm9kZSwgcmVzb2x2ZUNvbXBvbmVudCBhcyBfcmVzb2x2ZUNvbXBvbmVudCwgd2l0aEN0eCBhcyBfd2l0aEN0eCwgY3JlYXRlVk5vZGUgYXMgX2NyZWF0ZVZOb2RlLCBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZSwgbm9ybWFsaXplQ2xhc3MgYXMgX25vcm1hbGl6ZUNsYXNzLCBUcmFuc2l0aW9uR3JvdXAgYXMgX1RyYW5zaXRpb25Hcm91cCwgY3JlYXRlQ29tbWVudFZOb2RlIGFzIF9jcmVhdGVDb21tZW50Vk5vZGUsIHB1c2hTY29wZUlkIGFzIF9wdXNoU2NvcGVJZCwgcG9wU2NvcGVJZCBhcyBfcG9wU2NvcGVJZCB9IGZyb20gInZ1ZSI7Cgp2YXIgX3dpdGhTY29wZUlkID0gZnVuY3Rpb24gX3dpdGhTY29wZUlkKG4pIHsKICByZXR1cm4gX3B1c2hTY29wZUlkKCJkYXRhLXYtZWM3YjQ3MTAiKSwgbiA9IG4oKSwgX3BvcFNjb3BlSWQoKSwgbjsKfTsKCnZhciBfaG9pc3RlZF8xID0gewogIGtleTogMCwKICBjbGFzczogInRhZ3Mtd3JhcHBlciIKfTsKdmFyIF9ob2lzdGVkXzIgPSBbIm9uQ2xpY2siXTsKZXhwb3J0IGZ1bmN0aW9uIHJlbmRlcihfY3R4LCBfY2FjaGUsICRwcm9wcywgJHNldHVwLCAkZGF0YSwgJG9wdGlvbnMpIHsKICB2YXIgX2NvbXBvbmVudF9yb3V0ZXJfbGluayA9IF9yZXNvbHZlQ29tcG9uZW50KCJyb3V0ZXItbGluayIpOwoKICByZXR1cm4gJHNldHVwLkFwcFNldHRpbmdTdG9yZS5pc1Nob3dUYWdMaXN0ICYmICRzZXR1cC50YWdMaXN0Lmxlbmd0aCA+IDAgPyAoX29wZW5CbG9jaygpLCBfY3JlYXRlRWxlbWVudEJsb2NrKCJkaXYiLCBfaG9pc3RlZF8xLCBbX2NyZWF0ZVZOb2RlKF9UcmFuc2l0aW9uR3JvdXAsIHsKICAgIHRhZzogImRpdiIsCiAgICBuYW1lOiAidGFnLWZhZGUiLAogICAgY2xhc3M6ICJ0YWdzLWxpc3QiLAogICAgbW9kZTogIm91dC1pbiIKICB9LCB7CiAgICBkZWZhdWx0OiBfd2l0aEN0eChmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBbKF9vcGVuQmxvY2sodHJ1ZSksIF9jcmVhdGVFbGVtZW50QmxvY2soX0ZyYWdtZW50LCBudWxsLCBfcmVuZGVyTGlzdCgkc2V0dXAudGFnTGlzdCwgZnVuY3Rpb24gKHRhZywgaW5kZXgpIHsKICAgICAgICByZXR1cm4gX29wZW5CbG9jaygpLCBfY3JlYXRlRWxlbWVudEJsb2NrKCJkaXYiLCB7CiAgICAgICAgICBjbGFzczogX25vcm1hbGl6ZUNsYXNzKFsidGFnLWl0ZW0iLCB7CiAgICAgICAgICAgICdhY3RpdmUtdGFnJzogJHNldHVwLmlzQWN0aXZlKHRhZykKICAgICAgICAgIH1dKSwKICAgICAgICAgIGtleTogdGFnLnBhdGgKICAgICAgICB9LCBbX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfcm91dGVyX2xpbmssIHsKICAgICAgICAgIHRvOiB0YWcucGF0aAogICAgICAgIH0sIHsKICAgICAgICAgIGRlZmF1bHQ6IF93aXRoQ3R4KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgcmV0dXJuIFtfY3JlYXRlVGV4dFZOb2RlKF90b0Rpc3BsYXlTdHJpbmcodGFnLnRpdGxlKSwgMQogICAgICAgICAgICAvKiBURVhUICovCiAgICAgICAgICAgICldOwogICAgICAgICAgfSksCiAgICAgICAgICBfOiAyCiAgICAgICAgICAvKiBEWU5BTUlDICovCgogICAgICAgIH0sIDEwMzIKICAgICAgICAvKiBQUk9QUywgRFlOQU1JQ19TTE9UUyAqLwogICAgICAgICwgWyJ0byJdKSwgX2NyZWF0ZUVsZW1lbnRWTm9kZSgiaSIsIHsKICAgICAgICAgIGNsYXNzOiAiZWwtaWNvbi14amgtY2xvc2UgdGFnLWRlbGV0ZS1pY29uIiwKICAgICAgICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soJGV2ZW50KSB7CiAgICAgICAgICAgIHJldHVybiAkc2V0dXAuY2xvc2VUYWcoaW5kZXgpOwogICAgICAgICAgfQogICAgICAgIH0sIG51bGwsIDgKICAgICAgICAvKiBQUk9QUyAqLwogICAgICAgICwgX2hvaXN0ZWRfMildLCAyCiAgICAgICAgLyogQ0xBU1MgKi8KICAgICAgICApOwogICAgICB9KSwgMTI4CiAgICAgIC8qIEtFWUVEX0ZSQUdNRU5UICovCiAgICAgICkpXTsKICAgIH0pLAogICAgXzogMQogICAgLyogU1RBQkxFICovCgogIH0pXSkpIDogX2NyZWF0ZUNvbW1lbnRWTm9kZSgidi1pZiIsIHRydWUpOwp9"},{"version":3,"mappings":";;;;;;;;EACOA,KAAK,EAAC;;;;;;SAAqBC,uBAAgBC,aAAhB,IAAiCD,eAAQE,MAAR,GAAc,mBAA/EC,oBAOM,KAPN,cAOM,CANJC,aAKmBC,gBALnB,EAKmB;IALDC,GAAG,EAAC,KAKH;IALSC,IAAI,EAAC,UAKd;IALyBR,KAAK,EAAC,WAK/B;IAL2CS,IAAI,EAAC;EAKhD,CALnB;sBACwB;MAAA,OAA8B,oBAApDL,oBAGMM,SAHN,EAGM,IAHN,EAGMC,YAHsCV,cAGtC,EAH6C,UAArBM,GAAqB,EAAjBK,KAAiB,EAAZ;6BAAvCR,oBAGM,KAHN,EAGM;UAHDJ,KAAK,mBAAC,UAAD,EAAW;YAAA,cAAsEC,gBAASM,GAAT;UAAtE,CAAX,EAGJ;UAHgDM,GAAG,EAAEN,GAAG,CAACO;QAGzD,CAHN,GACET,aAAuDU,sBAAvD,EAAuD;UAAzCC,EAAE,EAAET,GAAG,CAACO;QAAiC,CAAvD;4BAA4B;YAAA,OAAa,mCAAXP,GAAG,CAACU,QAAK;YAAA;aAAE,CAAb;UAAA;;;;SAA5B;;QAAA,WACAC,oBAA0E,GAA1E,EAA0E;UAAvElB,KAAK,EAAC,mCAAiE;UAA5BmB,OAAK;YAAA,OAAElB,gBAASW,KAAT,CAAF;UAAA;QAAuB,CAA1E;;QAAA,cAFF;;QAAA;OAGM,CAHN;;MAAA,CAAoD,EAA9B;IAAA;;;;GADxB,CAMI,CAPN","names":["class","$setup","isShowTagList","length","_createElementBlock","_createVNode","_TransitionGroup","tag","name","mode","_Fragment","_renderList","index","key","path","_component_router_link","to","title","_createElementVNode","onClick"],"sourceRoot":"","sources":["D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\src\\layout\\Tags\\index.vue"],"sourcesContent":["<template>\n  <div class=\"tags-wrapper\" v-if=\"AppSettingStore.isShowTagList && tagList.length > 0\">\n    <transition-group tag=\"div\" name=\"tag-fade\" class=\"tags-list\" mode=\"out-in\">\n      <div class=\"tag-item\" v-for=\"(tag,index) in tagList\" :key=\"tag.path\" :class=\"{'active-tag':isActive(tag)}\">\n        <router-link :to=\"tag.path\">{{tag.title}}</router-link>\n        <i class=\"el-icon-xjh-close tag-delete-icon\" @click=\"closeTag(index)\"></i>\n      </div>\n    </transition-group>\n  </div>\n</template>\n\n<script>\nimport {useAppSettingStore} from '@/store/useAppSettingStore'\nimport {useRouter,useRoute} from \"vue-router\";\nimport {watch} from 'vue'\nimport {storeToRefs} from \"pinia\";\n\nexport default {\n  name: \"Tags\",\n  setup(){\n    const route = useRoute()\n    const router = useRouter()\n    const AppSettingStore = useAppSettingStore()\n\n    // 获取store中的标签列表\n    const {tagList} = storeToRefs(AppSettingStore)\n\n    // 判断标签是否为当前页面\n    const isActive = (tag)=>{\n      return tag.path === route.path\n    }\n\n    // 根据当前的路由项设置标签\n    function setTag(routeItem){\n      // 判断路由对象是否合理，有条件变为一个tag\n      if(routeItem.meta && routeItem.path && routeItem.meta.title){\n        if(routeItem.meta.showInTag === false){\n          // 配置不显示该路由tag\n          return;\n        }\n        // 判断跳转的路由是否已经在导标签中存在\n        const isExist = AppSettingStore.isExistTag(routeItem)\n        if(!isExist){\n          // 不存在重复的标签则添加\n          AppSettingStore.addTag(routeItem)\n        }\n      }\n    }\n    watch(()=>route.path,()=>{\n      // 每当路由更新后调用设置路由的方法\n      setTag(route)\n    },{immediate: true,deep: true})\n\n    // 关闭某一个标签\n    const closeTag = (index) =>{\n      const delItem = tagList.value[index]\n      // 删除该标签\n      AppSettingStore.delTags(index,1)\n      // 标签被删除后下一个展示的标签\n      const nextShowItem = tagList.value[index] ? tagList.value[index] : tagList.value[index - 1]\n      if(nextShowItem){\n        // 当前删除的路由和标签一致，则跳转到下一个标签\n        delItem.path === route.path && router.push(nextShowItem.path)\n      }else{\n        router.push(\"/\")\n      }\n    }\n\n    return {\n      AppSettingStore,isActive,closeTag,tagList\n    }\n  }\n}\n</script>\n\n<style scoped lang=\"scss\">\n@import \"~@/layout/variable.scss\";\n.tags-wrapper{\n  position: relative;\n  height: $tagDivHeight;\n  overflow: hidden;\n  background: #ffffff;\n  box-shadow: 0 5px 5px #ddd;\n  .tags-list{\n    box-sizing: border-box;\n    width: 100%;\n    height: 100%;\n    display: flex;\n    align-items: center;\n    // 标签消息的动画\n    .tag-item{\n      white-space:nowrap;\n      width: auto;\n      margin: 3px 5px 2px 3px;\n      border-radius: 3px;\n      font-size: 12px;\n      overflow: hidden;\n      cursor: pointer;\n      line-height: $tagHeight;\n      border: 1px solid #e9eaec;\n      background: #fff;\n      padding: 0 5px 0 12px;\n      vertical-align: middle;\n      color: #666;\n      a{\n        text-decoration: none;\n        color: inherit;\n      }\n      .tag-delete-icon{\n        font-size: 14px;\n        line-height: $tagHeight;\n      }\n      &.active-tag{\n        color: #fff;\n        border: 1px solid #409EFF;\n        background-color: #409EFF;\n      }\n      &:not(.active-tag):hover{\n        background: #f8f8f8;\n      }\n    }\n  }\n}\n// tag的标签添加和删除的动画\n.tag-fade-leave-active,.tag-fade-enter-active{\n  transition: all .3s ease-in-out;\n}\n.tag-fade-leave-from{\n  transform: scale(1);\n}\n.tag-fade-leave-to{\n  transform: scale(0);\n}\n.tag-fade-enter-from{\n  opacity: 0;\n}\n.tag-fade-enter-to{\n  opacity: 1;\n}\n</style>\n"]}]}