{"remainingRequest":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\babel-loader\\lib\\index.js!D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\src\\layout\\Tags\\index.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\src\\layout\\Tags\\index.vue","mtime":1750002395140},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\babel.config.js","mtime":1750002481133},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\unplugin\\dist\\webpack\\loaders\\transform.js","mtime":1749726393299},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\unplugin\\dist\\webpack\\loaders\\transform.js","mtime":1749726393299},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\unplugin\\dist\\webpack\\loaders\\transform.js","mtime":1749726393299},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\unplugin\\dist\\webpack\\loaders\\transform.js","mtime":1749726393299},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1749726397539},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1749726398436},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1749726397539},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1749726393897}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkQ6L1x1Njg0Q1x1OTc2Mi9cdTUyNERcdTdBRUZcdTRFQTRcdTRFOTIvZmluYWwvTGlicmFyeU1hbmFnZW1lbnRTeXN0ZW0tbWFzdGVyL0xpYnJhcnktdnVlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yLmpzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgeyB1c2VSb3V0ZXIsIHVzZVJvdXRlIH0gZnJvbSAidnVlLXJvdXRlciI7CmltcG9ydCB7IHdhdGNoLCBjb21wdXRlZCB9IGZyb20gJ3Z1ZSc7CmltcG9ydCB7IHVzZVN0b3JlIH0gZnJvbSAndnVleCc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiVGFncyIsCiAgc2V0dXA6IGZ1bmN0aW9uIHNldHVwKCkgewogICAgdmFyIHJvdXRlID0gdXNlUm91dGUoKTsKICAgIHZhciByb3V0ZXIgPSB1c2VSb3V0ZXIoKTsKICAgIHZhciBzdG9yZSA9IHVzZVN0b3JlKCk7IC8vIOiOt+WPlnN0b3Jl5Lit55qE5qCH562+5YiX6KGoCgogICAgdmFyIHRhZ0xpc3QgPSBjb21wdXRlZChmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBzdG9yZS5zdGF0ZS5hcHBTZXR0aW5nLnRhZ0xpc3Q7CiAgICB9KTsKICAgIHZhciBpc1Nob3dUYWdMaXN0ID0gY29tcHV0ZWQoZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gc3RvcmUuc3RhdGUuYXBwU2V0dGluZy5pc1Nob3dUYWdMaXN0OwogICAgfSk7IC8vIOWIpOaWreagh+etvuaYr+WQpuS4uuW9k+WJjemhtemdogoKICAgIHZhciBpc0FjdGl2ZSA9IGZ1bmN0aW9uIGlzQWN0aXZlKHRhZykgewogICAgICByZXR1cm4gdGFnLnBhdGggPT09IHJvdXRlLnBhdGg7CiAgICB9OyAvLyDmoLnmja7lvZPliY3nmoTot6/nlLHpobnorr7nva7moIfnrb4KCgogICAgZnVuY3Rpb24gc2V0VGFnKF94KSB7CiAgICAgIHJldHVybiBfc2V0VGFnLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICB9CgogICAgZnVuY3Rpb24gX3NldFRhZygpIHsKICAgICAgX3NldFRhZyA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIocm91dGVJdGVtKSB7CiAgICAgICAgdmFyIGlzRXhpc3Q7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGlmICghKHJvdXRlSXRlbS5tZXRhICYmIHJvdXRlSXRlbS5wYXRoICYmIHJvdXRlSXRlbS5tZXRhLnRpdGxlKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDc7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmICghKHJvdXRlSXRlbS5tZXRhLnNob3dJblRhZyA9PT0gZmFsc2UpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMzsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoInJldHVybiIpOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDU7CiAgICAgICAgICAgICAgICByZXR1cm4gc3RvcmUuZGlzcGF0Y2goJ2FwcFNldHRpbmcvaXNFeGlzdFRhZycsIHJvdXRlSXRlbSk7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICAgIGlzRXhpc3QgPSBfY29udGV4dDIuc2VudDsKCiAgICAgICAgICAgICAgICBpZiAoIWlzRXhpc3QpIHsKICAgICAgICAgICAgICAgICAgLy8g5LiN5a2Y5Zyo6YeN5aSN55qE5qCH562+5YiZ5re75YqgCiAgICAgICAgICAgICAgICAgIHN0b3JlLmRpc3BhdGNoKCdhcHBTZXR0aW5nL2FkZFRhZycsIHJvdXRlSXRlbSk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMik7CiAgICAgIH0pKTsKICAgICAgcmV0dXJuIF9zZXRUYWcuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgIH0KCiAgICB3YXRjaChmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiByb3V0ZS5wYXRoOwogICAgfSwgLyojX19QVVJFX18qL19hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyOwogICAgICAgICAgICAgIHJldHVybiBzZXRUYWcocm91dGUpOwoKICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlKTsKICAgIH0pKSwgewogICAgICBpbW1lZGlhdGU6IHRydWUsCiAgICAgIGRlZXA6IHRydWUKICAgIH0pOyAvLyDlhbPpl63mn5DkuIDkuKrmoIfnrb4KCiAgICB2YXIgY2xvc2VUYWcgPSBmdW5jdGlvbiBjbG9zZVRhZyhpbmRleCkgewogICAgICB2YXIgZGVsSXRlbSA9IHRhZ0xpc3QudmFsdWVbaW5kZXhdOyAvLyDliKDpmaTor6XmoIfnrb4KCiAgICAgIHN0b3JlLmRpc3BhdGNoKCdhcHBTZXR0aW5nL2RlbFRhZ3MnLCB7CiAgICAgICAgc3RhcnQ6IGluZGV4LAogICAgICAgIG51bXM6IDEKICAgICAgfSk7IC8vIOagh+etvuiiq+WIoOmZpOWQjuS4i+S4gOS4quWxleekuueahOagh+etvgoKICAgICAgdmFyIG5leHRTaG93SXRlbSA9IHRhZ0xpc3QudmFsdWVbaW5kZXhdID8gdGFnTGlzdC52YWx1ZVtpbmRleF0gOiB0YWdMaXN0LnZhbHVlW2luZGV4IC0gMV07CgogICAgICBpZiAobmV4dFNob3dJdGVtKSB7CiAgICAgICAgLy8g5b2T5YmN5Yig6Zmk55qE6Lev55Sx5ZKM5qCH562+5LiA6Ie077yM5YiZ6Lez6L2s5Yiw5LiL5LiA5Liq5qCH562+CiAgICAgICAgZGVsSXRlbS5wYXRoID09PSByb3V0ZS5wYXRoICYmIHJvdXRlci5wdXNoKG5leHRTaG93SXRlbS5wYXRoKTsKICAgICAgfSBlbHNlIHsKICAgICAgICByb3V0ZXIucHVzaCgiLyIpOwogICAgICB9CiAgICB9OwoKICAgIHJldHVybiB7CiAgICAgIGlzQWN0aXZlOiBpc0FjdGl2ZSwKICAgICAgY2xvc2VUYWc6IGNsb3NlVGFnLAogICAgICB0YWdMaXN0OiB0YWdMaXN0LAogICAgICBpc1Nob3dUYWdMaXN0OiBpc1Nob3dUYWdMaXN0CiAgICB9OwogIH0KfTs="},{"version":3,"mappings":"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","names":["useRouter","useRoute","watch","computed","useStore","name","setup","route","router","store","tagList","state","appSetting","isShowTagList","isActive","tag","path","setTag","routeItem","meta","title","showInTag","dispatch","isExist","immediate","deep","closeTag","index","delItem","value","start","nums","nextShowItem","push"],"sourceRoot":"","sources":["D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\src\\layout\\Tags\\index.vue"],"sourcesContent":["<template>\n  <div class=\"tags-wrapper\" v-if=\"isShowTagList && tagList.length > 0\">\n    <transition-group tag=\"div\" name=\"tag-fade\" class=\"tags-list\" mode=\"out-in\">\n      <div class=\"tag-item\" v-for=\"(tag,index) in tagList\" :key=\"tag.path\" :class=\"{'active-tag':isActive(tag)}\">\n        <router-link :to=\"tag.path\">{{tag.title}}</router-link>\n        <i class=\"el-icon-xjh-close tag-delete-icon\" @click=\"closeTag(index)\"></i>\n      </div>\n    </transition-group>\n  </div>\n</template>\n\n<script>\nimport {useRouter,useRoute} from \"vue-router\";\nimport { watch, computed } from 'vue'\nimport { useStore } from 'vuex'\n\nexport default {\n  name: \"Tags\",\n  setup(){\n    const route = useRoute()\n    const router = useRouter()\n    const store = useStore()\n\n    // 获取store中的标签列表\n    const tagList = computed(() => store.state.appSetting.tagList)\n    const isShowTagList = computed(() => store.state.appSetting.isShowTagList)\n\n    // 判断标签是否为当前页面\n    const isActive = (tag) => {\n      return tag.path === route.path\n    }\n\n    // 根据当前的路由项设置标签\n    async function setTag(routeItem){\n      // 判断路由对象是否合理，有条件变为一个tag\n      if(routeItem.meta && routeItem.path && routeItem.meta.title){\n        if(routeItem.meta.showInTag === false){\n          // 配置不显示该路由tag\n          return;\n        }\n        // 判断跳转的路由是否已经在导标签中存在\n        const isExist = await store.dispatch('appSetting/isExistTag', routeItem)\n        if(!isExist){\n          // 不存在重复的标签则添加\n          store.dispatch('appSetting/addTag', routeItem)\n        }\n      }\n    }\n    watch(()=>route.path, async ()=>{\n      // 每当路由更新后调用设置路由的方法\n      await setTag(route)\n    },{ immediate: true, deep: true })\n    \n\n    // 关闭某一个标签\n    const closeTag = (index) => {\n      const delItem = tagList.value[index]\n      // 删除该标签\n      store.dispatch('appSetting/delTags', { start: index, nums: 1 })\n      // 标签被删除后下一个展示的标签\n      const nextShowItem = tagList.value[index] ? tagList.value[index] : tagList.value[index - 1]\n      if(nextShowItem){\n        // 当前删除的路由和标签一致，则跳转到下一个标签\n        delItem.path === route.path && router.push(nextShowItem.path)\n      }else{\n        router.push(\"/\")\n      }\n    }\n\n    return {\n      isActive, closeTag, tagList, isShowTagList\n    }\n  }\n}\n</script>\n\n<style scoped lang=\"scss\">\n@import \"~@/layout/variable.scss\";\n.tags-wrapper{\n  position: relative;\n  height: $tagDivHeight;\n  overflow: hidden;\n  background: #ffffff;\n  box-shadow: 0 5px 5px #ddd;\n  .tags-list{\n    box-sizing: border-box;\n    width: 100%;\n    height: 100%;\n    display: flex;\n    align-items: center;\n    // 标签消息的动画\n    .tag-item{\n      white-space:nowrap;\n      width: auto;\n      margin: 3px 5px 2px 3px;\n      border-radius: 3px;\n      font-size: 12px;\n      overflow: hidden;\n      cursor: pointer;\n      line-height: $tagHeight;\n      border: 1px solid #e9eaec;\n      background: #fff;\n      padding: 0 5px 0 12px;\n      vertical-align: middle;\n      color: #666;\n      a{\n        text-decoration: none;\n        color: inherit;\n      }\n      .tag-delete-icon{\n        font-size: 14px;\n        line-height: $tagHeight;\n      }\n      &.active-tag{\n        color: #fff;\n        border: 1px solid #409EFF;\n        background-color: #409EFF;\n      }\n      &:not(.active-tag):hover{\n        background: #f8f8f8;\n      }\n    }\n  }\n}\n// tag的标签添加和删除的动画\n.tag-fade-leave-active,.tag-fade-enter-active{\n  transition: all .3s ease-in-out;\n}\n.tag-fade-leave-from{\n  transform: scale(1);\n}\n.tag-fade-leave-to{\n  transform: scale(0);\n}\n.tag-fade-enter-from{\n  opacity: 0;\n}\n.tag-fade-enter-to{\n  opacity: 1;\n}\n</style>\n"]}]}