{"remainingRequest":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\babel-loader\\lib\\index.js!D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\src\\views\\admin\\UpdateBookInfo\\index.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\src\\views\\admin\\UpdateBookInfo\\index.vue","mtime":1654054537000},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\unplugin\\dist\\webpack\\loaders\\transform.js","mtime":1749726393299},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\unplugin\\dist\\webpack\\loaders\\transform.js","mtime":1749726393299},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\unplugin\\dist\\webpack\\loaders\\transform.js","mtime":1749726393299},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\unplugin\\dist\\webpack\\loaders\\transform.js","mtime":1749726393299},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1749726397539},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1749726398436},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1749726397539},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1749726393897},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\babel.config.js","mtime":1750002481133},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\unplugin\\dist\\webpack\\loaders\\transform.js","mtime":1749726393299},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\unplugin\\dist\\webpack\\loaders\\transform.js","mtime":1749726393299},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\unplugin\\dist\\webpack\\loaders\\transform.js","mtime":1749726393299},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\unplugin\\dist\\webpack\\loaders\\transform.js","mtime":1749726393299},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1749726397539},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1749726398436},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1749726397539},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1749726393897}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tICJEOi9cdTY4NENcdTk3NjIvXHU1MjREXHU3QUVGXHU0RUE0XHU0RTkyL2ZpbmFsL0xpYnJhcnlNYW5hZ2VtZW50U3lzdGVtLW1hc3Rlci9MaWJyYXJ5LXZ1ZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vdG9Db25zdW1hYmxlQXJyYXkuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zcGxpY2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5jb25jYXQuanMiOwppbXBvcnQgeyBjb21wdXRlZCwgbWFya1Jhdywgb25CZWZvcmVNb3VudCwgc2hhbGxvd1JlYWN0aXZlIH0gZnJvbSAidnVlIjsKaW1wb3J0IHsgZ2V0Qm9va0luZm9CeUlkQXBpLCBnZXRCb29rVHlwZUFwaSB9IGZyb20gIkAvYXBpL2JvcnJvd2VyIjsKaW1wb3J0IHsgdXNlUm91dGUsIHVzZVJvdXRlciB9IGZyb20gInZ1ZS1yb3V0ZXIiOwppbXBvcnQgeyBjb3B5UHJvcGVydGllcyB9IGZyb20gIkAvdXRpbHMiOwppbXBvcnQgeyB1cGRhdGVCb29rQXBpIH0gZnJvbSAiQC9hcGkvYWRtaW4iOwppbXBvcnQgeyBFbE1lc3NhZ2UgfSBmcm9tICJlbGVtZW50LXBsdXMiOwppbXBvcnQgeyBBcnJvd0xlZnRCb2xkIH0gZnJvbSAnQGVsZW1lbnQtcGx1cy9pY29ucy12dWUnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIlVwZGF0ZUJvb2tJbmZvIiwKICBjb21wb25lbnRzOiB7CiAgICBBcnJvd0xlZnRCb2xkOiBBcnJvd0xlZnRCb2xkCiAgfSwKICBzZXR1cDogZnVuY3Rpb24gc2V0dXAoKSB7CiAgICB2YXIgYm9vayA9IHNoYWxsb3dSZWFjdGl2ZSh7CiAgICAgIHR5cGVJZDogJycsCiAgICAgIGlzYm46ICcnLAogICAgICBuYW1lOiAnJywKICAgICAgYXV0aG9yOiAnJywKICAgICAgcHJlc3M6ICcnLAogICAgICBwcmljZTogJycsCiAgICAgIHB1Ymxpc2hUaW1lOiAnJywKICAgICAgZGVzY3JpcHRpb246ICcnCiAgICB9KTsKICAgIHZhciByb3V0ZSA9IHVzZVJvdXRlKCk7CiAgICB2YXIgYm9va0lkID0gY29tcHV0ZWQoZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gcm91dGUucGFyYW1zLmJvb2tJZCA/IHJvdXRlLnBhcmFtcy5ib29rSWQgOiBudWxsOwogICAgfSk7CgogICAgZnVuY3Rpb24gZ2V0Qm9va0luZm8oKSB7CiAgICAgIGdldEJvb2tJbmZvQnlJZEFwaShib29rSWQudmFsdWUpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIGNvcHlQcm9wZXJ0aWVzKHJlcy5kYXRhLmJvb2ssIGJvb2spOwogICAgICB9KTsKICAgIH0KCiAgICBvbkJlZm9yZU1vdW50KGZ1bmN0aW9uICgpIHsKICAgICAgZ2V0Qm9va0luZm8oKTsKICAgIH0pOyAvLyDlrZjlgqjlm77kuabliIbnsbvnmoTmlbDnu4QKCiAgICB2YXIgYm9va1R5cGVMaXN0ID0gc2hhbGxvd1JlYWN0aXZlKFtdKTsKCiAgICBmdW5jdGlvbiBnZXRCb29rVHlwZSgpIHsKICAgICAgZ2V0Qm9va1R5cGVBcGkoKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShyZXMuZGF0YS50eXBlcykpIHsKICAgICAgICAgIGJvb2tUeXBlTGlzdC5zcGxpY2UuYXBwbHkoYm9va1R5cGVMaXN0LCBbMCwgYm9va1R5cGVMaXN0Lmxlbmd0aF0uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheShyZXMuZGF0YS50eXBlcykpKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfQoKICAgIG9uQmVmb3JlTW91bnQoZnVuY3Rpb24gKCkgewogICAgICBnZXRCb29rVHlwZSgpOwogICAgfSk7CiAgICB2YXIgcm91dGVyID0gdXNlUm91dGVyKCk7CgogICAgZnVuY3Rpb24gdXBkYXRlQm9vaygpIHsKICAgICAgdmFyIGZvcm0gPSBtYXJrUmF3KGJvb2spOwogICAgICBmb3JtLmlkID0gYm9va0lkLnZhbHVlOwogICAgICB1cGRhdGVCb29rQXBpKGZvcm0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIEVsTWVzc2FnZSh7CiAgICAgICAgICB0eXBlOiAnc3VjY2VzcycsCiAgICAgICAgICBkdXJhdGlvbjogNTAwMCwKICAgICAgICAgIG1lc3NhZ2U6IHJlcy5tZXNzYWdlLAogICAgICAgICAgc2hvd0Nsb3NlOiB0cnVlCiAgICAgICAgfSk7CiAgICAgICAgcm91dGVyLnB1c2goewogICAgICAgICAgbmFtZTogJ0FsbEJvb2snCiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfQoKICAgIHJldHVybiB7CiAgICAgIGJvb2s6IGJvb2ssCiAgICAgIGJvb2tUeXBlTGlzdDogYm9va1R5cGVMaXN0LAogICAgICB1cGRhdGVCb29rOiB1cGRhdGVCb29rCiAgICB9OwogIH0KfTs="},{"version":3,"mappings":";;;AA2CA,SAAQA,QAAR,EAAkBC,OAAlB,EAA2BC,aAA3B,EAA0CC,eAA1C,QAAgE,KAAhE;AACA,SAAQC,kBAAR,EAA4BC,cAA5B,QAAiD,gBAAjD;AACA,SAAQC,QAAR,EAAiBC,SAAjB,QAAiC,YAAjC;AACA,SAAQC,cAAR,QAA6B,SAA7B;AACA,SAAQC,aAAR,QAA4B,aAA5B;AACA,SAAQC,SAAR,QAAwB,cAAxB;AACA,SAAQC,aAAR,QAA4B,yBAA5B;AAEA,eAAe;EACbC,IAAI,EAAE,gBADO;EAEbC,UAAU,EAAC;IACTF,aAAY,EAAZA;EADS,CAFE;EAKbG,KALa,mBAKN;IACL,IAAMC,IAAG,GAAIZ,eAAe,CAAC;MAC3Ba,MAAM,EAAE,EADmB;MAE3BC,IAAI,EAAE,EAFqB;MAG3BL,IAAI,EAAE,EAHqB;MAI3BM,MAAM,EAAE,EAJmB;MAK3BC,KAAK,EAAE,EALoB;MAM3BC,KAAK,EAAE,EANoB;MAO3BC,WAAW,EAAE,EAPc;MAQ3BC,WAAW,EAAE;IARc,CAAD,CAA5B;IAUA,IAAMC,KAAI,GAAIjB,QAAQ,EAAtB;IACA,IAAMkB,MAAK,GAAIxB,QAAQ,CAAC,YAAI;MAC1B,OAAOuB,KAAK,CAACE,MAAN,CAAaD,MAAb,GAAsBD,KAAK,CAACE,MAAN,CAAaD,MAAnC,GAA4C,IAAnD;IACD,CAFsB,CAAvB;;IAGA,SAASE,WAAT,GAAsB;MACpBtB,kBAAkB,CAACoB,MAAM,CAACG,KAAR,CAAlB,CACKC,IADL,CACU,aAAG,EAAG;QACVpB,cAAc,CAACqB,GAAG,CAACC,IAAJ,CAASf,IAAV,EAAeA,IAAf,CAAd;MACD,CAHL;IAIF;;IACAb,aAAa,CAAC,YAAI;MAChBwB,WAAW;IACZ,CAFY,CAAb,CArBK,CAyBL;;IACA,IAAMK,YAAW,GAAI5B,eAAe,CAAC,EAAD,CAApC;;IACA,SAAS6B,WAAT,GAAsB;MACpB3B,cAAc,GACTuB,IADL,CACU,aAAG,EAAE;QACT,IAAGK,KAAK,CAACC,OAAN,CAAcL,GAAG,CAACC,IAAJ,CAASK,KAAvB,CAAH,EAAiC;UAC/BJ,YAAY,CAACK,MAAb,mBAAY,GAAQ,CAAR,EAAUL,YAAY,CAACM,MAAvB,4BAAiCR,GAAG,CAACC,IAAJ,CAASK,KAA1C,GAAZ;QACF;MACD,CALL;IAMF;;IACAjC,aAAa,CAAC,YAAI;MAChB8B,WAAW;IACZ,CAFY,CAAb;IAIA,IAAMM,MAAK,GAAI/B,SAAS,EAAxB;;IACA,SAASgC,UAAT,GAAqB;MACnB,IAAIC,IAAG,GAAIvC,OAAO,CAACc,IAAD,CAAlB;MACAyB,IAAI,CAACC,EAAL,GAAUjB,MAAM,CAACG,KAAjB;MACAlB,aAAa,CAAC+B,IAAD,CAAb,CACGZ,IADH,CACQ,aAAG,EAAE;QACTlB,SAAS,CAAC;UAACgC,IAAI,EAAE,SAAP;UAAiBC,QAAQ,EAAE,IAA3B;UAAgCC,OAAO,EAAEf,GAAG,CAACe,OAA7C;UAAqDC,SAAS,EAAE;QAAhE,CAAD,CAAT;QACAP,MAAM,CAACQ,IAAP,CAAY;UAAClC,IAAI,EAAE;QAAP,CAAZ;MACD,CAJH;IAKF;;IAEA,OAAO;MACLG,IAAI,EAAJA,IADK;MACAgB,YAAY,EAAZA,YADA;MAELQ,UAAS,EAATA;IAFK,CAAP;EAIF;AA3Da,CAAf","names":["computed","markRaw","onBeforeMount","shallowReactive","getBookInfoByIdApi","getBookTypeApi","useRoute","useRouter","copyProperties","updateBookApi","ElMessage","ArrowLeftBold","name","components","setup","book","typeId","isbn","author","press","price","publishTime","description","route","bookId","params","getBookInfo","value","then","res","data","bookTypeList","getBookType","Array","isArray","types","splice","length","router","updateBook","form","id","type","duration","message","showClose","push"],"sourceRoot":"","sources":["D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\src\\views\\admin\\UpdateBookInfo\\index.vue"],"sourcesContent":["<template>\n  <div class=\"updateBook\">\n    <el-card>\n      <el-button text  bg type=\"success\" style=\"margin-bottom: 10px\" @click=\"$router.back()\">\n        <el-icon><ArrowLeftBold /></el-icon>返回\n      </el-button>\n      <el-form label-position=\"left\" label-width=\"auto\" size=\"large\">\n        <el-form-item label=\"标题\">\n          <el-input v-model=\"book.name\" placeholder=\"请输入图书标题\" clearable></el-input>\n        </el-form-item>\n        <el-form-item label=\"分类\">\n          <el-select v-model=\"book.typeId\" placeholder=\"选择图书分类\" clearable>\n            <el-option\n                v-for=\"type in bookTypeList\" :key=\"type.id\"\n                :label=\"type.name\" :value=\"type.id\">\n            </el-option>\n          </el-select>\n        </el-form-item>\n        <el-form-item label=\"作者\">\n          <el-input v-model=\"book.author\" placeholder=\"请输入图书作者\" clearable></el-input>\n        </el-form-item>\n        <el-form-item label=\"出版社\">\n          <el-input v-model=\"book.press\" placeholder=\"请输入图书出版社\" clearable></el-input>\n        </el-form-item>\n        <el-form-item label=\"ISBN\">\n          <el-input v-model=\"book.isbn\" placeholder=\"请输入图书ISBN号\" clearable></el-input>\n        </el-form-item>\n        <el-form-item label=\"出版时间\">\n          <el-date-picker v-model=\"book.publishTime\" type=\"date\" placeholder=\"请选择出版日期\" format=\"YYYY-MM-DD\" value-format=\"YYYY-MM-DD\" clearable />\n        </el-form-item>\n        <el-form-item label=\"简介\">\n          <el-input v-model=\"book.description\" placeholder=\"请输入图书简介\" clearable></el-input>\n        </el-form-item>\n        <el-form-item label=\"定价\">\n          <el-input v-model=\"book.price\" placeholder=\"请输入图书定价\" clearable></el-input>\n        </el-form-item>\n        <el-button type=\"primary\" @click=\"updateBook\">修改</el-button>\n      </el-form>\n    </el-card>\n  </div>\n</template>\n\n<script>\nimport {computed, markRaw, onBeforeMount, shallowReactive} from \"vue\";\nimport {getBookInfoByIdApi, getBookTypeApi} from \"@/api/borrower\";\nimport {useRoute,useRouter} from \"vue-router\";\nimport {copyProperties} from \"@/utils\";\nimport {updateBookApi} from \"@/api/admin\";\nimport {ElMessage} from \"element-plus\";\nimport {ArrowLeftBold} from '@element-plus/icons-vue'\n\nexport default {\n  name: \"UpdateBookInfo\",\n  components:{\n    ArrowLeftBold\n  },\n  setup(){\n    const book = shallowReactive({\n      typeId: '',\n      isbn: '',\n      name: '',\n      author: '',\n      press: '',\n      price: '',\n      publishTime: '',\n      description: '',\n    })\n    const route = useRoute()\n    const bookId = computed(()=>{\n      return route.params.bookId ? route.params.bookId : null\n    })\n    function getBookInfo(){\n      getBookInfoByIdApi(bookId.value)\n          .then(res=> {\n            copyProperties(res.data.book,book)\n          })\n    }\n    onBeforeMount(()=>{\n      getBookInfo()\n    })\n\n    // 存储图书分类的数组\n    const bookTypeList = shallowReactive([])\n    function getBookType(){\n      getBookTypeApi()\n          .then(res=>{\n            if(Array.isArray(res.data.types)){\n              bookTypeList.splice(0,bookTypeList.length,...res.data.types)\n            }\n          })\n    }\n    onBeforeMount(()=>{\n      getBookType()\n    })\n\n    const router = useRouter()\n    function updateBook(){\n      let form = markRaw(book)\n      form.id = bookId.value\n      updateBookApi(form)\n        .then(res=>{\n          ElMessage({type: 'success',duration: 5000,message: res.message,showClose: true})\n          router.push({name: 'AllBook'})\n        })\n    }\n\n    return {\n      book,bookTypeList,\n      updateBook\n    }\n  }\n}\n</script>\n\n<style scoped lang=\"scss\">\n.updateBook{\n  padding: 20px 30px 30px 20px;\n}\n</style>\n"]}]}