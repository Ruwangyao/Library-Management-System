{"remainingRequest":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\babel-loader\\lib\\index.js!D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\src\\views\\superadmin\\ManageAdmin\\index.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\src\\views\\superadmin\\ManageAdmin\\index.vue","mtime":1654054537000},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\babel.config.js","mtime":1654054537000},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\unplugin\\dist\\webpack\\loaders\\transform.js","mtime":1749726393299},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\unplugin\\dist\\webpack\\loaders\\transform.js","mtime":1749726393299},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\unplugin\\dist\\webpack\\loaders\\transform.js","mtime":1749726393299},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\unplugin\\dist\\webpack\\loaders\\transform.js","mtime":1749726393299},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1749726397539},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1749726398436},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1749726397539},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1749726393897}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tICJEOi9cdTY4NENcdTk3NjIvXHU1MjREXHU3QUVGXHU0RUE0XHU0RTkyL2ZpbmFsL0xpYnJhcnlNYW5hZ2VtZW50U3lzdGVtLW1hc3Rlci9MaWJyYXJ5LXZ1ZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vdG9Db25zdW1hYmxlQXJyYXkuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zcGxpY2UuanMiOwppbXBvcnQgeyBtYXJrUmF3LCBvbkJlZm9yZU1vdW50LCBzaGFsbG93UmVhY3RpdmUsIHNoYWxsb3dSZWYgfSBmcm9tICJ2dWUiOwppbXBvcnQgeyBnZXRQYWdlQWRtaW5JbmZvQXBpLCBhZGRBZG1pbkFwaSB9IGZyb20gIkAvYXBpL3N1cGVyYWRtaW4iOwppbXBvcnQgeyBFbE1lc3NhZ2UgfSBmcm9tICJlbGVtZW50LXBsdXMiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIk1hbmFnZUFkbWluIiwKICBzZXR1cDogZnVuY3Rpb24gc2V0dXAoKSB7CiAgICB2YXIgcGFnaW5hdGlvbiA9IHNoYWxsb3dSZWFjdGl2ZSh7CiAgICAgIGN1cnJlbnQ6IDEsCiAgICAgIGxpbWl0OiAxMCwKICAgICAgdG90YWw6IDAKICAgIH0pOwoKICAgIGZ1bmN0aW9uIHBhZ2VDaGFuZ2UoKSB7CiAgICAgIGdldEFkbWluTGlzdCgpOwogICAgfQoKICAgIHZhciBhZG1pbkxpc3QgPSBzaGFsbG93UmVhY3RpdmUoW10pOwoKICAgIGZ1bmN0aW9uIGdldEFkbWluTGlzdCgpIHsKICAgICAgYWRtaW5MaXN0LnNwbGljZSgwLCBhZG1pbkxpc3QubGVuZ3RoKTsKICAgICAgZ2V0UGFnZUFkbWluSW5mb0FwaShwYWdpbmF0aW9uLmN1cnJlbnQsIHBhZ2luYXRpb24ubGltaXQpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIGFkbWluTGlzdC5wdXNoLmFwcGx5KGFkbWluTGlzdCwgX3RvQ29uc3VtYWJsZUFycmF5KHJlcy5kYXRhLnJlY29yZHMpKTsKICAgICAgICBwYWdpbmF0aW9uLnRvdGFsID0gcmVzLmRhdGEudG90YWw7CiAgICAgIH0pOwogICAgfQoKICAgIG9uQmVmb3JlTW91bnQoZnVuY3Rpb24gKCkgewogICAgICBnZXRBZG1pbkxpc3QoKTsKICAgIH0pOyAvLyDmt7vliqDnrqHnkIblkZgKCiAgICB2YXIgYWRkQWRtaW5EaWFsb2dWaXNpYmxlID0gc2hhbGxvd1JlZihmYWxzZSk7CgogICAgZnVuY3Rpb24gb3BlbkFkZEFkbWluRGlhbG9nKCkgewogICAgICBhZGRBZG1pbkRpYWxvZ1Zpc2libGUudmFsdWUgPSB0cnVlOwogICAgfQoKICAgIGZ1bmN0aW9uIGFkZEFkbWluRGlhbG9nQ2xvc2VkKCkgewogICAgICAvLyDph43nva7ooajljZXnmoTlgLwKICAgICAgYWRkQWRtaW5Gb3JtUmVmLnZhbHVlLnJlc2V0RmllbGRzKCk7CiAgICB9IC8vIOa3u+WKoOeuoeeQhuWRmOihqOWNlee7hOS7tgoKCiAgICB2YXIgYWRkQWRtaW5Gb3JtUmVmID0gc2hhbGxvd1JlZigpOyAvLyDmt7vliqDnrqHnkIblkZjnmoTooajljZUKCiAgICB2YXIgYWRkQWRtaW5Gb3JtID0gc2hhbGxvd1JlYWN0aXZlKHsKICAgICAgdXNlcm5hbWU6ICcnLAogICAgICBwYXNzd29yZDogJycsCiAgICAgIGVtYWlsOiAnJwogICAgfSk7CiAgICB2YXIgYWRkQWRtaW5Gb3JtUnVsZXMgPSB7CiAgICAgIHVzZXJuYW1lOiBbewogICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgIHRyaWdnZXI6ICdibHVyJywKICAgICAgICBtZXNzYWdlOiAn55So5oi35ZCN5LiN6IO95Li656m6JwogICAgICB9XSwKICAgICAgcGFzc3dvcmQ6IFt7CiAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgdHJpZ2dlcjogJ2JsdXInLAogICAgICAgIG1lc3NhZ2U6ICflr4bnoIHkuI3og73kuLrnqbonCiAgICAgIH1dLAogICAgICBlbWFpbDogW3sKICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICB0cmlnZ2VyOiAnYmx1cicsCiAgICAgICAgbWVzc2FnZTogJ+mCrueuseagvOW8j+S4jeiDveS4uuepuicKICAgICAgfSwgewogICAgICAgIHR5cGU6ICdlbWFpbCcsCiAgICAgICAgdHJpZ2dlcjogJ2JsdXInLAogICAgICAgIG1lc3NhZ2U6ICfpgq7nrrHmoLzlvI/kuI3mraPnoa4nCiAgICAgIH1dCiAgICB9OyAvLyDmt7vliqDnrqHnkIblkZgKCiAgICBmdW5jdGlvbiBhZGRBZG1pbigpIHsKICAgICAgYWRkQWRtaW5Gb3JtUmVmLnZhbHVlLnZhbGlkYXRlKGZ1bmN0aW9uIChpc1ZhbGlkKSB7CiAgICAgICAgaWYgKGlzVmFsaWQpIHsKICAgICAgICAgIGFkZEFkbWluQXBpKG1hcmtSYXcoYWRkQWRtaW5Gb3JtKSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgIEVsTWVzc2FnZSh7CiAgICAgICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnLAogICAgICAgICAgICAgIG1lc3NhZ2U6IHJlcy5tZXNzYWdlLAogICAgICAgICAgICAgIGR1cmF0aW9uOiA1MDAwLAogICAgICAgICAgICAgIHNob3dDbG9zZTogdHJ1ZQogICAgICAgICAgICB9KTsKICAgICAgICAgICAgZ2V0QWRtaW5MaXN0KCk7CiAgICAgICAgICAgIGFkZEFkbWluRGlhbG9nVmlzaWJsZS52YWx1ZSA9IGZhbHNlOwogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0KCiAgICByZXR1cm4gewogICAgICBwYWdpbmF0aW9uOiBwYWdpbmF0aW9uLAogICAgICBwYWdlQ2hhbmdlOiBwYWdlQ2hhbmdlLAogICAgICBhZG1pbkxpc3Q6IGFkbWluTGlzdCwKICAgICAgYWRkQWRtaW5EaWFsb2dWaXNpYmxlOiBhZGRBZG1pbkRpYWxvZ1Zpc2libGUsCiAgICAgIG9wZW5BZGRBZG1pbkRpYWxvZzogb3BlbkFkZEFkbWluRGlhbG9nLAogICAgICBhZGRBZG1pbkRpYWxvZ0Nsb3NlZDogYWRkQWRtaW5EaWFsb2dDbG9zZWQsCiAgICAgIGFkZEFkbWluRm9ybTogYWRkQWRtaW5Gb3JtLAogICAgICBhZGRBZG1pbkZvcm1SZWY6IGFkZEFkbWluRm9ybVJlZiwKICAgICAgYWRkQWRtaW5Gb3JtUnVsZXM6IGFkZEFkbWluRm9ybVJ1bGVzLAogICAgICBhZGRBZG1pbjogYWRkQWRtaW4KICAgIH07CiAgfQp9Ow=="},{"version":3,"mappings":"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","names":["markRaw","onBeforeMount","shallowReactive","shallowRef","getPageAdminInfoApi","addAdminApi","ElMessage","name","setup","pagination","current","limit","total","pageChange","getAdminList","adminList","splice","length","then","push","res","data","records","addAdminDialogVisible","openAddAdminDialog","value","addAdminDialogClosed","addAdminFormRef","resetFields","addAdminForm","username","password","email","addAdminFormRules","required","trigger","message","type","addAdmin","validate","isValid","duration","showClose"],"sourceRoot":"","sources":["D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\src\\views\\superadmin\\ManageAdmin\\index.vue"],"sourcesContent":["<template>\n  <div class=\"ManageAdmin\">\n    <el-button type=\"primary\" style=\"margin-bottom: 10px\" @click=\"openAddAdminDialog\">添加管理员</el-button>\n    <el-table :data=\"adminList\" border stripe highlight-current-row table-layout=\"auto\">\n      <el-table-column label=\"序号\" align=\"center\">\n        <template #default=\"{$index}\">{{$index + 1 + (pagination.current - 1) * pagination.limit}}</template>\n      </el-table-column>\n      <el-table-column label=\"用户ID\" prop=\"id\"></el-table-column>\n      <el-table-column label=\"用户名\" prop=\"username\"></el-table-column>\n      <el-table-column label=\"联系方式\" prop=\"email\"></el-table-column>\n      <el-table-column label=\"用户状态\" prop=\"description\"></el-table-column>\n    </el-table>\n    <el-pagination\n        style=\"margin-top: 10px\"\n        background layout=\"total, prev, pager, next\"\n        :total=\"pagination.total\"\n        :page-size=\"pagination.limit\"\n        v-model:current-page=\"pagination.current\"\n        @current-change=\"pageChange\"/>\n\n    <el-dialog title=\"添加管理员\" v-model=\"addAdminDialogVisible\" @closed=\"addAdminDialogClosed\">\n      <template #footer>\n        <el-button @click=\"addAdminDialogVisible = false\">取消</el-button>\n        <el-button type=\"primary\" @click=\"addAdmin\">确定</el-button>\n      </template>\n      <el-form\n          ref=\"addAdminFormRef\" destroy-on-close label-width=\"auto\"\n          :model=\"addAdminForm\" :rules=\"addAdminFormRules\">\n        <el-form-item label=\"用户名\" prop=\"username\">\n          <el-input v-model=\"addAdminForm.username\" placeholder=\"请输入管理员用户名\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"密码\" prop=\"password\">\n          <el-input v-model=\"addAdminForm.password\" placeholder=\"请输入密码\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"请输入邮箱\" prop=\"email\">\n          <el-input v-model=\"addAdminForm.email\" placeholder=\"请输入邮箱\"></el-input>\n        </el-form-item>\n      </el-form>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nimport {markRaw, onBeforeMount, shallowReactive, shallowRef} from \"vue\";\nimport {getPageAdminInfoApi,addAdminApi} from \"@/api/superadmin\";\nimport {ElMessage} from \"element-plus\";\n\nexport default {\n  name: \"ManageAdmin\",\n  setup(){\n    const pagination = shallowReactive({\n      current: 1,\n      limit: 10,\n      total: 0\n    })\n    function pageChange(){\n      getAdminList()\n    }\n\n    const adminList = shallowReactive([])\n    function getAdminList(){\n      adminList.splice(0,adminList.length)\n      getPageAdminInfoApi(pagination.current,pagination.limit)\n        .then(res=>{\n          adminList.push(...res.data.records)\n          pagination.total = res.data.total\n        })\n    }\n    onBeforeMount(()=>{\n      getAdminList()\n    })\n\n    // 添加管理员\n    const addAdminDialogVisible = shallowRef(false)\n    function openAddAdminDialog(){\n      addAdminDialogVisible.value = true\n    }\n    function addAdminDialogClosed(){\n      // 重置表单的值\n      addAdminFormRef.value.resetFields()\n    }\n    // 添加管理员表单组件\n    const addAdminFormRef = shallowRef()\n    // 添加管理员的表单\n    const addAdminForm = shallowReactive({\n      username: '',\n      password: '',\n      email: ''\n    })\n    const addAdminFormRules = {\n      username: [{required: true,trigger:'blur',message: '用户名不能为空'}],\n      password: [{required: true,trigger:'blur',message: '密码不能为空'}],\n      email: [{required: true,trigger:'blur',message: '邮箱格式不能为空'},{type: 'email',trigger: 'blur',message: '邮箱格式不正确'}]\n    }\n    // 添加管理员\n    function addAdmin(){\n      addAdminFormRef.value.validate(isValid=>{\n        if(isValid){\n          addAdminApi(markRaw(addAdminForm))\n            .then(res=>{\n              ElMessage({type: 'success',message: res.message,duration: 5000,showClose: true})\n              getAdminList()\n              addAdminDialogVisible.value = false\n            })\n\n        }\n      })\n    }\n\n    return {\n      pagination,pageChange,\n      adminList,\n      addAdminDialogVisible,openAddAdminDialog,addAdminDialogClosed,\n      addAdminForm,addAdminFormRef,addAdminFormRules,addAdmin\n    }\n  }\n}\n</script>\n\n<style scoped lang=\"scss\">\n.ManageAdmin{\n  padding: 20px 30px 30px 20px;\n}\n</style>\n"]}]}