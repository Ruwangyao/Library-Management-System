{"remainingRequest":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\babel-loader\\lib\\index.js!D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\eslint-loader\\index.js??ref--14-0!D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\src\\hooks\\drawChartHook.js","dependencies":[{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\src\\hooks\\drawChartHook.js","mtime":1654054537000},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\babel.config.js","mtime":1654054537000},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\unplugin\\dist\\webpack\\loaders\\transform.js","mtime":1749726393299},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1749726397539},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1749726398436},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\eslint-loader\\index.js","mtime":1749726396308}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkQ6L1x1Njg0Q1x1OTc2Mi9cdTUyNERcdTdBRUZcdTRFQTRcdTRFOTIvZmluYWwvTGlicmFyeU1hbmFnZW1lbnRTeXN0ZW0tbWFzdGVyL0xpYnJhcnktdnVlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yLmpzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKLy8g55So5LqO57uY5Yi2ZWNoYXJ0c+WbvuihqOeahOS+nei1lgppbXBvcnQgKiBhcyBlY2hhcnRzIGZyb20gJ2VjaGFydHMnOwppbXBvcnQgeyBpc1JlZiwgb25CZWZvcmVVbm1vdW50LCBvbk1vdW50ZWQgfSBmcm9tICd2dWUnOwppbXBvcnQgZWxlbWVudFJlc2l6ZURldGVjdG9yTWFrZXIgZnJvbSAiZWxlbWVudC1yZXNpemUtZGV0ZWN0b3IiOwovKioKICog55So5LqO57uE5Lu25Lit57uY5Yi2ZWNoYXJ0c+eahOWbvuihqAogKiBAcGFyYW0gY2hhcnREb21SZWYg5Zu+6KGo6ZyA6KaB5bGV56S65L2N572u55qEZG9t5YWD57Sg55qEcmVm5a+56LGhCiAqIEBwYXJhbSBnZXRPcHRpb25zIOiOt+WPluWbvuihqOeahOaWueazle+8jOivt+S8oOWFpeS4gOS4quWHveaVsO+8jOaUr+aMgeW8guatpWFzeW5j5Ye95pWwCiAqLwoKZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKGNoYXJ0RG9tUmVmLCBnZXRPcHRpb25zKSB7CiAgLy8g5Yik5pat5Y+C5pWw5piv5ZCm5ruh6Laz6KaB5rGCCiAgaWYgKGlzUmVmKGNoYXJ0RG9tUmVmKSAmJiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZ2V0T3B0aW9ucykgPT09ICdbb2JqZWN0IEZ1bmN0aW9uXScpIHsKICAgIC8vIOWbvuihqOWvueixoQogICAgdmFyIGNoYXJ0ID0gbnVsbDsgLy8g55uR5ZCs5Zu+6KGo5a655Zmo5aSn5bCP5pS55Y+Y55qE5qOA5rWL5ZmoCgogICAgdmFyIGNoYXJ0RG9tUmVzaXplRGV0ZWN0b3IgPSBudWxsOyAvLyDlvZPnu4Tku7bliqDovb3lrozmr5XmiY3lvIDlp4vnlLvlm74KCiAgICBvbk1vdW50ZWQoIC8qI19fUFVSRV9fKi9fYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgIHZhciBvcHRpb25zOwogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgaWYgKCFjaGFydERvbVJlZi52YWx1ZSkgewogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDg7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGNoYXJ0ID0gZWNoYXJ0cy5pbml0KGNoYXJ0RG9tUmVmLnZhbHVlKTsgLy8g6I635Y+W6YWN572u6KGoCgogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA0OwogICAgICAgICAgICAgIHJldHVybiBnZXRPcHRpb25zKCk7CgogICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgb3B0aW9ucyA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgY2hhcnQuc2V0T3B0aW9uKG9wdGlvbnMpOyAvLyDkvb/lm77ooajot5/pmo/lrrnlmajnmoTlpKflsI/mlLnlj5jogIzmlLnlj5gKCiAgICAgICAgICAgICAgY2hhcnREb21SZXNpemVEZXRlY3RvciA9IGVsZW1lbnRSZXNpemVEZXRlY3Rvck1ha2VyKCk7CiAgICAgICAgICAgICAgY2hhcnREb21SZXNpemVEZXRlY3Rvci5saXN0ZW5UbyhjaGFydERvbVJlZi52YWx1ZSwgZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgaWYgKGNoYXJ0ICE9IG51bGwpIHsKICAgICAgICAgICAgICAgICAgY2hhcnQucmVzaXplKCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUpOwogICAgfSkpKTsgLy8g5b2T57uE5Lu25Y246L295YmN5Y246L2955u45YWz5a+56LGh77yM5biu5Yqp5Z6D5Zy+5Zue5pS2CgogICAgb25CZWZvcmVVbm1vdW50KGZ1bmN0aW9uICgpIHsKICAgICAgLy8g6L+Z6YeM5rOo5oSP6ZSA5q+B55qE6aG65bqP77yM5LiN6IO95pS55Y+Y77yM5ZCm5YiZ5oql6ZSZCiAgICAgIC8vIOmUgOavgeebkeWQrOWvueixoeWkp+Wwj+aUueWPmOeahOebkeWQrOWZqAogICAgICBjaGFydERvbVJlc2l6ZURldGVjdG9yICYmIGNoYXJ0RG9tUmVmLnZhbHVlICYmIGNoYXJ0RG9tUmVzaXplRGV0ZWN0b3IudW5pbnN0YWxsKGNoYXJ0RG9tUmVmLnZhbHVlKTsKICAgICAgY2hhcnREb21SZXNpemVEZXRlY3RvciA9IG51bGw7IC8vIOmUgOavgeWbvuihqAoKICAgICAgY2hhcnQgJiYgY2hhcnQuZGlzcG9zZSgpOwogICAgICBjaGFydCA9IG51bGw7CiAgICB9KTsKICB9Cn0="},{"version":3,"names":["echarts","isRef","onBeforeUnmount","onMounted","elementResizeDetectorMaker","chartDomRef","getOptions","Object","prototype","toString","call","chart","chartDomResizeDetector","value","init","options","setOption","listenTo","resize","uninstall","dispose"],"sources":["D:/桌面/前端交互/final/LibraryManagementSystem-master/Library-vue/src/hooks/drawChartHook.js"],"sourcesContent":["// 用于绘制echarts图表的依赖\nimport * as echarts from 'echarts'\nimport {isRef, onBeforeUnmount, onMounted} from 'vue'\nimport elementResizeDetectorMaker from \"element-resize-detector\"\n\n/**\n * 用于组件中绘制echarts的图表\n * @param chartDomRef 图表需要展示位置的dom元素的ref对象\n * @param getOptions 获取图表的方法，请传入一个函数，支持异步async函数\n */\nexport default function (chartDomRef,getOptions){\n  // 判断参数是否满足要求\n  if(isRef(chartDomRef) && Object.prototype.toString.call(getOptions) === '[object Function]'){\n\n    // 图表对象\n    let chart = null\n    // 监听图表容器大小改变的检测器\n    let chartDomResizeDetector = null\n\n    // 当组件加载完毕才开始画图\n    onMounted(async ()=>{\n      if(chartDomRef.value){\n        chart = echarts.init(chartDomRef.value)\n        // 获取配置表\n        const options = await getOptions()\n        chart.setOption(options)\n\n        // 使图表跟随容器的大小改变而改变\n        chartDomResizeDetector = elementResizeDetectorMaker()\n        chartDomResizeDetector.listenTo(chartDomRef.value,()=>{\n          if(chart != null){\n            chart.resize()\n          }\n        })\n      }\n    })\n    // 当组件卸载前卸载相关对象，帮助垃圾回收\n    onBeforeUnmount(()=>{\n      // 这里注意销毁的顺序，不能改变，否则报错\n\n      // 销毁监听对象大小改变的监听器\n      chartDomResizeDetector && chartDomRef.value && chartDomResizeDetector.uninstall(chartDomRef.value)\n      chartDomResizeDetector = null\n\n      // 销毁图表\n      chart && chart.dispose()\n      chart = null\n    })\n  }\n}\n"],"mappings":";;;AAAA;AACA,OAAO,KAAKA,OAAZ,MAAyB,SAAzB;AACA,SAAQC,KAAR,EAAeC,eAAf,EAAgCC,SAAhC,QAAgD,KAAhD;AACA,OAAOC,0BAAP,MAAuC,yBAAvC;AAEA;AACA;AACA;AACA;AACA;;AACA,eAAe,UAAUC,WAAV,EAAsBC,UAAtB,EAAiC;EAC9C;EACA,IAAGL,KAAK,CAACI,WAAD,CAAL,IAAsBE,MAAM,CAACC,SAAP,CAAiBC,QAAjB,CAA0BC,IAA1B,CAA+BJ,UAA/B,MAA+C,mBAAxE,EAA4F;IAE1F;IACA,IAAIK,KAAK,GAAG,IAAZ,CAH0F,CAI1F;;IACA,IAAIC,sBAAsB,GAAG,IAA7B,CAL0F,CAO1F;;IACAT,SAAS,uEAAC;MAAA;MAAA;QAAA;UAAA;YAAA;cAAA,KACLE,WAAW,CAACQ,KADP;gBAAA;gBAAA;cAAA;;cAENF,KAAK,GAAGX,OAAO,CAACc,IAAR,CAAaT,WAAW,CAACQ,KAAzB,CAAR,CAFM,CAGN;;cAHM;cAAA,OAIgBP,UAAU,EAJ1B;;YAAA;cAIAS,OAJA;cAKNJ,KAAK,CAACK,SAAN,CAAgBD,OAAhB,EALM,CAON;;cACAH,sBAAsB,GAAGR,0BAA0B,EAAnD;cACAQ,sBAAsB,CAACK,QAAvB,CAAgCZ,WAAW,CAACQ,KAA5C,EAAkD,YAAI;gBACpD,IAAGF,KAAK,IAAI,IAAZ,EAAiB;kBACfA,KAAK,CAACO,MAAN;gBACD;cACF,CAJD;;YATM;YAAA;cAAA;UAAA;QAAA;MAAA;IAAA,CAAD,GAAT,CAR0F,CAwB1F;;IACAhB,eAAe,CAAC,YAAI;MAClB;MAEA;MACAU,sBAAsB,IAAIP,WAAW,CAACQ,KAAtC,IAA+CD,sBAAsB,CAACO,SAAvB,CAAiCd,WAAW,CAACQ,KAA7C,CAA/C;MACAD,sBAAsB,GAAG,IAAzB,CALkB,CAOlB;;MACAD,KAAK,IAAIA,KAAK,CAACS,OAAN,EAAT;MACAT,KAAK,GAAG,IAAR;IACD,CAVc,CAAf;EAWD;AACF"}]}