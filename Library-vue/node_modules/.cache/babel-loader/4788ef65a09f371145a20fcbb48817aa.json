{"remainingRequest":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\babel-loader\\lib\\index.js!D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\src\\views\\superadmin\\Statistics\\BookNumOfTypeChart.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\src\\views\\superadmin\\Statistics\\BookNumOfTypeChart.vue","mtime":1750002457212},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\babel.config.js","mtime":1750002481133},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\unplugin\\dist\\webpack\\loaders\\transform.js","mtime":1749726393299},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\unplugin\\dist\\webpack\\loaders\\transform.js","mtime":1749726393299},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\unplugin\\dist\\webpack\\loaders\\transform.js","mtime":1749726393299},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\unplugin\\dist\\webpack\\loaders\\transform.js","mtime":1749726393299},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1749726397539},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1749726398436},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1749726397539},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1749726393897}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyIGZyb20gIkQ6L1x1Njg0Q1x1OTc2Mi9cdTUyNERcdTdBRUZcdTRFQTRcdTRFOTIvZmluYWwvTGlicmFyeU1hbmFnZW1lbnRTeXN0ZW0tbWFzdGVyL0xpYnJhcnktdnVlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyLmpzIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkQ6L1x1Njg0Q1x1OTc2Mi9cdTUyNERcdTdBRUZcdTRFQTRcdTRFOTIvZmluYWwvTGlicmFyeU1hbmFnZW1lbnRTeXN0ZW0tbWFzdGVyL0xpYnJhcnktdnVlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yLmpzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgeyBzaGFsbG93UmVmIH0gZnJvbSAidnVlIjsKaW1wb3J0IGRyYXdDaGFydEhvb2sgZnJvbSAiQC9ob29rcy9kcmF3Q2hhcnRIb29rIjsKaW1wb3J0IHsgZ2V0Qm9va051bU9mVHlwZUFwaSB9IGZyb20gIkAvYXBpL3N1cGVyYWRtaW4iOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkJvb2tOdW1PZlR5cGVDaGFydCIsCiAgc2V0dXA6IGZ1bmN0aW9uIHNldHVwKCkgewogICAgdmFyIGJvb2tOdW1PZlR5cGVDaGFydFJlZiA9IHNoYWxsb3dSZWYoKTsKICAgIGRyYXdDaGFydEhvb2soYm9va051bU9mVHlwZUNoYXJ0UmVmLCBnZXRPcHRpb25zKTsgLy8g6I635Y+W5Zu+5qCH5omA6ZyA6KaB55qE5pWw5o2uCgogICAgZnVuY3Rpb24gZ2V0Q2hhcnREYXRhKCkgewogICAgICByZXR1cm4gX2dldENoYXJ0RGF0YS5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgfQoKICAgIGZ1bmN0aW9uIF9nZXRDaGFydERhdGEoKSB7CiAgICAgIF9nZXRDaGFydERhdGEgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIF95aWVsZCRnZXRCb29rTnVtT2ZUeSwgZGF0YSwgY2hhcnREYXRhLCBfaXRlcmF0b3IsIF9zdGVwLCBpdGVtOwoKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBnZXRCb29rTnVtT2ZUeXBlQXBpKCk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIF95aWVsZCRnZXRCb29rTnVtT2ZUeSA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgICBkYXRhID0gX3lpZWxkJGdldEJvb2tOdW1PZlR5LmRhdGE7CgogICAgICAgICAgICAgICAgaWYgKCEoZGF0YSAmJiBBcnJheS5pc0FycmF5KGRhdGEubGlzdCkpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMTsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgY2hhcnREYXRhID0gewogICAgICAgICAgICAgICAgICBzZXJpZXNEYXRhOiBbXQogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIF9pdGVyYXRvciA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKGRhdGEubGlzdCk7CgogICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgZm9yIChfaXRlcmF0b3IucygpOyAhKF9zdGVwID0gX2l0ZXJhdG9yLm4oKSkuZG9uZTspIHsKICAgICAgICAgICAgICAgICAgICBpdGVtID0gX3N0ZXAudmFsdWU7CiAgICAgICAgICAgICAgICAgICAgY2hhcnREYXRhLnNlcmllc0RhdGEucHVzaCh7CiAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogaXRlbS5udW0sCiAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBpdGVtLnR5cGVOYW1lCiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgICAgICAgICAgICBfaXRlcmF0b3IuZShlcnIpOwogICAgICAgICAgICAgICAgfSBmaW5hbGx5IHsKICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yLmYoKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iLCBjaGFydERhdGEpOwoKICAgICAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIiwgbnVsbCk7CgogICAgICAgICAgICAgIGNhc2UgMTI6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpOwogICAgICByZXR1cm4gX2dldENoYXJ0RGF0YS5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgfQoKICAgIGZ1bmN0aW9uIGdldE9wdGlvbnMoKSB7CiAgICAgIHJldHVybiBfZ2V0T3B0aW9ucy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgfQoKICAgIGZ1bmN0aW9uIF9nZXRPcHRpb25zKCkgewogICAgICBfZ2V0T3B0aW9ucyA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgdmFyIGNoYXJ0RGF0YTsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIGdldENoYXJ0RGF0YSgpOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICBjaGFydERhdGEgPSBfY29udGV4dDIuc2VudDsKCiAgICAgICAgICAgICAgICBpZiAoIWNoYXJ0RGF0YSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDc7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYWJydXB0KCJyZXR1cm4iLCB7CiAgICAgICAgICAgICAgICAgIHRpdGxlOiB7CiAgICAgICAgICAgICAgICAgICAgdGV4dDogJ+WbvuS5pummhuiXj+S/oeaBrycsCiAgICAgICAgICAgICAgICAgICAgbGVmdDogJ2NlbnRlcicKICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgdG9vbHRpcDogewogICAgICAgICAgICAgICAgICAgIHRyaWdnZXI6ICdpdGVtJwogICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICBsZWdlbmQ6IHsKICAgICAgICAgICAgICAgICAgICBvcmllbnQ6ICd2ZXJ0aWNhbCcsCiAgICAgICAgICAgICAgICAgICAgbGVmdDogJ2xlZnQnCiAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgIHNlcmllczogW3sKICAgICAgICAgICAgICAgICAgICB0eXBlOiAncGllJywKICAgICAgICAgICAgICAgICAgICByYWRpdXM6ICc1MCUnLAogICAgICAgICAgICAgICAgICAgIGRhdGE6IGNoYXJ0RGF0YS5zZXJpZXNEYXRhLAogICAgICAgICAgICAgICAgICAgIGVtcGhhc2lzOiB7CiAgICAgICAgICAgICAgICAgICAgICBpdGVtU3R5bGU6IHsKICAgICAgICAgICAgICAgICAgICAgICAgc2hhZG93Qmx1cjogMTAsCiAgICAgICAgICAgICAgICAgICAgICAgIHNoYWRvd09mZnNldFg6IDAsCiAgICAgICAgICAgICAgICAgICAgICAgIHNoYWRvd0NvbG9yOiAncmdiYSgwLCAwLCAwLCAwLjUpJwogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgbGFiZWw6IHsKICAgICAgICAgICAgICAgICAgICAgIHNob3c6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgICBmb3JtYXR0ZXI6ICd7ZH0lJyAvL+WPquimgeeZvuWIhuavlAoKICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIGxhYmVsTGluZTogewogICAgICAgICAgICAgICAgICAgICAgc2hvdzogdHJ1ZQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfV0KICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLmFicnVwdCgicmV0dXJuIiwgbnVsbCk7CgogICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMik7CiAgICAgIH0pKTsKICAgICAgcmV0dXJuIF9nZXRPcHRpb25zLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICB9CgogICAgcmV0dXJuIHsKICAgICAgYm9va051bU9mVHlwZUNoYXJ0UmVmOiBib29rTnVtT2ZUeXBlQ2hhcnRSZWYKICAgIH07CiAgfQp9Ow=="},{"version":3,"mappings":";;;AAKA,SAAQA,UAAR,QAAyB,KAAzB;AACA,OAAOC,aAAP,MAA0B,uBAA1B;AACA,SAAQC,mBAAR,QAAkC,kBAAlC;AAEA,eAAe;EACbC,IAAI,EAAE,oBADO;EAEbC,KAFa,mBAEN;IACL,IAAMC,qBAAoB,GAAIL,UAAU,EAAxC;IAEAC,aAAa,CAACI,qBAAD,EAAuBC,UAAvB,CAAb,CAHK,CAML;;IANK,SAOUC,YAPV;MAAA;IAAA;;IAAA;MAAA,wEAOL;QAAA;;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAAA,OACuBL,mBAAmB,EAD1C;;cAAA;gBAAA;gBACSM,IADT,yBACSA,IADT;;gBAAA,MAEKA,IAAG,IAAKC,KAAK,CAACC,OAAN,CAAcF,IAAI,CAACG,IAAnB,CAFb;kBAAA;kBAAA;gBAAA;;gBAGUC,SAHV,GAGsB;kBAChBC,UAAU,EAAE;gBADI,CAHtB;gBAAA,uCAMoBL,IAAI,CAACG,IANzB;;gBAAA;kBAMI,oDAA0B;oBAAlBG,IAAkB;oBACxBF,SAAS,CAACC,UAAV,CAAqBE,IAArB,CAA0B;sBACxBC,KAAK,EAAEF,IAAI,CAACG,GADY;sBAExBd,IAAI,EAAEW,IAAI,CAACI;oBAFa,CAA1B;kBAIF;gBAXJ;kBAAA;gBAAA;kBAAA;gBAAA;;gBAAA,iCAYWN,SAZX;;cAAA;gBAAA,iCAcW,IAdX;;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA,CAPK;MAAA;IAAA;;IAAA,SAwBUN,UAxBV;MAAA;IAAA;;IAAA;MAAA,sEAwBL;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAAA,OAC0BC,YAAY,EADtC;;cAAA;gBACQK,SADR;;gBAAA,KAEKA,SAFL;kBAAA;kBAAA;gBAAA;;gBAAA,kCAGW;kBACLO,KAAK,EAAE;oBACLC,IAAI,EAAE,QADD;oBAELC,IAAI,EAAC;kBAFA,CADF;kBAKLC,OAAO,EAAE;oBACPC,OAAO,EAAE;kBADF,CALJ;kBAQLC,MAAM,EAAE;oBACNC,MAAM,EAAE,UADF;oBAENJ,IAAI,EAAE;kBAFA,CARH;kBAYLK,MAAM,EAAE,CACN;oBACEC,IAAI,EAAE,KADR;oBAEEC,MAAM,EAAE,KAFV;oBAGEpB,IAAI,EAAEI,SAAS,CAACC,UAHlB;oBAIEgB,QAAQ,EAAE;sBACRC,SAAS,EAAE;wBACTC,UAAU,EAAE,EADH;wBAETC,aAAa,EAAE,CAFN;wBAGTC,WAAW,EAAE;sBAHJ;oBADH,CAJZ;oBAWEC,KAAK,EAAC;sBACJC,IAAI,EAAE,IADF;sBAEJC,SAAS,EAAE,MAFP,CAEc;;oBAFd,CAXR;oBAeEC,SAAQ,EAAG;sBAACF,IAAI,EAAC;oBAAN;kBAfb,CADM;gBAZH,CAHX;;cAAA;gBAAA,kCAoCW,IApCX;;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA,CAxBK;MAAA;IAAA;;IAgEL,OAAO;MACL9B,qBAAoB,EAApBA;IADK,CAAP;EAGF;AArEa,CAAf","names":["shallowRef","drawChartHook","getBookNumOfTypeApi","name","setup","bookNumOfTypeChartRef","getOptions","getChartData","data","Array","isArray","list","chartData","seriesData","item","push","value","num","typeName","title","text","left","tooltip","trigger","legend","orient","series","type","radius","emphasis","itemStyle","shadowBlur","shadowOffsetX","shadowColor","label","show","formatter","labelLine"],"sourceRoot":"","sources":["D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\src\\views\\superadmin\\Statistics\\BookNumOfTypeChart.vue"],"sourcesContent":["<template>\n  <div ref=\"bookNumOfTypeChartRef\"></div>\n</template>\n\n<script>\nimport {shallowRef} from \"vue\";\nimport drawChartHook from \"@/hooks/drawChartHook\";\nimport {getBookNumOfTypeApi} from \"@/api/superadmin\";\n\nexport default {\n  name: \"BookNumOfTypeChart\",\n  setup(){\n    const bookNumOfTypeChartRef = shallowRef()\n\n    drawChartHook(bookNumOfTypeChartRef,getOptions)\n\n    \n    // 获取图标所需要的数据\n    async function getChartData(){\n      const {data} = await getBookNumOfTypeApi()\n      if(data && Array.isArray(data.list)){\n        const chartData = {\n          seriesData: []\n        }\n        for(let item of data.list){\n          chartData.seriesData.push({\n            value: item.num,\n            name: item.typeName\n          })\n        }\n        return chartData\n      }else {\n        return null\n      }\n    }\n    async function getOptions(){\n      const chartData = await getChartData()\n      if(chartData){\n        return {\n          title: {\n            text: '图书馆藏信息',\n            left:'center'\n          },\n          tooltip: {\n            trigger: 'item'\n          },\n          legend: {\n            orient: 'vertical',\n            left: 'left'\n          },\n          series: [\n            {\n              type: 'pie',\n              radius: '50%',\n              data: chartData.seriesData,\n              emphasis: {\n                itemStyle: {\n                  shadowBlur: 10,\n                  shadowOffsetX: 0,\n                  shadowColor: 'rgba(0, 0, 0, 0.5)'\n                }\n              },\n              label:{\n                show: true,\n                formatter: '{d}%' //只要百分比\n              },\n              labelLine :{show:true}\n            }\n          ]\n        };\n      }else {\n        return null\n      }\n    }\n\n    return {\n      bookNumOfTypeChartRef\n    }\n  }\n}\n</script>\n"]}]}