{"remainingRequest":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\babel-loader\\lib\\index.js!D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\src\\views\\BookDetail\\index.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\src\\views\\BookDetail\\index.vue","mtime":1654054537000},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\babel.config.js","mtime":1654054537000},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\unplugin\\dist\\webpack\\loaders\\transform.js","mtime":1749726393299},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\unplugin\\dist\\webpack\\loaders\\transform.js","mtime":1749726393299},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\unplugin\\dist\\webpack\\loaders\\transform.js","mtime":1749726393299},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\unplugin\\dist\\webpack\\loaders\\transform.js","mtime":1749726393299},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1749726397539},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1749726398436},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1749726397539},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1749726393897}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmlzLWludGVnZXIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5udW1iZXIuY29uc3RydWN0b3IuanMiOwppbXBvcnQgeyB1c2VSb3V0ZSB9IGZyb20gJ3Z1ZS1yb3V0ZXInOwppbXBvcnQgeyBzaGFsbG93UmVmLCBjb21wdXRlZCwgb25CZWZvcmVNb3VudCwgc2hhbGxvd1JlYWN0aXZlIH0gZnJvbSAidnVlIjsKaW1wb3J0IHsgZ2V0Qm9va0luZm9CeUlkQXBpIH0gZnJvbSAnQC9hcGkvYm9ycm93ZXInOwppbXBvcnQgeyBBcnJvd0xlZnRCb2xkIH0gZnJvbSAnQGVsZW1lbnQtcGx1cy9pY29ucy12dWUnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkJvb2tEZXRhaWwiLAogIGNvbXBvbmVudHM6IHsKICAgIEFycm93TGVmdEJvbGQ6IEFycm93TGVmdEJvbGQKICB9LAogIHNldHVwOiBmdW5jdGlvbiBzZXR1cCgpIHsKICAgIHZhciByb3V0ZSA9IHVzZVJvdXRlKCk7CiAgICB2YXIgYm9va0luZm8gPSBzaGFsbG93UmVmKHt9KTsKICAgIHZhciBib29rSWQgPSBjb21wdXRlZChmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiByb3V0ZS5wYXJhbXMuYm9va0lkID8gcm91dGUucGFyYW1zLmJvb2tJZCA6IG51bGw7CiAgICB9KTsKCiAgICBmdW5jdGlvbiBnZXRCb29rSW5mbygpIHsKICAgICAgZ2V0Qm9va0luZm9CeUlkQXBpKGJvb2tJZC52YWx1ZSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgYm9va0luZm8udmFsdWUgPSByZXMuZGF0YS5ib29rOwoKICAgICAgICBpZiAoTnVtYmVyLmlzSW50ZWdlcihib29rSW5mby52YWx1ZS5zdG9ja051bSkpIHsKICAgICAgICAgIHN0b2NrSW5mby5zaG93ID0gdHJ1ZTsKICAgICAgICAgIHN0b2NrSW5mby5udW0gPSBib29rSW5mby52YWx1ZS5zdG9ja051bTsKICAgICAgICAgIHN0b2NrSW5mby5tZXNzYWdlID0gYm9va0luZm8udmFsdWUuc3RvY2tOdW0gPiAwID8gIlx1OEJFNVx1NTZGRVx1NEU2Nlx1OEZEOFx1NTI2OVx1NEY1OSAiLmNvbmNhdChib29rSW5mby52YWx1ZS5zdG9ja051bSwgIiBcdTY3MkNcdUZGMENcdTUzRUZcdTUzQkJcdTUwMUZcdTk2MDUiKSA6ICJcdThCRTVcdTU2RkVcdTRFNjZcdTY2ODJcdTY1RTBcdTVFOTNcdTVCNThcdUZGMENcdTUzRUZcdTUzQkJcdTk4ODRcdTdFQTYiOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBzdG9ja0luZm8uc2hvdyA9IGZhbHNlOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9CgogICAgb25CZWZvcmVNb3VudChmdW5jdGlvbiAoKSB7CiAgICAgIGdldEJvb2tJbmZvKCk7CiAgICB9KTsKICAgIHZhciBzdG9ja0luZm8gPSBzaGFsbG93UmVhY3RpdmUoewogICAgICBtZXNzYWdlOiBudWxsLAogICAgICBudW06IDAsCiAgICAgIHNob3c6IGZhbHNlCiAgICB9KTsKICAgIHJldHVybiB7CiAgICAgIGJvb2tJbmZvOiBib29rSW5mbywKICAgICAgYm9va0lkOiBib29rSWQsCiAgICAgIHN0b2NrSW5mbzogc3RvY2tJbmZvCiAgICB9OwogIH0KfTs="},{"version":3,"mappings":";;AAuBA,SAAQA,QAAR,QAAuB,YAAvB;AACA,SAAQC,UAAR,EAAoBC,QAApB,EAA8BC,aAA9B,EAA6CC,eAA7C,QAAmE,KAAnE;AACA,SAAQC,kBAAR,QAAiC,gBAAjC;AACA,SAAQC,aAAR,QAA4B,yBAA5B;AAEA,eAAe;EACbC,IAAI,EAAE,YADO;EAEbC,UAAU,EAAC;IACTF,aAAY,EAAZA;EADS,CAFE;EAKbG,KALa,mBAKN;IACL,IAAMC,KAAI,GAAIV,QAAQ,EAAtB;IACA,IAAMW,QAAO,GAAIV,UAAU,CAAC,EAAD,CAA3B;IACA,IAAMW,MAAK,GAAIV,QAAQ,CAAC,YAAI;MAC1B,OAAOQ,KAAK,CAACG,MAAN,CAAaD,MAAb,GAAsBF,KAAK,CAACG,MAAN,CAAaD,MAAnC,GAA4C,IAAnD;IACD,CAFsB,CAAvB;;IAGA,SAASE,WAAT,GAAsB;MACpBT,kBAAkB,CAACO,MAAM,CAACG,KAAR,CAAlB,CACGC,IADH,CACQ,aAAG,EAAE;QACTL,QAAQ,CAACI,KAAT,GAAiBE,GAAG,CAACC,IAAJ,CAASC,IAA1B;;QACA,IAAGC,MAAM,CAACC,SAAP,CAAiBV,QAAQ,CAACI,KAAT,CAAeO,QAAhC,CAAH,EAA6C;UAC3CC,SAAS,CAACC,IAAV,GAAiB,IAAjB;UACAD,SAAS,CAACE,GAAV,GAAgBd,QAAQ,CAACI,KAAT,CAAeO,QAA/B;UACAC,SAAS,CAACG,OAAV,GAAqBf,QAAQ,CAACI,KAAT,CAAeO,QAAf,GAA0B,CAA1B,kDACPX,QAAQ,CAACI,KAAT,CAAeO,QADR,uHAArB;QAED,CALD,MAKK;UACHC,SAAS,CAACC,IAAV,GAAiB,KAAjB;QACF;MACD,CAXH;IAYF;;IACArB,aAAa,CAAC,YAAI;MAChBW,WAAW;IACZ,CAFY,CAAb;IAIA,IAAMS,SAAQ,GAAInB,eAAe,CAAC;MAChCsB,OAAO,EAAE,IADuB;MAEhCD,GAAG,EAAE,CAF2B;MAGhCD,IAAI,EAAE;IAH0B,CAAD,CAAjC;IAKA,OAAO;MACLb,QAAQ,EAARA,QADK;MACIC,MAAM,EAANA,MADJ;MAELW,SAAQ,EAARA;IAFK,CAAP;EAIF;AAtCa,CAAf","names":["useRoute","shallowRef","computed","onBeforeMount","shallowReactive","getBookInfoByIdApi","ArrowLeftBold","name","components","setup","route","bookInfo","bookId","params","getBookInfo","value","then","res","data","book","Number","isInteger","stockNum","stockInfo","show","num","message"],"sourceRoot":"","sources":["D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\src\\views\\BookDetail\\index.vue"],"sourcesContent":["<template>\n  <div class=\"bookDetail\">\n    <el-card>\n      <el-button text  bg type=\"success\" style=\"margin-bottom: 10px\" @click=\"$router.back()\">\n        <el-icon><ArrowLeftBold /></el-icon>返回\n      </el-button>\n      <el-alert v-if=\"stockInfo.show\" :title=\"stockInfo.message\" :type=\"stockInfo.num > 0 ? 'success' : 'error'\" effect=\"dark\" />\n      <el-form label-position=\"left\" label-width=\"85px\" size=\"large\">\n        <el-form-item label=\"标题\">{{bookInfo.name}}</el-form-item>\n        <el-form-item label=\"封面\"><el-image :src=\"bookInfo.coverImg\"></el-image></el-form-item>\n        <el-form-item label=\"作者\">{{bookInfo.author}}</el-form-item>\n        <el-form-item label=\"出版社\">{{bookInfo.press}}</el-form-item>\n        <el-form-item label=\"出版时间\">{{bookInfo.publishTime}}</el-form-item>\n        <el-form-item label=\"简介\">{{bookInfo.description}}</el-form-item>\n        <el-form-item label=\"分类\">{{bookInfo.typeName}}</el-form-item>\n        <el-form-item label=\"ISBN\">{{bookInfo.isbn}}</el-form-item>\n        <el-form-item label=\"定价\">{{bookInfo.price}}</el-form-item>\n      </el-form>\n    </el-card>\n  </div>\n</template>\n\n<script>\nimport {useRoute} from 'vue-router'\nimport {shallowRef, computed, onBeforeMount, shallowReactive} from \"vue\";\nimport {getBookInfoByIdApi} from '@/api/borrower'\nimport {ArrowLeftBold} from '@element-plus/icons-vue'\n\nexport default {\n  name: \"BookDetail\",\n  components:{\n    ArrowLeftBold\n  },\n  setup(){\n    const route = useRoute()\n    const bookInfo = shallowRef({})\n    const bookId = computed(()=>{\n      return route.params.bookId ? route.params.bookId : null\n    })\n    function getBookInfo(){\n      getBookInfoByIdApi(bookId.value)\n        .then(res=>{\n          bookInfo.value = res.data.book\n          if(Number.isInteger(bookInfo.value.stockNum)){\n            stockInfo.show = true\n            stockInfo.num = bookInfo.value.stockNum\n            stockInfo.message =  bookInfo.value.stockNum > 0 ?\n                `该图书还剩余 ${bookInfo.value.stockNum} 本，可去借阅` : `该图书暂无库存，可去预约`\n          }else{\n            stockInfo.show = false\n          }\n        })\n    }\n    onBeforeMount(()=>{\n      getBookInfo()\n    })\n\n    const stockInfo = shallowReactive({\n      message: null,\n      num: 0,\n      show: false\n    })\n    return {\n      bookInfo,bookId,\n      stockInfo\n    }\n  }\n}\n</script>\n\n<style scoped lang=\"scss\">\n.bookDetail{\n  padding: 0 20px 30px 20px;\n  .el-form{\n    ::v-deep{\n      .el-form-item{\n        .el-form-item__label{\n          font-size: 16px;\n          font-weight: bold;\n        }\n        .el-form-item__content{\n          font-size: 15px;\n        }\n      }\n    }\n  }\n}\n</style>\n"]}]}