{"remainingRequest":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\babel-loader\\lib\\index.js!D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\src\\views\\Login\\index.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\src\\views\\Login\\index.vue","mtime":1654054537000},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\unplugin\\dist\\webpack\\loaders\\transform.js","mtime":1749726393299},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\unplugin\\dist\\webpack\\loaders\\transform.js","mtime":1749726393299},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\unplugin\\dist\\webpack\\loaders\\transform.js","mtime":1749726393299},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\unplugin\\dist\\webpack\\loaders\\transform.js","mtime":1749726393299},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1749726397539},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1749726398436},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1749726397539},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1749726393897},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\babel.config.js","mtime":1750002481133},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\unplugin\\dist\\webpack\\loaders\\transform.js","mtime":1749726393299},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\unplugin\\dist\\webpack\\loaders\\transform.js","mtime":1749726393299},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\unplugin\\dist\\webpack\\loaders\\transform.js","mtime":1749726393299},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\unplugin\\dist\\webpack\\loaders\\transform.js","mtime":1749726393299},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1749726397539},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1749726398436},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1749726397539},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1749726393897}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgc2hhbGxvd1JlYWN0aXZlLCBtYXJrUmF3LCBzaGFsbG93UmVmIH0gZnJvbSAndnVlJzsKaW1wb3J0IHsgdXNlUm91dGVyIH0gZnJvbSAndnVlLXJvdXRlcic7CmltcG9ydCB7IHNldFRva2VuIH0gZnJvbSAiQC91dGlscy9hdXRoIjsKaW1wb3J0IHsgbG9naW5BcGksIHJlZ2lzdGVyQXBpIH0gZnJvbSAiQC9hcGkvdXNlciI7CmltcG9ydCB7IEVsTWVzc2FnZSB9IGZyb20gImVsZW1lbnQtcGx1cyI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiTG9naW4iLAogIHNldHVwOiBmdW5jdGlvbiBzZXR1cCgpIHsKICAgIHZhciByb3V0ZXIgPSB1c2VSb3V0ZXIoKTsgLy8g5b2T5YmN6YCJ6aG55Y2h55qE5ZCN5a2X77yM6buY6K6k5Li655m75b2V6YCJ6aG55Y2hCgogICAgdmFyIGN1cnJlbnRUYWJOYW1lID0gc2hhbGxvd1JlZigibG9naW4iKTsgLy8g55m75b2VIOmDqOWIhgoKICAgIHZhciBsb2dpbkZvcm1SZWYgPSBzaGFsbG93UmVmKCk7CiAgICB2YXIgbG9naW5Gb3JtID0gc2hhbGxvd1JlYWN0aXZlKHsKICAgICAgdXNlcm5hbWU6ICcnLAogICAgICBwYXNzd29yZDogJycKICAgIH0pOwogICAgdmFyIGxvZ2luRm9ybVJ1bGVzID0gewogICAgICB1c2VybmFtZTogW3sKICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICB0cmlnZ2VyOiAnYmx1cicsCiAgICAgICAgbWVzc2FnZTogJ+eUqOaIt+WQjeS4jeiDveS4uuepuicKICAgICAgfV0sCiAgICAgIHBhc3N3b3JkOiBbewogICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgIHRyaWdnZXI6ICdibHVyJywKICAgICAgICBtZXNzYWdlOiAn5a+G56CB5LiN6IO95Li656m6JwogICAgICB9XQogICAgfTsgLy8g5YW35L2T55m75b2V55qE6YC76L6RCgogICAgdmFyIGxvZ2luID0gZnVuY3Rpb24gbG9naW4oKSB7CiAgICAgIGxvZ2luRm9ybVJlZi52YWx1ZS52YWxpZGF0ZShmdW5jdGlvbiAoaXNWYWxpZCkgewogICAgICAgIGlmIChpc1ZhbGlkKSB7CiAgICAgICAgICBsb2dpbkFwaShtYXJrUmF3KGxvZ2luRm9ybSkpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICBzZXRUb2tlbihyZXMuZGF0YS50b2tlbik7CiAgICAgICAgICAgIHJvdXRlci5wdXNoKCIvIik7CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfTsgLy8g5rOo5YaM6YOo5YiGCgoKICAgIHZhciByZWdpc3RlckZvcm1SZWYgPSBzaGFsbG93UmVmKCk7CiAgICB2YXIgcmVnaXN0ZXJGb3JtID0gc2hhbGxvd1JlYWN0aXZlKHsKICAgICAgdXNlcm5hbWU6ICcnLAogICAgICBwYXNzd29yZDogJycsCiAgICAgIGNvbmZpcm1QYXNzd29yZDogJycsCiAgICAgIGVtYWlsOiAnJwogICAgfSk7CiAgICB2YXIgcmVnaXN0ZXJGb3JtUnVsZXMgPSB7CiAgICAgIHVzZXJuYW1lOiBbewogICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgIHRyaWdnZXI6ICdibHVyJywKICAgICAgICBtZXNzYWdlOiAn55So5oi35ZCN5LiN6IO95Li656m6JwogICAgICB9XSwKICAgICAgcGFzc3dvcmQ6IFt7CiAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgdHJpZ2dlcjogJ2JsdXInLAogICAgICAgIG1lc3NhZ2U6ICflr4bnoIHkuI3og73kuLrnqbonCiAgICAgIH1dLAogICAgICBjb25maXJtUGFzc3dvcmQ6IFt7CiAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgdHJpZ2dlcjogJ2JsdXInLAogICAgICAgIG1lc3NhZ2U6ICflr4bnoIHkuI3og73kuLrnqbonCiAgICAgIH1dLAogICAgICBlbWFpbDogW3sKICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICB0cmlnZ2VyOiAnYmx1cicsCiAgICAgICAgbWVzc2FnZTogJ+mCrueuseagvOW8j+S4jeiDveS4uuepuicKICAgICAgfSwgewogICAgICAgIHR5cGU6ICdlbWFpbCcsCiAgICAgICAgdHJpZ2dlcjogJ2JsdXInLAogICAgICAgIG1lc3NhZ2U6ICfpgq7nrrHmoLzlvI/kuI3mraPnoa4nCiAgICAgIH1dCiAgICB9OwoKICAgIGZ1bmN0aW9uIHJlZ2lzdGVyKCkgewogICAgICByZWdpc3RlckZvcm1SZWYudmFsdWUudmFsaWRhdGUoZnVuY3Rpb24gKGlzVmFsaWQpIHsKICAgICAgICBpZiAoaXNWYWxpZCkgewogICAgICAgICAgcmVnaXN0ZXJBcGkobWFya1JhdyhyZWdpc3RlckZvcm0pKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgRWxNZXNzYWdlKHsKICAgICAgICAgICAgICB0eXBlOiAnc3VjY2VzcycsCiAgICAgICAgICAgICAgZHVyYXRpb246IDUwMDAsCiAgICAgICAgICAgICAgc2hvd0Nsb3NlOiB0cnVlLAogICAgICAgICAgICAgIG1lc3NhZ2U6IHJlcy5tZXNzYWdlCiAgICAgICAgICAgIH0pOyAvLyDlsIbpgInpobnljaHliIfmjaLliLBsb2dpbumhtemdogoKICAgICAgICAgICAgY3VycmVudFRhYk5hbWUudmFsdWUgPSAibG9naW4iOwogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0KCiAgICByZXR1cm4gewogICAgICBjdXJyZW50VGFiTmFtZTogY3VycmVudFRhYk5hbWUsCiAgICAgIGxvZ2luRm9ybTogbG9naW5Gb3JtLAogICAgICBsb2dpbkZvcm1SdWxlczogbG9naW5Gb3JtUnVsZXMsCiAgICAgIGxvZ2luOiBsb2dpbiwKICAgICAgbG9naW5Gb3JtUmVmOiBsb2dpbkZvcm1SZWYsCiAgICAgIHJlZ2lzdGVyRm9ybVJlZjogcmVnaXN0ZXJGb3JtUmVmLAogICAgICByZWdpc3RlckZvcm06IHJlZ2lzdGVyRm9ybSwKICAgICAgcmVnaXN0ZXJGb3JtUnVsZXM6IHJlZ2lzdGVyRm9ybVJ1bGVzLAogICAgICByZWdpc3RlcjogcmVnaXN0ZXIKICAgIH07CiAgfQp9Ow=="},{"version":3,"mappings":"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","names":["shallowReactive","markRaw","shallowRef","useRouter","setToken","loginApi","registerApi","ElMessage","name","setup","router","currentTabName","loginFormRef","loginForm","username","password","loginFormRules","required","trigger","message","login","value","validate","isValid","then","res","data","token","push","registerFormRef","registerForm","confirmPassword","email","registerFormRules","type","register","duration","showClose"],"sourceRoot":"","sources":["D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\src\\views\\Login\\index.vue"],"sourcesContent":["<template>\n  <div class=\"login-wrapper\">\n    <div class=\"content\">\n      <div class=\"title\">图书管理系统</div>\n      <el-tabs type=\"border-card\" v-model=\"currentTabName\">\n        <el-tab-pane label=\"登录\" lazy name=\"login\">\n          <el-form\n              ref=\"loginFormRef\"\n              :model=\"loginForm\"\n              :rules=\"loginFormRules\"\n              label-width=\"auto\"\n              label-position=\"left\">\n            <el-form-item prop=\"username\" label=\"用户名\">\n              <el-input v-model=\"loginForm.username\" placeholder=\"用户名\"></el-input>\n            </el-form-item>\n            <el-form-item prop=\"password\" label=\"密码\">\n              <el-input v-model=\"loginForm.password\" placeholder=\"密码\" type=\"password\" show-password></el-input>\n            </el-form-item>\n            <el-button style=\"width: 100%\" type=\"primary\" @click=\"login\">登录</el-button>\n          </el-form>\n        </el-tab-pane>\n        <el-tab-pane label=\"注册\" lazy name=\"register\">\n          <el-form\n              ref=\"registerFormRef\"\n              :model=\"registerForm\"\n              :rules=\"registerFormRules\"\n              label-width=\"auto\"\n              label-position=\"left\">\n            <el-form-item prop=\"username\" label=\"用户名\">\n              <el-input v-model=\"registerForm.username\" placeholder=\"请输入用户名\"></el-input>\n            </el-form-item>\n            <el-form-item prop=\"password\" label=\"密码\">\n              <el-input v-model=\"registerForm.password\" placeholder=\"请输入密码\" type=\"password\" show-password></el-input>\n            </el-form-item>\n            <el-form-item prop=\"confirmPassword\" label=\"确认密码\">\n              <el-input v-model=\"registerForm.confirmPassword\" placeholder=\"请确认密码\" type=\"password\" show-password></el-input>\n            </el-form-item>\n            <el-form-item prop=\"email\" label=\"邮箱\">\n              <el-input v-model=\"registerForm.email\" placeholder=\"请输入邮箱\"></el-input>\n            </el-form-item>\n          </el-form>\n          <el-button style=\"width: 100%\" type=\"primary\" @click=\"register\">注册</el-button>\n        </el-tab-pane>\n      </el-tabs>\n    </div>\n  </div>\n</template>\n\n<script>\nimport {shallowReactive, markRaw, shallowRef} from 'vue'\nimport {useRouter} from 'vue-router'\nimport {setToken} from \"@/utils/auth\";\nimport {loginApi, registerApi} from \"@/api/user\";\nimport {ElMessage} from \"element-plus\";\n\nexport default {\n  name: \"Login\",\n  setup(){\n    const router = useRouter()\n    // 当前选项卡的名字，默认为登录选项卡\n    const currentTabName = shallowRef(\"login\")\n\n    // 登录 部分\n    const loginFormRef = shallowRef()\n    const loginForm = shallowReactive({\n      username: '',\n      password: ''\n    })\n    const loginFormRules = {\n      username: [{required: true,trigger:'blur',message: '用户名不能为空'}],\n      password: [{required: true,trigger:'blur',message: '密码不能为空'}]\n    }\n    // 具体登录的逻辑\n    const login = () =>{\n      loginFormRef.value.validate(isValid=>{\n        if(isValid){\n          loginApi(markRaw(loginForm))\n              .then(res=>{\n                setToken(res.data.token)\n                router.push(\"/\")\n              })\n        }\n      })\n    }\n\n    // 注册部分\n    const registerFormRef = shallowRef()\n    const registerForm = shallowReactive({\n      username: '',\n      password: '',\n      confirmPassword: '',\n      email: ''\n    })\n    const registerFormRules = {\n      username: [{required: true,trigger:'blur',message: '用户名不能为空'}],\n      password: [{required: true,trigger:'blur',message: '密码不能为空'}],\n      confirmPassword: [{required: true,trigger:'blur',message: '密码不能为空'}],\n      email: [{required: true,trigger:'blur',message: '邮箱格式不能为空'},{type: 'email',trigger: 'blur',message: '邮箱格式不正确'}]\n    }\n    function register(){\n      registerFormRef.value.validate(isValid=>{\n        if(isValid){\n          registerApi(markRaw(registerForm))\n            .then(res=>{\n              ElMessage({type: 'success',duration: 5000,showClose: true,message: res.message})\n              // 将选项卡切换到login页面\n              currentTabName.value = \"login\"\n            })\n        }\n      })\n    }\n\n    return {\n      currentTabName,\n      loginForm,loginFormRules, login,loginFormRef,\n      registerFormRef,registerForm,registerFormRules,register\n    }\n  }\n}\n</script>\n\n<style scoped lang=\"scss\">\n.login-wrapper{\n  width: 100%;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  .content{\n    width: 520px;\n    margin-bottom: 10%;\n    .title{\n      font-size: 26px;\n      text-align: center;\n      margin: 0 auto 40px auto;\n      font-weight: bold;\n    }\n  }\n}\n</style>\n"]}]}