{"remainingRequest":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\babel-loader\\lib\\index.js!D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\eslint-loader\\index.js??ref--14-0!D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\src\\utils\\request.js","dependencies":[{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\src\\utils\\request.js","mtime":1750002418817},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\babel.config.js","mtime":1750002481133},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\unplugin\\dist\\webpack\\loaders\\transform.js","mtime":1749726393299},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1749726397539},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1749726398436},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\eslint-loader\\index.js","mtime":1749726396308}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmltcG9ydCB7IGdldFRva2VuIH0gZnJvbSAiQC91dGlscy9hdXRoIjsKaW1wb3J0IHJvdXRlciBmcm9tICJAL3JvdXRlciI7CmltcG9ydCBSZXN1bHRDb2RlIGZyb20gJ0AvdXRpbHMvUmVxdWVzdENvZGUnOwppbXBvcnQgeyBFbE1lc3NhZ2UgfSBmcm9tICJlbGVtZW50LXBsdXMiOwppbXBvcnQgc3RvcmUgZnJvbSAnQC9zdG9yZSc7CnZhciBiYXNlVVJMID0gJ2h0dHA6Ly8xMjcuMC4wLjE6ODA4MC9hcGknOwp2YXIgc2VydmljZSA9IGF4aW9zLmNyZWF0ZSh7CiAgYmFzZVVSTDogYmFzZVVSTCwKICB0aW1lb3V0OiAxMDAwMAp9KTsKc2VydmljZS5pbnRlcmNlcHRvcnMucmVxdWVzdC51c2UoZnVuY3Rpb24gKGNvbmZpZykgewogIHZhciB0b2tlbiA9IGdldFRva2VuKCk7CgogIGlmICh0b2tlbikgewogICAgY29uZmlnLmhlYWRlcnNbJ3Rva2VuJ10gPSB0b2tlbjsKICB9CgogIHJldHVybiBjb25maWc7Cn0sIGZ1bmN0aW9uIChlcnJvcikgewogIGNvbnNvbGUubG9nKGVycm9yKTsKICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IpOwp9KTsKc2VydmljZS5pbnRlcmNlcHRvcnMucmVzcG9uc2UudXNlKGZ1bmN0aW9uIChyZXNwb25zZSkgewogIHZhciByZXMgPSByZXNwb25zZS5kYXRhOwoKICBpZiAocmVzKSB7CiAgICBpZiAocmVzLnN1Y2Nlc3MgPT09IHRydWUgJiYgcmVzLmNvZGUgPT09IFJlc3VsdENvZGUuU1VDQ0VTUykgewogICAgICByZXR1cm4gcmVzOwogICAgfSBlbHNlIGlmIChyZXMuY29kZSA9PT0gUmVzdWx0Q29kZS5VU0VSX1JFX0xPR0lOKSB7CiAgICAgIC8vIOa4hemZpOeUqOaIt+aVsOaNrgogICAgICBzdG9yZS5kaXNwYXRjaCgndXNlckluZm8vcmVzZXRVc2VySW5mbycpOyAvLyDph43mlrDnmbvlvZXnirbmgIHnoIEs6YeN5a6a5ZCR5Yiw55m75b2V6aG16Z2iCgogICAgICByb3V0ZXIucHVzaCgiL2xvZ2luIik7CiAgICB9CiAgfQoKICB2YXIgZXJyb3IgPSByZXMgJiYgcmVzLm1lc3NhZ2UgfHwgJ+acquefpemUmeivryc7CiAgRWxNZXNzYWdlKHsKICAgIHR5cGU6ICdlcnJvcicsCiAgICBtZXNzYWdlOiBlcnJvciwKICAgIGR1cmF0aW9uOiA1MDAwLAogICAgc2hvd0Nsb3NlOiB0cnVlCiAgfSk7CiAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKTsKfSwgZnVuY3Rpb24gKGVycm9yKSB7CiAgRWxNZXNzYWdlKHsKICAgIHR5cGU6ICdlcnJvcicsCiAgICBtZXNzYWdlOiBlcnJvciwKICAgIGR1cmF0aW9uOiA1MDAwLAogICAgc2hvd0Nsb3NlOiB0cnVlCiAgfSk7CiAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKTsKfSk7CmV4cG9ydCBkZWZhdWx0IHNlcnZpY2U7"},{"version":3,"names":["axios","getToken","router","ResultCode","ElMessage","store","baseURL","service","create","timeout","interceptors","request","use","config","token","headers","error","console","log","Promise","reject","response","res","data","success","code","SUCCESS","USER_RE_LOGIN","dispatch","push","message","type","duration","showClose"],"sources":["D:/桌面/前端交互/final/LibraryManagementSystem-master/Library-vue/src/utils/request.js"],"sourcesContent":["import axios from \"axios\";\nimport {getToken} from \"@/utils/auth\";\nimport router from \"@/router\";\nimport ResultCode from '@/utils/RequestCode'\nimport {ElMessage} from \"element-plus\";\nimport store from '@/store'\n\n\nconst baseURL = 'http://127.0.0.1:8080/api'\n\nconst service = axios.create({\n  baseURL: baseURL,\n  timeout: 10000\n})\n\nservice.interceptors.request.use(\n  \n    config=>{\n      let token = getToken()\n      if(token){\n        config.headers['token'] = token\n      }\n      return config\n    },\n    error => {\n      console.log(error)\n      return Promise.reject(error)\n    }\n\n)\nservice.interceptors.response.use(\n    response=>{\n      let res = response.data\n      if(res){\n        if(res.success === true && res.code === ResultCode.SUCCESS){\n          return res\n        }else if(res.code === ResultCode.USER_RE_LOGIN){\n          // 清除用户数据\n          store.dispatch('userInfo/resetUserInfo')\n          // 重新登录状态码,重定向到登录页面\n          router.push(\"/login\")\n        }\n      }\n      let error = (res && res.message) || '未知错误'\n      ElMessage({\n        type: 'error',\n        message: error,\n        duration: 5000,\n        showClose: true\n      })\n      return Promise.reject(error)\n    },\n    error => {\n      ElMessage({\n        type: 'error',\n        message: error,\n        duration: 5000,\n        showClose: true\n      })\n      return Promise.reject(error)\n    }\n)\n\nexport default service\n"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAAQC,QAAR,QAAuB,cAAvB;AACA,OAAOC,MAAP,MAAmB,UAAnB;AACA,OAAOC,UAAP,MAAuB,qBAAvB;AACA,SAAQC,SAAR,QAAwB,cAAxB;AACA,OAAOC,KAAP,MAAkB,SAAlB;AAGA,IAAMC,OAAO,GAAG,2BAAhB;AAEA,IAAMC,OAAO,GAAGP,KAAK,CAACQ,MAAN,CAAa;EAC3BF,OAAO,EAAEA,OADkB;EAE3BG,OAAO,EAAE;AAFkB,CAAb,CAAhB;AAKAF,OAAO,CAACG,YAAR,CAAqBC,OAArB,CAA6BC,GAA7B,CAEI,UAAAC,MAAM,EAAE;EACN,IAAIC,KAAK,GAAGb,QAAQ,EAApB;;EACA,IAAGa,KAAH,EAAS;IACPD,MAAM,CAACE,OAAP,CAAe,OAAf,IAA0BD,KAA1B;EACD;;EACD,OAAOD,MAAP;AACD,CARL,EASI,UAAAG,KAAK,EAAI;EACPC,OAAO,CAACC,GAAR,CAAYF,KAAZ;EACA,OAAOG,OAAO,CAACC,MAAR,CAAeJ,KAAf,CAAP;AACD,CAZL;AAeAT,OAAO,CAACG,YAAR,CAAqBW,QAArB,CAA8BT,GAA9B,CACI,UAAAS,QAAQ,EAAE;EACR,IAAIC,GAAG,GAAGD,QAAQ,CAACE,IAAnB;;EACA,IAAGD,GAAH,EAAO;IACL,IAAGA,GAAG,CAACE,OAAJ,KAAgB,IAAhB,IAAwBF,GAAG,CAACG,IAAJ,KAAatB,UAAU,CAACuB,OAAnD,EAA2D;MACzD,OAAOJ,GAAP;IACD,CAFD,MAEM,IAAGA,GAAG,CAACG,IAAJ,KAAatB,UAAU,CAACwB,aAA3B,EAAyC;MAC7C;MACAtB,KAAK,CAACuB,QAAN,CAAe,wBAAf,EAF6C,CAG7C;;MACA1B,MAAM,CAAC2B,IAAP,CAAY,QAAZ;IACD;EACF;;EACD,IAAIb,KAAK,GAAIM,GAAG,IAAIA,GAAG,CAACQ,OAAZ,IAAwB,MAApC;EACA1B,SAAS,CAAC;IACR2B,IAAI,EAAE,OADE;IAERD,OAAO,EAAEd,KAFD;IAGRgB,QAAQ,EAAE,IAHF;IAIRC,SAAS,EAAE;EAJH,CAAD,CAAT;EAMA,OAAOd,OAAO,CAACC,MAAR,CAAeJ,KAAf,CAAP;AACD,CArBL,EAsBI,UAAAA,KAAK,EAAI;EACPZ,SAAS,CAAC;IACR2B,IAAI,EAAE,OADE;IAERD,OAAO,EAAEd,KAFD;IAGRgB,QAAQ,EAAE,IAHF;IAIRC,SAAS,EAAE;EAJH,CAAD,CAAT;EAMA,OAAOd,OAAO,CAACC,MAAR,CAAeJ,KAAf,CAAP;AACD,CA9BL;AAiCA,eAAeT,OAAf"}]}