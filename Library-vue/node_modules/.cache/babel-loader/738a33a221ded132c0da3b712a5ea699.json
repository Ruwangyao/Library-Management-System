{"remainingRequest":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\babel-loader\\lib\\index.js!D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\src\\views\\borrower\\BookReserveList\\index.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\src\\views\\borrower\\BookReserveList\\index.vue","mtime":1654054537000},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\babel.config.js","mtime":1654054537000},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\unplugin\\dist\\webpack\\loaders\\transform.js","mtime":1749726393299},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\unplugin\\dist\\webpack\\loaders\\transform.js","mtime":1749726393299},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\unplugin\\dist\\webpack\\loaders\\transform.js","mtime":1749726393299},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\unplugin\\dist\\webpack\\loaders\\transform.js","mtime":1749726393299},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1749726397539},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1749726398436},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1749726397539},{"path":"D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1749726393897}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tICJEOi9cdTY4NENcdTk3NjIvXHU1MjREXHU3QUVGXHU0RUE0XHU0RTkyL2ZpbmFsL0xpYnJhcnlNYW5hZ2VtZW50U3lzdGVtLW1hc3Rlci9MaWJyYXJ5LXZ1ZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vdG9Db25zdW1hYmxlQXJyYXkuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zcGxpY2UuanMiOwppbXBvcnQgeyBvbkJlZm9yZU1vdW50LCBzaGFsbG93UmVhY3RpdmUgfSBmcm9tICJ2dWUiOwppbXBvcnQgeyBnZXRQYWdlUmVzZXJ2ZUJvb2tJbmZvQXBpIH0gZnJvbSAiQC9hcGkvYm9ycm93ZXIiOwppbXBvcnQgeyB1c2VSb3V0ZXIgfSBmcm9tICJ2dWUtcm91dGVyIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJCb29rUmVzZXJ2ZUxpc3QiLAogIHNldHVwOiBmdW5jdGlvbiBzZXR1cCgpIHsKICAgIHZhciBwYWdpbmF0aW9uID0gc2hhbGxvd1JlYWN0aXZlKHsKICAgICAgY3VycmVudDogMSwKICAgICAgbGltaXQ6IDEwLAogICAgICB0b3RhbDogMAogICAgfSk7CgogICAgZnVuY3Rpb24gcGFnZUNoYW5nZSgpIHsKICAgICAgZ2V0UGFnZVJlc2VydmVCb29rSW5mbygpOwogICAgfSAvLyDpooTnuqbkv6Hmga/liJfooagKCgogICAgdmFyIHJlc2VydmVCb29rTGlzdCA9IHNoYWxsb3dSZWFjdGl2ZShbXSk7CgogICAgZnVuY3Rpb24gZ2V0UGFnZVJlc2VydmVCb29rSW5mbygpIHsKICAgICAgLy8g5YWI5riF6Zmk6aKE57qm5L+h5oGv5YiX6KGoCiAgICAgIHJlc2VydmVCb29rTGlzdC5zcGxpY2UoMCwgcmVzZXJ2ZUJvb2tMaXN0Lmxlbmd0aCk7CiAgICAgIGdldFBhZ2VSZXNlcnZlQm9va0luZm9BcGkocGFnaW5hdGlvbi5jdXJyZW50LCBwYWdpbmF0aW9uLmxpbWl0KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICByZXNlcnZlQm9va0xpc3QucHVzaC5hcHBseShyZXNlcnZlQm9va0xpc3QsIF90b0NvbnN1bWFibGVBcnJheShyZXMuZGF0YS5yZWNvcmRzKSk7CiAgICAgICAgcGFnaW5hdGlvbi50b3RhbCA9IHJlcy5kYXRhLnRvdGFsOwogICAgICB9KTsKICAgIH0KCiAgICBvbkJlZm9yZU1vdW50KGZ1bmN0aW9uICgpIHsKICAgICAgZ2V0UGFnZVJlc2VydmVCb29rSW5mbygpOwogICAgfSk7IC8vIOafpeeci+WbvuS5puivpuaDhQoKICAgIHZhciByb3V0ZXIgPSB1c2VSb3V0ZXIoKTsKCiAgICBmdW5jdGlvbiBnZXRCb29rRGV0YWlsKGJvb2tJZCkgewogICAgICByb3V0ZXIucHVzaCh7CiAgICAgICAgcGF0aDogIi9ib29rRGV0YWlsLyIuY29uY2F0KGJvb2tJZCkKICAgICAgfSk7CiAgICB9CgogICAgcmV0dXJuIHsKICAgICAgcGFnaW5hdGlvbjogcGFnaW5hdGlvbiwKICAgICAgcGFnZUNoYW5nZTogcGFnZUNoYW5nZSwKICAgICAgcmVzZXJ2ZUJvb2tMaXN0OiByZXNlcnZlQm9va0xpc3QsCiAgICAgIGdldEJvb2tEZXRhaWw6IGdldEJvb2tEZXRhaWwKICAgIH07CiAgfQp9Ow=="},{"version":3,"mappings":";;AAkCA,SAAQA,aAAR,EAAuBC,eAAvB,QAA6C,KAA7C;AACA,SAAQC,yBAAR,QAAwC,gBAAxC;AACA,SAAQC,SAAR,QAAwB,YAAxB;AAEA,eAAe;EACbC,IAAI,EAAE,iBADO;EAEbC,KAFa,mBAEN;IACL,IAAMC,UAAS,GAAIL,eAAe,CAAC;MACjCM,OAAO,EAAE,CADwB;MAEjCC,KAAK,EAAE,EAF0B;MAGjCC,KAAK,EAAE;IAH0B,CAAD,CAAlC;;IAKA,SAASC,UAAT,GAAqB;MACnBC,sBAAsB;IACxB,CARK,CAUL;;;IACA,IAAMC,eAAc,GAAIX,eAAe,CAAC,EAAD,CAAvC;;IACA,SAASU,sBAAT,GAAiC;MAC/B;MACAC,eAAe,CAACC,MAAhB,CAAuB,CAAvB,EAA0BD,eAAe,CAACE,MAA1C;MACAZ,yBAAyB,CAACI,UAAU,CAACC,OAAZ,EAAoBD,UAAU,CAACE,KAA/B,CAAzB,CACGO,IADH,CACQ,aAAG,EAAE;QACTH,eAAe,CAACI,IAAhB,sBAAe,qBAASC,GAAG,CAACC,IAAJ,CAASC,OAAlB,EAAf;QACAb,UAAU,CAACG,KAAX,GAAmBQ,GAAG,CAACC,IAAJ,CAAST,KAA5B;MACD,CAJH;IAKF;;IACAT,aAAa,CAAC,YAAI;MAChBW,sBAAsB;IACvB,CAFY,CAAb,CArBK,CA0BL;;IACA,IAAMS,MAAK,GAAIjB,SAAS,EAAxB;;IACA,SAASkB,aAAT,CAAuBC,MAAvB,EAA8B;MAC5BF,MAAM,CAACJ,IAAP,CAAY;QAACO,IAAI,wBAAgBD,MAAhB;MAAL,CAAZ;IACF;;IAEA,OAAO;MACLhB,UAAU,EAAVA,UADK;MACMI,UAAU,EAAVA,UADN;MAELE,eAAe,EAAfA,eAFK;MAEWS,aAAY,EAAZA;IAFX,CAAP;EAIF;AAtCa,CAAf","names":["onBeforeMount","shallowReactive","getPageReserveBookInfoApi","useRouter","name","setup","pagination","current","limit","total","pageChange","getPageReserveBookInfo","reserveBookList","splice","length","then","push","res","data","records","router","getBookDetail","bookId","path"],"sourceRoot":"","sources":["D:\\桌面\\前端交互\\final\\LibraryManagementSystem-master\\Library-vue\\src\\views\\borrower\\BookReserveList\\index.vue"],"sourcesContent":["<template>\n  <div class=\"bookReserveList\">\n    <el-table :data=\"reserveBookList\" border stripe highlight-current-row table-layout=\"auto\" flexible>\n      <el-table-column label=\"序号\" fixed=\"left\" align=\"center\">\n        <template #default=\"{$index}\">{{$index + 1 + (pagination.current - 1) * pagination.limit}}</template>\n      </el-table-column>\n      <el-table-column label=\"订单号\" prop=\"id\" align=\"center\"></el-table-column>\n      <el-table-column label=\"图书名称\" prop=\"bookName\" align=\"center\"></el-table-column>\n      <el-table-column label=\"预约时间\" prop=\"reserveTime\" align=\"center\"></el-table-column>\n      <el-table-column label=\"通知时间\" align=\"center\">\n        <template #default=\"{row}\">\n          <div v-if=\"row.notifyTime\">{{row.notifyTime}}</div>\n          <div v-else>暂未通知</div>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"订单状态\" prop=\"description\" align=\"center\"></el-table-column>\n      <el-table-column label=\"操作\" fixed=\"right\" align=\"center\" width=\"110px\">\n        <template #default=\"{row}\">\n          <div class=\"operation\">\n            <el-button @click=\"getBookDetail(row.bookId)\">查看图书</el-button>\n          </div>\n        </template>\n      </el-table-column>\n    </el-table>\n    <el-pagination\n        background layout=\"total, prev, pager, next\"\n        :total=\"pagination.total\"\n        :page-size=\"pagination.limit\"\n        v-model:current-page=\"pagination.current\"\n        @current-change=\"pageChange\"/>\n  </div>\n</template>\n\n<script>\nimport {onBeforeMount, shallowReactive} from \"vue\";\nimport {getPageReserveBookInfoApi} from \"@/api/borrower\";\nimport {useRouter} from \"vue-router\";\n\nexport default {\n  name: \"BookReserveList\",\n  setup(){\n    const pagination = shallowReactive({\n      current: 1,\n      limit: 10,\n      total: 0\n    })\n    function pageChange(){\n      getPageReserveBookInfo()\n    }\n\n    // 预约信息列表\n    const reserveBookList = shallowReactive([])\n    function getPageReserveBookInfo(){\n      // 先清除预约信息列表\n      reserveBookList.splice(0, reserveBookList.length)\n      getPageReserveBookInfoApi(pagination.current,pagination.limit)\n        .then(res=>{\n          reserveBookList.push(...res.data.records)\n          pagination.total = res.data.total\n        })\n    }\n    onBeforeMount(()=>{\n      getPageReserveBookInfo()\n    })\n\n\n    // 查看图书详情\n    const router = useRouter()\n    function getBookDetail(bookId){\n      router.push({path:`/bookDetail/${bookId}`})\n    }\n\n    return {\n      pagination,pageChange,\n      reserveBookList,getBookDetail\n    }\n  }\n}\n</script>\n\n<style scoped lang=\"scss\">\n.bookReserveList{\n  padding: 20px 30px 20px 30px;\n  .el-table{\n    .operation{\n      width: 100%;\n      height: 100%;\n      display: flex;\n      flex-direction: column;\n      align-items: center;\n      justify-content: center;\n      >*{\n        margin: 0 2px 10px 2px;\n      }\n    }\n  }\n  .el-pagination{\n    margin-top: 20px;\n  }\n}\n</style>\n"]}]}